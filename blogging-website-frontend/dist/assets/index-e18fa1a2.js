function Yx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function mr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dv={exports:{}},jl={},Uv={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ys=Symbol.for("react.element"),Xx=Symbol.for("react.portal"),Jx=Symbol.for("react.fragment"),Qx=Symbol.for("react.strict_mode"),Zx=Symbol.for("react.profiler"),ek=Symbol.for("react.provider"),tk=Symbol.for("react.context"),nk=Symbol.for("react.forward_ref"),rk=Symbol.for("react.suspense"),ok=Symbol.for("react.memo"),ik=Symbol.for("react.lazy"),gp=Symbol.iterator;function sk(t){return t===null||typeof t!="object"?null:(t=gp&&t[gp]||t["@@iterator"],typeof t=="function"?t:null)}var Fv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hv=Object.assign,zv={};function Yo(t,e,n){this.props=t,this.context=e,this.refs=zv,this.updater=n||Fv}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vv(){}Vv.prototype=Yo.prototype;function hh(t,e,n){this.props=t,this.context=e,this.refs=zv,this.updater=n||Fv}var fh=hh.prototype=new Vv;fh.constructor=hh;Hv(fh,Yo.prototype);fh.isPureReactComponent=!0;var vp=Array.isArray,$v=Object.prototype.hasOwnProperty,ph={current:null},Wv={key:!0,ref:!0,__self:!0,__source:!0};function Kv(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)$v.call(e,r)&&!Wv.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:ys,type:t,key:i,ref:s,props:o,_owner:ph.current}}function ak(t,e){return{$$typeof:ys,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ys}function lk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yp=/\/+/g;function Ic(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lk(""+t.key):e.toString(36)}function ha(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ys:case Xx:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+Ic(s,0):r,vp(o)?(n="",t!=null&&(n=t.replace(yp,"$&/")+"/"),ha(o,e,n,"",function(c){return c})):o!=null&&(mh(o)&&(o=ak(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(yp,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",vp(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ic(i,a);s+=ha(i,e,n,l,o)}else if(l=sk(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ic(i,a++),s+=ha(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Fs(t,e,n){if(t==null)return t;var r=[],o=0;return ha(t,r,"","",function(i){return e.call(n,i,o++)}),r}function ck(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rt={current:null},fa={transition:null},uk={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:fa,ReactCurrentOwner:ph};Q.Children={map:Fs,forEach:function(t,e,n){Fs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fs(t,function(){e++}),e},toArray:function(t){return Fs(t,function(e){return e})||[]},only:function(t){if(!mh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Component=Yo;Q.Fragment=Jx;Q.Profiler=Zx;Q.PureComponent=hh;Q.StrictMode=Qx;Q.Suspense=rk;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uk;Q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hv({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=ph.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$v.call(e,l)&&!Wv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ys,type:t.type,key:o,ref:i,props:r,_owner:s}};Q.createContext=function(t){return t={$$typeof:tk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ek,_context:t},t.Consumer=t};Q.createElement=Kv;Q.createFactory=function(t){var e=Kv.bind(null,t);return e.type=t,e};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:nk,render:t}};Q.isValidElement=mh;Q.lazy=function(t){return{$$typeof:ik,_payload:{_status:-1,_result:t},_init:ck}};Q.memo=function(t,e){return{$$typeof:ok,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=fa.transition;fa.transition={};try{t()}finally{fa.transition=e}};Q.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Q.useCallback=function(t,e){return rt.current.useCallback(t,e)};Q.useContext=function(t){return rt.current.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t){return rt.current.useDeferredValue(t)};Q.useEffect=function(t,e){return rt.current.useEffect(t,e)};Q.useId=function(){return rt.current.useId()};Q.useImperativeHandle=function(t,e,n){return rt.current.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return rt.current.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return rt.current.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return rt.current.useMemo(t,e)};Q.useReducer=function(t,e,n){return rt.current.useReducer(t,e,n)};Q.useRef=function(t){return rt.current.useRef(t)};Q.useState=function(t){return rt.current.useState(t)};Q.useSyncExternalStore=function(t,e,n){return rt.current.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return rt.current.useTransition()};Q.version="18.2.0";Uv.exports=Q;var N=Uv.exports;const gh=mr(N),dk=Yx({__proto__:null,default:gh},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk=N,fk=Symbol.for("react.element"),pk=Symbol.for("react.fragment"),mk=Object.prototype.hasOwnProperty,gk=hk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vk={key:!0,ref:!0,__self:!0,__source:!0};function qv(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)mk.call(e,r)&&!vk.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:fk,type:t,key:i,ref:s,props:o,_owner:gk.current}}jl.Fragment=pk;jl.jsx=qv;jl.jsxs=qv;Dv.exports=jl;var b=Dv.exports,Pu={},Gv={exports:{}},wt={},Yv={exports:{}},Xv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,j){var H=L.length;L.push(j);e:for(;0<H;){var z=H-1>>>1,Y=L[z];if(0<o(Y,j))L[z]=j,L[H]=Y,H=z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var j=L[0],H=L.pop();if(H!==j){L[0]=H;e:for(var z=0,Y=L.length,Ye=Y>>>1;z<Ye;){var J=2*(z+1)-1,Fe=L[J],be=J+1,Xe=L[be];if(0>o(Fe,H))be<Y&&0>o(Xe,Fe)?(L[z]=Xe,L[be]=H,z=be):(L[z]=Fe,L[J]=H,z=J);else if(be<Y&&0>o(Xe,H))L[z]=Xe,L[be]=H,z=be;else break e}}return j}function o(L,j){var H=L.sortIndex-j.sortIndex;return H!==0?H:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,p=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(L){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=L)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function w(L){if(v=!1,f(L),!p)if(n(l)!==null)p=!0,B(S);else{var j=n(c);j!==null&&D(w,j.startTime-L)}}function S(L,j){p=!1,v&&(v=!1,k(y),y=-1),m=!0;var H=h;try{for(f(j),d=n(l);d!==null&&(!(d.expirationTime>j)||L&&!C());){var z=d.callback;if(typeof z=="function"){d.callback=null,h=d.priorityLevel;var Y=z(d.expirationTime<=j);j=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(l)&&r(l),f(j)}else r(l);d=n(l)}if(d!==null)var Ye=!0;else{var J=n(c);J!==null&&D(w,J.startTime-j),Ye=!1}return Ye}finally{d=null,h=H,m=!1}}var _=!1,P=null,y=-1,x=5,T=-1;function C(){return!(t.unstable_now()-T<x)}function A(){if(P!==null){var L=t.unstable_now();T=L;var j=!0;try{j=P(!0,L)}finally{j?R():(_=!1,P=null)}}else _=!1}var R;if(typeof g=="function")R=function(){g(A)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,I=O.port2;O.port1.onmessage=A,R=function(){I.postMessage(null)}}else R=function(){E(A,0)};function B(L){P=L,_||(_=!0,R())}function D(L,j){y=E(function(){L(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,B(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var H=h;h=j;try{return L()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=h;h=L;try{return j()}finally{h=H}},t.unstable_scheduleCallback=function(L,j,H){var z=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?z+H:z):H=z,L){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,L={id:u++,callback:j,priorityLevel:L,startTime:H,expirationTime:Y,sortIndex:-1},H>z?(L.sortIndex=H,e(c,L),n(l)===null&&L===n(c)&&(v?(k(y),y=-1):v=!0,D(w,H-z))):(L.sortIndex=Y,e(l,L),p||m||(p=!0,B(S))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var j=h;return function(){var H=h;h=j;try{return L.apply(this,arguments)}finally{h=H}}}})(Xv);Yv.exports=Xv;var yk=Yv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv=N,yt=yk;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qv=new Set,Wi={};function Yr(t,e){Oo(t,e),Oo(t+"Capture",e)}function Oo(t,e){for(Wi[t]=e,t=0;t<e.length;t++)Qv.add(e[t])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=Object.prototype.hasOwnProperty,bk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bp={},wp={};function wk(t){return Nu.call(wp,t)?!0:Nu.call(bp,t)?!1:bk.test(t)?wp[t]=!0:(bp[t]=!0,!1)}function xk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kk(t,e,n,r){if(e===null||typeof e>"u"||xk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ot(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var vh=/[\-:]([a-z])/g;function yh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vh,yh);Ue[e]=new ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vh,yh);Ue[e]=new ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vh,yh);Ue[e]=new ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new ot(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function bh(t,e,n,r){var o=Ue.hasOwnProperty(e)?Ue[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kk(e,n,o,r)&&(n=null),r||o===null?wk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var An=Jv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hs=Symbol.for("react.element"),co=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),wh=Symbol.for("react.strict_mode"),Ru=Symbol.for("react.profiler"),Zv=Symbol.for("react.provider"),ey=Symbol.for("react.context"),xh=Symbol.for("react.forward_ref"),Bu=Symbol.for("react.suspense"),Ou=Symbol.for("react.suspense_list"),kh=Symbol.for("react.memo"),Mn=Symbol.for("react.lazy"),ty=Symbol.for("react.offscreen"),xp=Symbol.iterator;function ai(t){return t===null||typeof t!="object"?null:(t=xp&&t[xp]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,Ac;function wi(t){if(Ac===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ac=e&&e[1]||""}return`
`+Ac+t}var Pc=!1;function Nc(t,e){if(!t||Pc)return"";Pc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Pc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wi(t):""}function Sk(t){switch(t.tag){case 5:return wi(t.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 2:case 15:return t=Nc(t.type,!1),t;case 11:return t=Nc(t.type.render,!1),t;case 1:return t=Nc(t.type,!0),t;default:return""}}function Lu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uo:return"Fragment";case co:return"Portal";case Ru:return"Profiler";case wh:return"StrictMode";case Bu:return"Suspense";case Ou:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ey:return(t.displayName||"Context")+".Consumer";case Zv:return(t._context.displayName||"Context")+".Provider";case xh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kh:return e=t.displayName||null,e!==null?e:Lu(t.type)||"Memo";case Mn:e=t._payload,t=t._init;try{return Lu(t(e))}catch{}}return null}function Ek(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lu(e);case 8:return e===wh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ny(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ck(t){var e=ny(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zs(t){t._valueTracker||(t._valueTracker=Ck(t))}function ry(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ny(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mu(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ur(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oy(t,e){e=e.checked,e!=null&&bh(t,"checked",e,!1)}function ju(t,e){oy(t,e);var n=ur(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Du(t,e.type,n):e.hasOwnProperty("defaultValue")&&Du(t,e.type,ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Du(t,e,n){(e!=="number"||Fa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xi=Array.isArray;function To(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ur(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Uu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ep(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(xi(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ur(n)}}function iy(t,e){var n=ur(e.value),r=ur(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vs,ay=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vs=Vs||document.createElement("div"),Vs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ki(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tk=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(t){Tk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_i[e]=_i[t]})});function ly(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_i.hasOwnProperty(t)&&_i[t]?(""+e).trim():e+"px"}function cy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=ly(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var _k=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hu(t,e){if(e){if(_k[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function zu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=null;function Sh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $u=null,_o=null,Io=null;function Tp(t){if(t=xs(t)){if(typeof $u!="function")throw Error(F(280));var e=t.stateNode;e&&(e=zl(e),$u(t.stateNode,t.type,e))}}function uy(t){_o?Io?Io.push(t):Io=[t]:_o=t}function dy(){if(_o){var t=_o,e=Io;if(Io=_o=null,Tp(t),e)for(t=0;t<e.length;t++)Tp(e[t])}}function hy(t,e){return t(e)}function fy(){}var Rc=!1;function py(t,e,n){if(Rc)return t(e,n);Rc=!0;try{return hy(t,e,n)}finally{Rc=!1,(_o!==null||Io!==null)&&(fy(),dy())}}function qi(t,e){var n=t.stateNode;if(n===null)return null;var r=zl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Wu=!1;if(xn)try{var li={};Object.defineProperty(li,"passive",{get:function(){Wu=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{Wu=!1}function Ik(t,e,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ii=!1,Ha=null,za=!1,Ku=null,Ak={onError:function(t){Ii=!0,Ha=t}};function Pk(t,e,n,r,o,i,s,a,l){Ii=!1,Ha=null,Ik.apply(Ak,arguments)}function Nk(t,e,n,r,o,i,s,a,l){if(Pk.apply(this,arguments),Ii){if(Ii){var c=Ha;Ii=!1,Ha=null}else throw Error(F(198));za||(za=!0,Ku=c)}}function Xr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function my(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _p(t){if(Xr(t)!==t)throw Error(F(188))}function Rk(t){var e=t.alternate;if(!e){if(e=Xr(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return _p(o),t;if(i===r)return _p(o),e;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function gy(t){return t=Rk(t),t!==null?vy(t):null}function vy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vy(t);if(e!==null)return e;t=t.sibling}return null}var yy=yt.unstable_scheduleCallback,Ip=yt.unstable_cancelCallback,Bk=yt.unstable_shouldYield,Ok=yt.unstable_requestPaint,xe=yt.unstable_now,Lk=yt.unstable_getCurrentPriorityLevel,Eh=yt.unstable_ImmediatePriority,by=yt.unstable_UserBlockingPriority,Va=yt.unstable_NormalPriority,Mk=yt.unstable_LowPriority,wy=yt.unstable_IdlePriority,Dl=null,Gt=null;function jk(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Dl,t,void 0,(t.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Fk,Dk=Math.log,Uk=Math.LN2;function Fk(t){return t>>>=0,t===0?32:31-(Dk(t)/Uk|0)|0}var $s=64,Ws=4194304;function ki(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $a(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=ki(a):(i&=s,i!==0&&(r=ki(i)))}else s=n&~o,s!==0?r=ki(s):i!==0&&(r=ki(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dt(e),o=1<<n,r|=t[n],e&=~o;return r}function Hk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Dt(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=Hk(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function qu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xy(){var t=$s;return $s<<=1,!($s&4194240)&&($s=64),t}function Bc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dt(e),t[e]=n}function Vk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Dt(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function Ch(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dt(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var ne=0;function ky(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sy,Th,Ey,Cy,Ty,Gu=!1,Ks=[],Xn=null,Jn=null,Qn=null,Gi=new Map,Yi=new Map,Un=[],$k="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ap(t,e){switch(t){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":Gi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(e.pointerId)}}function ci(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=xs(e),e!==null&&Th(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Wk(t,e,n,r,o){switch(e){case"focusin":return Xn=ci(Xn,t,e,n,r,o),!0;case"dragenter":return Jn=ci(Jn,t,e,n,r,o),!0;case"mouseover":return Qn=ci(Qn,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Gi.set(i,ci(Gi.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Yi.set(i,ci(Yi.get(i)||null,t,e,n,r,o)),!0}return!1}function _y(t){var e=Ir(t.target);if(e!==null){var n=Xr(e);if(n!==null){if(e=n.tag,e===13){if(e=my(n),e!==null){t.blockedOn=e,Ty(t.priority,function(){Ey(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vu=r,n.target.dispatchEvent(r),Vu=null}else return e=xs(n),e!==null&&Th(e),t.blockedOn=n,!1;e.shift()}return!0}function Pp(t,e,n){pa(t)&&n.delete(e)}function Kk(){Gu=!1,Xn!==null&&pa(Xn)&&(Xn=null),Jn!==null&&pa(Jn)&&(Jn=null),Qn!==null&&pa(Qn)&&(Qn=null),Gi.forEach(Pp),Yi.forEach(Pp)}function ui(t,e){t.blockedOn===e&&(t.blockedOn=null,Gu||(Gu=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,Kk)))}function Xi(t){function e(o){return ui(o,t)}if(0<Ks.length){ui(Ks[0],t);for(var n=1;n<Ks.length;n++){var r=Ks[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xn!==null&&ui(Xn,t),Jn!==null&&ui(Jn,t),Qn!==null&&ui(Qn,t),Gi.forEach(e),Yi.forEach(e),n=0;n<Un.length;n++)r=Un[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Un.length&&(n=Un[0],n.blockedOn===null);)_y(n),n.blockedOn===null&&Un.shift()}var Ao=An.ReactCurrentBatchConfig,Wa=!0;function qk(t,e,n,r){var o=ne,i=Ao.transition;Ao.transition=null;try{ne=1,_h(t,e,n,r)}finally{ne=o,Ao.transition=i}}function Gk(t,e,n,r){var o=ne,i=Ao.transition;Ao.transition=null;try{ne=4,_h(t,e,n,r)}finally{ne=o,Ao.transition=i}}function _h(t,e,n,r){if(Wa){var o=Yu(t,e,n,r);if(o===null)Vc(t,e,r,Ka,n),Ap(t,r);else if(Wk(o,t,e,n,r))r.stopPropagation();else if(Ap(t,r),e&4&&-1<$k.indexOf(t)){for(;o!==null;){var i=xs(o);if(i!==null&&Sy(i),i=Yu(t,e,n,r),i===null&&Vc(t,e,r,Ka,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Vc(t,e,r,null,n)}}var Ka=null;function Yu(t,e,n,r){if(Ka=null,t=Sh(r),t=Ir(t),t!==null)if(e=Xr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=my(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ka=t,null}function Iy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lk()){case Eh:return 1;case by:return 4;case Va:case Mk:return 16;case wy:return 536870912;default:return 16}default:return 16}}var qn=null,Ih=null,ma=null;function Ay(){if(ma)return ma;var t,e=Ih,n=e.length,r,o="value"in qn?qn.value:qn.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return ma=o.slice(t,1<r?1-r:void 0)}function ga(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qs(){return!0}function Np(){return!1}function xt(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qs:Np,this.isPropagationStopped=Np,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),e}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ah=xt(Xo),ws=ge({},Xo,{view:0,detail:0}),Yk=xt(ws),Oc,Lc,di,Ul=ge({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ph,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(Oc=t.screenX-di.screenX,Lc=t.screenY-di.screenY):Lc=Oc=0,di=t),Oc)},movementY:function(t){return"movementY"in t?t.movementY:Lc}}),Rp=xt(Ul),Xk=ge({},Ul,{dataTransfer:0}),Jk=xt(Xk),Qk=ge({},ws,{relatedTarget:0}),Mc=xt(Qk),Zk=ge({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),eS=xt(Zk),tS=ge({},Xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nS=xt(tS),rS=ge({},Xo,{data:0}),Bp=xt(rS),oS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sS[t])?!!e[t]:!1}function Ph(){return aS}var lS=ge({},ws,{key:function(t){if(t.key){var e=oS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ga(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ph,charCode:function(t){return t.type==="keypress"?ga(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ga(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cS=xt(lS),uS=ge({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Op=xt(uS),dS=ge({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ph}),hS=xt(dS),fS=ge({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),pS=xt(fS),mS=ge({},Ul,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gS=xt(mS),vS=[9,13,27,32],Nh=xn&&"CompositionEvent"in window,Ai=null;xn&&"documentMode"in document&&(Ai=document.documentMode);var yS=xn&&"TextEvent"in window&&!Ai,Py=xn&&(!Nh||Ai&&8<Ai&&11>=Ai),Lp=String.fromCharCode(32),Mp=!1;function Ny(t,e){switch(t){case"keyup":return vS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ry(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ho=!1;function bS(t,e){switch(t){case"compositionend":return Ry(e);case"keypress":return e.which!==32?null:(Mp=!0,Lp);case"textInput":return t=e.data,t===Lp&&Mp?null:t;default:return null}}function wS(t,e){if(ho)return t==="compositionend"||!Nh&&Ny(t,e)?(t=Ay(),ma=Ih=qn=null,ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Py&&e.locale!=="ko"?null:e.data;default:return null}}var xS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xS[t.type]:e==="textarea"}function By(t,e,n,r){uy(r),e=qa(e,"onChange"),0<e.length&&(n=new Ah("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pi=null,Ji=null;function kS(t){$y(t,0)}function Fl(t){var e=mo(t);if(ry(e))return t}function SS(t,e){if(t==="change")return e}var Oy=!1;if(xn){var jc;if(xn){var Dc="oninput"in document;if(!Dc){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),Dc=typeof Dp.oninput=="function"}jc=Dc}else jc=!1;Oy=jc&&(!document.documentMode||9<document.documentMode)}function Up(){Pi&&(Pi.detachEvent("onpropertychange",Ly),Ji=Pi=null)}function Ly(t){if(t.propertyName==="value"&&Fl(Ji)){var e=[];By(e,Ji,t,Sh(t)),py(kS,e)}}function ES(t,e,n){t==="focusin"?(Up(),Pi=e,Ji=n,Pi.attachEvent("onpropertychange",Ly)):t==="focusout"&&Up()}function CS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fl(Ji)}function TS(t,e){if(t==="click")return Fl(e)}function _S(t,e){if(t==="input"||t==="change")return Fl(e)}function IS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ft=typeof Object.is=="function"?Object.is:IS;function Qi(t,e){if(Ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Nu.call(e,o)||!Ft(t[o],e[o]))return!1}return!0}function Fp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hp(t,e){var n=Fp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fp(n)}}function My(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?My(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jy(){for(var t=window,e=Fa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fa(t.document)}return e}function Rh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AS(t){var e=jy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&My(n.ownerDocument.documentElement,n)){if(r!==null&&Rh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Hp(n,i);var s=Hp(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PS=xn&&"documentMode"in document&&11>=document.documentMode,fo=null,Xu=null,Ni=null,Ju=!1;function zp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ju||fo==null||fo!==Fa(r)||(r=fo,"selectionStart"in r&&Rh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ni&&Qi(Ni,r)||(Ni=r,r=qa(Xu,"onSelect"),0<r.length&&(e=new Ah("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fo)))}function Gs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var po={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},Uc={},Dy={};xn&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Hl(t){if(Uc[t])return Uc[t];if(!po[t])return t;var e=po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dy)return Uc[t]=e[n];return t}var Uy=Hl("animationend"),Fy=Hl("animationiteration"),Hy=Hl("animationstart"),zy=Hl("transitionend"),Vy=new Map,Vp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(t,e){Vy.set(t,e),Yr(e,[t])}for(var Fc=0;Fc<Vp.length;Fc++){var Hc=Vp[Fc],NS=Hc.toLowerCase(),RS=Hc[0].toUpperCase()+Hc.slice(1);gr(NS,"on"+RS)}gr(Uy,"onAnimationEnd");gr(Fy,"onAnimationIteration");gr(Hy,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr(zy,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Si));function $p(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Nk(r,e,void 0,t),t.currentTarget=null}function $y(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;$p(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;$p(o,a,c),i=l}}}if(za)throw t=Ku,za=!1,Ku=null,t}function ae(t,e){var n=e[nd];n===void 0&&(n=e[nd]=new Set);var r=t+"__bubble";n.has(r)||(Wy(e,t,2,!1),n.add(r))}function zc(t,e,n){var r=0;e&&(r|=4),Wy(n,t,r,e)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function Zi(t){if(!t[Ys]){t[Ys]=!0,Qv.forEach(function(n){n!=="selectionchange"&&(BS.has(n)||zc(n,!1,t),zc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ys]||(e[Ys]=!0,zc("selectionchange",!1,e))}}function Wy(t,e,n,r){switch(Iy(e)){case 1:var o=qk;break;case 4:o=Gk;break;default:o=_h}n=o.bind(null,e,n,t),o=void 0,!Wu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Vc(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Ir(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}py(function(){var c=i,u=Sh(n),d=[];e:{var h=Vy.get(t);if(h!==void 0){var m=Ah,p=t;switch(t){case"keypress":if(ga(n)===0)break e;case"keydown":case"keyup":m=cS;break;case"focusin":p="focus",m=Mc;break;case"focusout":p="blur",m=Mc;break;case"beforeblur":case"afterblur":m=Mc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Jk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hS;break;case Uy:case Fy:case Hy:m=eS;break;case zy:m=pS;break;case"scroll":m=Yk;break;case"wheel":m=gS;break;case"copy":case"cut":case"paste":m=nS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Op}var v=(e&4)!==0,E=!v&&t==="scroll",k=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,f;g!==null;){f=g;var w=f.stateNode;if(f.tag===5&&w!==null&&(f=w,k!==null&&(w=qi(g,k),w!=null&&v.push(es(g,w,f)))),E)break;g=g.return}0<v.length&&(h=new m(h,p,null,n,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Vu&&(p=n.relatedTarget||n.fromElement)&&(Ir(p)||p[kn]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?Ir(p):null,p!==null&&(E=Xr(p),p!==E||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(v=Rp,w="onMouseLeave",k="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=Op,w="onPointerLeave",k="onPointerEnter",g="pointer"),E=m==null?h:mo(m),f=p==null?h:mo(p),h=new v(w,g+"leave",m,n,u),h.target=E,h.relatedTarget=f,w=null,Ir(u)===c&&(v=new v(k,g+"enter",p,n,u),v.target=f,v.relatedTarget=E,w=v),E=w,m&&p)t:{for(v=m,k=p,g=0,f=v;f;f=no(f))g++;for(f=0,w=k;w;w=no(w))f++;for(;0<g-f;)v=no(v),g--;for(;0<f-g;)k=no(k),f--;for(;g--;){if(v===k||k!==null&&v===k.alternate)break t;v=no(v),k=no(k)}v=null}else v=null;m!==null&&Wp(d,h,m,v,!1),p!==null&&E!==null&&Wp(d,E,p,v,!0)}}e:{if(h=c?mo(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=SS;else if(jp(h))if(Oy)S=_S;else{S=CS;var _=ES}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=TS);if(S&&(S=S(t,c))){By(d,S,n,u);break e}_&&_(t,h,c),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Du(h,"number",h.value)}switch(_=c?mo(c):window,t){case"focusin":(jp(_)||_.contentEditable==="true")&&(fo=_,Xu=c,Ni=null);break;case"focusout":Ni=Xu=fo=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,zp(d,n,u);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":zp(d,n,u)}var P;if(Nh)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ho?Ny(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Py&&n.locale!=="ko"&&(ho||y!=="onCompositionStart"?y==="onCompositionEnd"&&ho&&(P=Ay()):(qn=u,Ih="value"in qn?qn.value:qn.textContent,ho=!0)),_=qa(c,y),0<_.length&&(y=new Bp(y,t,null,n,u),d.push({event:y,listeners:_}),P?y.data=P:(P=Ry(n),P!==null&&(y.data=P)))),(P=yS?bS(t,n):wS(t,n))&&(c=qa(c,"onBeforeInput"),0<c.length&&(u=new Bp("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=P))}$y(d,e)})}function es(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qa(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=qi(t,n),i!=null&&r.unshift(es(t,i,o)),i=qi(t,e),i!=null&&r.push(es(t,i,o))),t=t.return}return r}function no(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wp(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=qi(n,i),l!=null&&s.unshift(es(n,l,a))):o||(l=qi(n,i),l!=null&&s.push(es(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var OS=/\r\n?/g,LS=/\u0000|\uFFFD/g;function Kp(t){return(typeof t=="string"?t:""+t).replace(OS,`
`).replace(LS,"")}function Xs(t,e,n){if(e=Kp(e),Kp(t)!==e&&n)throw Error(F(425))}function Ga(){}var Qu=null,Zu=null;function ed(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var td=typeof setTimeout=="function"?setTimeout:void 0,MS=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(t){return qp.resolve(null).then(t).catch(DS)}:td;function DS(t){setTimeout(function(){throw t})}function $c(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Xi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Xi(e)}function Zn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Jo,ts="__reactProps$"+Jo,kn="__reactContainer$"+Jo,nd="__reactEvents$"+Jo,US="__reactListeners$"+Jo,FS="__reactHandles$"+Jo;function Ir(t){var e=t[Wt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kn]||n[Wt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gp(t);t!==null;){if(n=t[Wt])return n;t=Gp(t)}return e}t=n,n=t.parentNode}return null}function xs(t){return t=t[Wt]||t[kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function zl(t){return t[ts]||null}var rd=[],go=-1;function vr(t){return{current:t}}function ce(t){0>go||(t.current=rd[go],rd[go]=null,go--)}function ie(t,e){go++,rd[go]=t.current,t.current=e}var dr={},qe=vr(dr),ct=vr(!1),Dr=dr;function Lo(t,e){var n=t.type.contextTypes;if(!n)return dr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function ut(t){return t=t.childContextTypes,t!=null}function Ya(){ce(ct),ce(qe)}function Yp(t,e,n){if(qe.current!==dr)throw Error(F(168));ie(qe,e),ie(ct,n)}function Ky(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(F(108,Ek(t)||"Unknown",o));return ge({},n,r)}function Xa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dr,Dr=qe.current,ie(qe,t),ie(ct,ct.current),!0}function Xp(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=Ky(t,e,Dr),r.__reactInternalMemoizedMergedChildContext=t,ce(ct),ce(qe),ie(qe,t)):ce(ct),ie(ct,n)}var an=null,Vl=!1,Wc=!1;function qy(t){an===null?an=[t]:an.push(t)}function HS(t){Vl=!0,qy(t)}function yr(){if(!Wc&&an!==null){Wc=!0;var t=0,e=ne;try{var n=an;for(ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}an=null,Vl=!1}catch(o){throw an!==null&&(an=an.slice(t+1)),yy(Eh,yr),o}finally{ne=e,Wc=!1}}return null}var vo=[],yo=0,Ja=null,Qa=0,Et=[],Ct=0,Ur=null,cn=1,un="";function Sr(t,e){vo[yo++]=Qa,vo[yo++]=Ja,Ja=t,Qa=e}function Gy(t,e,n){Et[Ct++]=cn,Et[Ct++]=un,Et[Ct++]=Ur,Ur=t;var r=cn;t=un;var o=32-Dt(r)-1;r&=~(1<<o),n+=1;var i=32-Dt(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,cn=1<<32-Dt(e)+o|n<<o|r,un=i+t}else cn=1<<i|n<<o|r,un=t}function Bh(t){t.return!==null&&(Sr(t,1),Gy(t,1,0))}function Oh(t){for(;t===Ja;)Ja=vo[--yo],vo[yo]=null,Qa=vo[--yo],vo[yo]=null;for(;t===Ur;)Ur=Et[--Ct],Et[Ct]=null,un=Et[--Ct],Et[Ct]=null,cn=Et[--Ct],Et[Ct]=null}var gt=null,pt=null,de=!1,Lt=null;function Yy(t,e){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gt=t,pt=Zn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gt=t,pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ur!==null?{id:cn,overflow:un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gt=t,pt=null,!0):!1;default:return!1}}function od(t){return(t.mode&1)!==0&&(t.flags&128)===0}function id(t){if(de){var e=pt;if(e){var n=e;if(!Jp(t,e)){if(od(t))throw Error(F(418));e=Zn(n.nextSibling);var r=gt;e&&Jp(t,e)?Yy(r,n):(t.flags=t.flags&-4097|2,de=!1,gt=t)}}else{if(od(t))throw Error(F(418));t.flags=t.flags&-4097|2,de=!1,gt=t}}}function Qp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gt=t}function Js(t){if(t!==gt)return!1;if(!de)return Qp(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ed(t.type,t.memoizedProps)),e&&(e=pt)){if(od(t))throw Xy(),Error(F(418));for(;e;)Yy(t,e),e=Zn(e.nextSibling)}if(Qp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pt=Zn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pt=null}}else pt=gt?Zn(t.stateNode.nextSibling):null;return!0}function Xy(){for(var t=pt;t;)t=Zn(t.nextSibling)}function Mo(){pt=gt=null,de=!1}function Lh(t){Lt===null?Lt=[t]:Lt.push(t)}var zS=An.ReactCurrentBatchConfig;function Bt(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Za=vr(null),el=null,bo=null,Mh=null;function jh(){Mh=bo=el=null}function Dh(t){var e=Za.current;ce(Za),t._currentValue=e}function sd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Po(t,e){el=t,Mh=bo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(at=!0),t.firstContext=null)}function At(t){var e=t._currentValue;if(Mh!==t)if(t={context:t,memoizedValue:e,next:null},bo===null){if(el===null)throw Error(F(308));bo=t,el.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var Ar=null;function Uh(t){Ar===null?Ar=[t]:Ar.push(t)}function Jy(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Uh(e)):(n.next=o.next,o.next=n),e.interleaved=n,Sn(t,r)}function Sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jn=!1;function Fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function er(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Sn(t,n)}return o=r.interleaved,o===null?(e.next=e,Uh(r)):(e.next=o.next,o.next=e),r.interleaved=e,Sn(t,n)}function va(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ch(t,n)}}function Zp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tl(t,e,n,r){var o=t.updateQueue;jn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,u=c=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(h=e,m=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(m,d,h):p,h==null)break e;d=ge({},d,h);break e;case 2:jn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Hr|=s,t.lanes=s,t.memoizedState=d}}function em(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(F(191,o));o.call(r)}}}var Zy=new Jv.Component().refs;function ad(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $l={isMounted:function(t){return(t=t._reactInternals)?Xr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nt(),o=nr(t),i=gn(r,o);i.payload=e,n!=null&&(i.callback=n),e=er(t,i,o),e!==null&&(Ut(e,t,o,r),va(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nt(),o=nr(t),i=gn(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=er(t,i,o),e!==null&&(Ut(e,t,o,r),va(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nt(),r=nr(t),o=gn(n,r);o.tag=2,e!=null&&(o.callback=e),e=er(t,o,r),e!==null&&(Ut(e,t,r,n),va(e,t,r))}};function tm(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Qi(n,r)||!Qi(o,i):!0}function e0(t,e,n){var r=!1,o=dr,i=e.contextType;return typeof i=="object"&&i!==null?i=At(i):(o=ut(e)?Dr:qe.current,r=e.contextTypes,i=(r=r!=null)?Lo(t,o):dr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$l,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function nm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$l.enqueueReplaceState(e,e.state,null)}function ld(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=Zy,Fh(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=At(i):(i=ut(e)?Dr:qe.current,o.context=Lo(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ad(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&$l.enqueueReplaceState(o,o.state,null),tl(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function hi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;a===Zy&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function Qs(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rm(t){var e=t._init;return e(t._payload)}function t0(t){function e(k,g){if(t){var f=k.deletions;f===null?(k.deletions=[g],k.flags|=16):f.push(g)}}function n(k,g){if(!t)return null;for(;g!==null;)e(k,g),g=g.sibling;return null}function r(k,g){for(k=new Map;g!==null;)g.key!==null?k.set(g.key,g):k.set(g.index,g),g=g.sibling;return k}function o(k,g){return k=rr(k,g),k.index=0,k.sibling=null,k}function i(k,g,f){return k.index=f,t?(f=k.alternate,f!==null?(f=f.index,f<g?(k.flags|=2,g):f):(k.flags|=2,g)):(k.flags|=1048576,g)}function s(k){return t&&k.alternate===null&&(k.flags|=2),k}function a(k,g,f,w){return g===null||g.tag!==6?(g=Qc(f,k.mode,w),g.return=k,g):(g=o(g,f),g.return=k,g)}function l(k,g,f,w){var S=f.type;return S===uo?u(k,g,f.props.children,w,f.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mn&&rm(S)===g.type)?(w=o(g,f.props),w.ref=hi(k,g,f),w.return=k,w):(w=Sa(f.type,f.key,f.props,null,k.mode,w),w.ref=hi(k,g,f),w.return=k,w)}function c(k,g,f,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==f.containerInfo||g.stateNode.implementation!==f.implementation?(g=Zc(f,k.mode,w),g.return=k,g):(g=o(g,f.children||[]),g.return=k,g)}function u(k,g,f,w,S){return g===null||g.tag!==7?(g=Or(f,k.mode,w,S),g.return=k,g):(g=o(g,f),g.return=k,g)}function d(k,g,f){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Qc(""+g,k.mode,f),g.return=k,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Hs:return f=Sa(g.type,g.key,g.props,null,k.mode,f),f.ref=hi(k,null,g),f.return=k,f;case co:return g=Zc(g,k.mode,f),g.return=k,g;case Mn:var w=g._init;return d(k,w(g._payload),f)}if(xi(g)||ai(g))return g=Or(g,k.mode,f,null),g.return=k,g;Qs(k,g)}return null}function h(k,g,f,w){var S=g!==null?g.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return S!==null?null:a(k,g,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Hs:return f.key===S?l(k,g,f,w):null;case co:return f.key===S?c(k,g,f,w):null;case Mn:return S=f._init,h(k,g,S(f._payload),w)}if(xi(f)||ai(f))return S!==null?null:u(k,g,f,w,null);Qs(k,f)}return null}function m(k,g,f,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return k=k.get(f)||null,a(g,k,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hs:return k=k.get(w.key===null?f:w.key)||null,l(g,k,w,S);case co:return k=k.get(w.key===null?f:w.key)||null,c(g,k,w,S);case Mn:var _=w._init;return m(k,g,f,_(w._payload),S)}if(xi(w)||ai(w))return k=k.get(f)||null,u(g,k,w,S,null);Qs(g,w)}return null}function p(k,g,f,w){for(var S=null,_=null,P=g,y=g=0,x=null;P!==null&&y<f.length;y++){P.index>y?(x=P,P=null):x=P.sibling;var T=h(k,P,f[y],w);if(T===null){P===null&&(P=x);break}t&&P&&T.alternate===null&&e(k,P),g=i(T,g,y),_===null?S=T:_.sibling=T,_=T,P=x}if(y===f.length)return n(k,P),de&&Sr(k,y),S;if(P===null){for(;y<f.length;y++)P=d(k,f[y],w),P!==null&&(g=i(P,g,y),_===null?S=P:_.sibling=P,_=P);return de&&Sr(k,y),S}for(P=r(k,P);y<f.length;y++)x=m(P,k,y,f[y],w),x!==null&&(t&&x.alternate!==null&&P.delete(x.key===null?y:x.key),g=i(x,g,y),_===null?S=x:_.sibling=x,_=x);return t&&P.forEach(function(C){return e(k,C)}),de&&Sr(k,y),S}function v(k,g,f,w){var S=ai(f);if(typeof S!="function")throw Error(F(150));if(f=S.call(f),f==null)throw Error(F(151));for(var _=S=null,P=g,y=g=0,x=null,T=f.next();P!==null&&!T.done;y++,T=f.next()){P.index>y?(x=P,P=null):x=P.sibling;var C=h(k,P,T.value,w);if(C===null){P===null&&(P=x);break}t&&P&&C.alternate===null&&e(k,P),g=i(C,g,y),_===null?S=C:_.sibling=C,_=C,P=x}if(T.done)return n(k,P),de&&Sr(k,y),S;if(P===null){for(;!T.done;y++,T=f.next())T=d(k,T.value,w),T!==null&&(g=i(T,g,y),_===null?S=T:_.sibling=T,_=T);return de&&Sr(k,y),S}for(P=r(k,P);!T.done;y++,T=f.next())T=m(P,k,y,T.value,w),T!==null&&(t&&T.alternate!==null&&P.delete(T.key===null?y:T.key),g=i(T,g,y),_===null?S=T:_.sibling=T,_=T);return t&&P.forEach(function(A){return e(k,A)}),de&&Sr(k,y),S}function E(k,g,f,w){if(typeof f=="object"&&f!==null&&f.type===uo&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Hs:e:{for(var S=f.key,_=g;_!==null;){if(_.key===S){if(S=f.type,S===uo){if(_.tag===7){n(k,_.sibling),g=o(_,f.props.children),g.return=k,k=g;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mn&&rm(S)===_.type){n(k,_.sibling),g=o(_,f.props),g.ref=hi(k,_,f),g.return=k,k=g;break e}n(k,_);break}else e(k,_);_=_.sibling}f.type===uo?(g=Or(f.props.children,k.mode,w,f.key),g.return=k,k=g):(w=Sa(f.type,f.key,f.props,null,k.mode,w),w.ref=hi(k,g,f),w.return=k,k=w)}return s(k);case co:e:{for(_=f.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===f.containerInfo&&g.stateNode.implementation===f.implementation){n(k,g.sibling),g=o(g,f.children||[]),g.return=k,k=g;break e}else{n(k,g);break}else e(k,g);g=g.sibling}g=Zc(f,k.mode,w),g.return=k,k=g}return s(k);case Mn:return _=f._init,E(k,g,_(f._payload),w)}if(xi(f))return p(k,g,f,w);if(ai(f))return v(k,g,f,w);Qs(k,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,g!==null&&g.tag===6?(n(k,g.sibling),g=o(g,f),g.return=k,k=g):(n(k,g),g=Qc(f,k.mode,w),g.return=k,k=g),s(k)):n(k,g)}return E}var jo=t0(!0),n0=t0(!1),ks={},Yt=vr(ks),ns=vr(ks),rs=vr(ks);function Pr(t){if(t===ks)throw Error(F(174));return t}function Hh(t,e){switch(ie(rs,e),ie(ns,t),ie(Yt,ks),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fu(e,t)}ce(Yt),ie(Yt,e)}function Do(){ce(Yt),ce(ns),ce(rs)}function r0(t){Pr(rs.current);var e=Pr(Yt.current),n=Fu(e,t.type);e!==n&&(ie(ns,t),ie(Yt,n))}function zh(t){ns.current===t&&(ce(Yt),ce(ns))}var fe=vr(0);function nl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kc=[];function Vh(){for(var t=0;t<Kc.length;t++)Kc[t]._workInProgressVersionPrimary=null;Kc.length=0}var ya=An.ReactCurrentDispatcher,qc=An.ReactCurrentBatchConfig,Fr=0,me=null,Ie=null,Ne=null,rl=!1,Ri=!1,os=0,VS=0;function ze(){throw Error(F(321))}function $h(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ft(t[n],e[n]))return!1;return!0}function Wh(t,e,n,r,o,i){if(Fr=i,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ya.current=t===null||t.memoizedState===null?qS:GS,t=n(r,o),Ri){i=0;do{if(Ri=!1,os=0,25<=i)throw Error(F(301));i+=1,Ne=Ie=null,e.updateQueue=null,ya.current=YS,t=n(r,o)}while(Ri)}if(ya.current=ol,e=Ie!==null&&Ie.next!==null,Fr=0,Ne=Ie=me=null,rl=!1,e)throw Error(F(300));return t}function Kh(){var t=os!==0;return os=0,t}function Vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?me.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function Pt(){if(Ie===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=Ne===null?me.memoizedState:Ne.next;if(e!==null)Ne=e,Ie=t;else{if(t===null)throw Error(F(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ne===null?me.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function is(t,e){return typeof e=="function"?e(t):e}function Gc(t){var e=Pt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=Ie,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var u=c.lane;if((Fr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,me.lanes|=u,Hr|=u}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,Ft(r,e.memoizedState)||(at=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,me.lanes|=i,Hr|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yc(t){var e=Pt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);Ft(i,e.memoizedState)||(at=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function o0(){}function i0(t,e){var n=me,r=Pt(),o=e(),i=!Ft(r.memoizedState,o);if(i&&(r.memoizedState=o,at=!0),r=r.queue,qh(l0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,ss(9,a0.bind(null,n,r,o,e),void 0,null),Re===null)throw Error(F(349));Fr&30||s0(n,e,o)}return o}function s0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a0(t,e,n,r){e.value=n,e.getSnapshot=r,c0(e)&&u0(t)}function l0(t,e,n){return n(function(){c0(e)&&u0(t)})}function c0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ft(t,n)}catch{return!0}}function u0(t){var e=Sn(t,1);e!==null&&Ut(e,t,1,-1)}function om(t){var e=Vt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},e.queue=t,t=t.dispatch=KS.bind(null,me,t),[e.memoizedState,t]}function ss(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function d0(){return Pt().memoizedState}function ba(t,e,n,r){var o=Vt();me.flags|=t,o.memoizedState=ss(1|e,n,void 0,r===void 0?null:r)}function Wl(t,e,n,r){var o=Pt();r=r===void 0?null:r;var i=void 0;if(Ie!==null){var s=Ie.memoizedState;if(i=s.destroy,r!==null&&$h(r,s.deps)){o.memoizedState=ss(e,n,i,r);return}}me.flags|=t,o.memoizedState=ss(1|e,n,i,r)}function im(t,e){return ba(8390656,8,t,e)}function qh(t,e){return Wl(2048,8,t,e)}function h0(t,e){return Wl(4,2,t,e)}function f0(t,e){return Wl(4,4,t,e)}function p0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function m0(t,e,n){return n=n!=null?n.concat([t]):null,Wl(4,4,p0.bind(null,e,t),n)}function Gh(){}function g0(t,e){var n=Pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$h(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function v0(t,e){var n=Pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$h(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function y0(t,e,n){return Fr&21?(Ft(n,e)||(n=xy(),me.lanes|=n,Hr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=n)}function $S(t,e){var n=ne;ne=n!==0&&4>n?n:4,t(!0);var r=qc.transition;qc.transition={};try{t(!1),e()}finally{ne=n,qc.transition=r}}function b0(){return Pt().memoizedState}function WS(t,e,n){var r=nr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w0(t))x0(e,n);else if(n=Jy(t,e,n,r),n!==null){var o=nt();Ut(n,t,r,o),k0(n,e,r)}}function KS(t,e,n){var r=nr(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w0(t))x0(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Ft(a,s)){var l=e.interleaved;l===null?(o.next=o,Uh(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=Jy(t,e,o,r),n!==null&&(o=nt(),Ut(n,t,r,o),k0(n,e,r))}}function w0(t){var e=t.alternate;return t===me||e!==null&&e===me}function x0(t,e){Ri=rl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function k0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ch(t,n)}}var ol={readContext:At,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},qS={readContext:At,useCallback:function(t,e){return Vt().memoizedState=[t,e===void 0?null:e],t},useContext:At,useEffect:im,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ba(4194308,4,p0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ba(4194308,4,t,e)},useInsertionEffect:function(t,e){return ba(4,2,t,e)},useMemo:function(t,e){var n=Vt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WS.bind(null,me,t),[r.memoizedState,t]},useRef:function(t){var e=Vt();return t={current:t},e.memoizedState=t},useState:om,useDebugValue:Gh,useDeferredValue:function(t){return Vt().memoizedState=t},useTransition:function(){var t=om(!1),e=t[0];return t=$S.bind(null,t[1]),Vt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=me,o=Vt();if(de){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Re===null)throw Error(F(349));Fr&30||s0(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,im(l0.bind(null,r,i,t),[t]),r.flags|=2048,ss(9,a0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Vt(),e=Re.identifierPrefix;if(de){var n=un,r=cn;n=(r&~(1<<32-Dt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=os++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=VS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GS={readContext:At,useCallback:g0,useContext:At,useEffect:qh,useImperativeHandle:m0,useInsertionEffect:h0,useLayoutEffect:f0,useMemo:v0,useReducer:Gc,useRef:d0,useState:function(){return Gc(is)},useDebugValue:Gh,useDeferredValue:function(t){var e=Pt();return y0(e,Ie.memoizedState,t)},useTransition:function(){var t=Gc(is)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:o0,useSyncExternalStore:i0,useId:b0,unstable_isNewReconciler:!1},YS={readContext:At,useCallback:g0,useContext:At,useEffect:qh,useImperativeHandle:m0,useInsertionEffect:h0,useLayoutEffect:f0,useMemo:v0,useReducer:Yc,useRef:d0,useState:function(){return Yc(is)},useDebugValue:Gh,useDeferredValue:function(t){var e=Pt();return Ie===null?e.memoizedState=t:y0(e,Ie.memoizedState,t)},useTransition:function(){var t=Yc(is)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:o0,useSyncExternalStore:i0,useId:b0,unstable_isNewReconciler:!1};function Uo(t,e){try{var n="",r=e;do n+=Sk(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Xc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XS=typeof WeakMap=="function"?WeakMap:Map;function S0(t,e,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sl||(sl=!0,bd=r),cd(t,e)},n}function E0(t,e,n){n=gn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){cd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){cd(t,e),typeof r!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function sm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XS;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=uE.bind(null,t,e,n),e.then(t,t))}function am(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lm(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gn(-1,1),e.tag=2,er(n,e,1))),n.lanes|=1),t)}var JS=An.ReactCurrentOwner,at=!1;function tt(t,e,n,r){e.child=t===null?n0(e,null,n,r):jo(e,t.child,n,r)}function cm(t,e,n,r,o){n=n.render;var i=e.ref;return Po(e,o),r=Wh(t,e,n,r,i,o),n=Kh(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,En(t,e,o)):(de&&n&&Bh(e),e.flags|=1,tt(t,e,r,o),e.child)}function um(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!nf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,C0(t,e,i,r,o)):(t=Sa(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qi,n(s,r)&&t.ref===e.ref)return En(t,e,o)}return e.flags|=1,t=rr(i,r),t.ref=e.ref,t.return=e,e.child=t}function C0(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Qi(i,r)&&t.ref===e.ref)if(at=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(at=!0);else return e.lanes=t.lanes,En(t,e,o)}return ud(t,e,n,r,o)}function T0(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(xo,ft),ft|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(xo,ft),ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ie(xo,ft),ft|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ie(xo,ft),ft|=r;return tt(t,e,o,n),e.child}function _0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ud(t,e,n,r,o){var i=ut(n)?Dr:qe.current;return i=Lo(e,i),Po(e,o),n=Wh(t,e,n,r,i,o),r=Kh(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,En(t,e,o)):(de&&r&&Bh(e),e.flags|=1,tt(t,e,n,o),e.child)}function dm(t,e,n,r,o){if(ut(n)){var i=!0;Xa(e)}else i=!1;if(Po(e,o),e.stateNode===null)wa(t,e),e0(e,n,r),ld(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=At(c):(c=ut(n)?Dr:qe.current,c=Lo(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&nm(e,s,r,c),jn=!1;var h=e.memoizedState;s.state=h,tl(e,r,s,o),l=e.memoizedState,a!==r||h!==l||ct.current||jn?(typeof u=="function"&&(ad(e,n,u,r),l=e.memoizedState),(a=jn||tm(e,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Qy(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bt(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=At(l):(l=ut(n)?Dr:qe.current,l=Lo(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&nm(e,s,r,l),jn=!1,h=e.memoizedState,s.state=h,tl(e,r,s,o);var p=e.memoizedState;a!==d||h!==p||ct.current||jn?(typeof m=="function"&&(ad(e,n,m,r),p=e.memoizedState),(c=jn||tm(e,n,c,r,h,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return dd(t,e,n,r,i,o)}function dd(t,e,n,r,o,i){_0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&Xp(e,n,!1),En(t,e,i);r=e.stateNode,JS.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=jo(e,t.child,null,i),e.child=jo(e,null,a,i)):tt(t,e,a,i),e.memoizedState=r.state,o&&Xp(e,n,!0),e.child}function I0(t){var e=t.stateNode;e.pendingContext?Yp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yp(t,e.context,!1),Hh(t,e.containerInfo)}function hm(t,e,n,r,o){return Mo(),Lh(o),e.flags|=256,tt(t,e,n,r),e.child}var hd={dehydrated:null,treeContext:null,retryLane:0};function fd(t){return{baseLanes:t,cachePool:null,transitions:null}}function A0(t,e,n){var r=e.pendingProps,o=fe.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),ie(fe,o&1),t===null)return id(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Gl(s,r,0,null),t=Or(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=fd(n),e.memoizedState=hd,t):Yh(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return QS(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=rr(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=rr(a,i):(i=Or(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?fd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=hd,r}return i=t.child,t=i.sibling,r=rr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yh(t,e){return e=Gl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zs(t,e,n,r){return r!==null&&Lh(r),jo(e,t.child,null,n),t=Yh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QS(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Xc(Error(F(422))),Zs(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Gl({mode:"visible",children:r.children},o,0,null),i=Or(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&jo(e,t.child,null,s),e.child.memoizedState=fd(s),e.memoizedState=hd,i);if(!(e.mode&1))return Zs(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(F(419)),r=Xc(i,r,void 0),Zs(t,e,s,r)}if(a=(s&t.childLanes)!==0,at||a){if(r=Re,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Sn(t,o),Ut(r,t,o,-1))}return tf(),r=Xc(Error(F(421))),Zs(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=dE.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,pt=Zn(o.nextSibling),gt=e,de=!0,Lt=null,t!==null&&(Et[Ct++]=cn,Et[Ct++]=un,Et[Ct++]=Ur,cn=t.id,un=t.overflow,Ur=e),e=Yh(e,r.children),e.flags|=4096,e)}function fm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sd(t.return,e,n)}function Jc(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function P0(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(tt(t,e,r.children,n),r=fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fm(t,n,e);else if(t.tag===19)fm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ie(fe,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&nl(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Jc(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&nl(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Jc(e,!0,n,null,i);break;case"together":Jc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function En(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=rr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZS(t,e,n){switch(e.tag){case 3:I0(e),Mo();break;case 5:r0(e);break;case 1:ut(e.type)&&Xa(e);break;case 4:Hh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;ie(Za,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ie(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?A0(t,e,n):(ie(fe,fe.current&1),t=En(t,e,n),t!==null?t.sibling:null);ie(fe,fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return P0(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ie(fe,fe.current),r)break;return null;case 22:case 23:return e.lanes=0,T0(t,e,n)}return En(t,e,n)}var N0,pd,R0,B0;N0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pd=function(){};R0=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Pr(Yt.current);var i=null;switch(n){case"input":o=Mu(t,o),r=Mu(t,r),i=[];break;case"select":o=ge({},o,{value:void 0}),r=ge({},r,{value:void 0}),i=[];break;case"textarea":o=Uu(t,o),r=Uu(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ga)}Hu(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ae("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};B0=function(t,e,n,r){n!==r&&(e.flags|=4)};function fi(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eE(t,e,n){var r=e.pendingProps;switch(Oh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(e),null;case 1:return ut(e.type)&&Ya(),Ve(e),null;case 3:return r=e.stateNode,Do(),ce(ct),ce(qe),Vh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Js(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lt!==null&&(kd(Lt),Lt=null))),pd(t,e),Ve(e),null;case 5:zh(e);var o=Pr(rs.current);if(n=e.type,t!==null&&e.stateNode!=null)R0(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Ve(e),null}if(t=Pr(Yt.current),Js(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Wt]=e,r[ts]=i,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(o=0;o<Si.length;o++)ae(Si[o],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":kp(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":Ep(r,i),ae("invalid",r)}Hu(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Xs(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Xs(r.textContent,a,t),o=["children",""+a]):Wi.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ae("scroll",r)}switch(n){case"input":zs(r),Sp(r,i,!0);break;case"textarea":zs(r),Cp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ga)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Wt]=e,t[ts]=r,N0(t,e,!1,!1),e.stateNode=t;e:{switch(s=zu(n,r),n){case"dialog":ae("cancel",t),ae("close",t),o=r;break;case"iframe":case"object":case"embed":ae("load",t),o=r;break;case"video":case"audio":for(o=0;o<Si.length;o++)ae(Si[o],t);o=r;break;case"source":ae("error",t),o=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),o=r;break;case"details":ae("toggle",t),o=r;break;case"input":kp(t,r),o=Mu(t,r),ae("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=ge({},r,{value:void 0}),ae("invalid",t);break;case"textarea":Ep(t,r),o=Uu(t,r),ae("invalid",t);break;default:o=r}Hu(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?cy(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ay(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ki(t,l):typeof l=="number"&&Ki(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ae("scroll",t):l!=null&&bh(t,i,l,s))}switch(n){case"input":zs(t),Sp(t,r,!1);break;case"textarea":zs(t),Cp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ur(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?To(t,!!r.multiple,i,!1):r.defaultValue!=null&&To(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Ga)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ve(e),null;case 6:if(t&&e.stateNode!=null)B0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Pr(rs.current),Pr(Yt.current),Js(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wt]=e,(i=r.nodeValue!==n)&&(t=gt,t!==null))switch(t.tag){case 3:Xs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wt]=e,e.stateNode=r}return Ve(e),null;case 13:if(ce(fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&pt!==null&&e.mode&1&&!(e.flags&128))Xy(),Mo(),e.flags|=98560,i=!1;else if(i=Js(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(F(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[Wt]=e}else Mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ve(e),i=!1}else Lt!==null&&(kd(Lt),Lt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Ae===0&&(Ae=3):tf())),e.updateQueue!==null&&(e.flags|=4),Ve(e),null);case 4:return Do(),pd(t,e),t===null&&Zi(e.stateNode.containerInfo),Ve(e),null;case 10:return Dh(e.type._context),Ve(e),null;case 17:return ut(e.type)&&Ya(),Ve(e),null;case 19:if(ce(fe),i=e.memoizedState,i===null)return Ve(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)fi(i,!1);else{if(Ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=nl(t),s!==null){for(e.flags|=128,fi(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ie(fe,fe.current&1|2),e.child}t=t.sibling}i.tail!==null&&xe()>Fo&&(e.flags|=128,r=!0,fi(i,!1),e.lanes=4194304)}else{if(!r)if(t=nl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!de)return Ve(e),null}else 2*xe()-i.renderingStartTime>Fo&&n!==1073741824&&(e.flags|=128,r=!0,fi(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xe(),e.sibling=null,n=fe.current,ie(fe,r?n&1|2:n&1),e):(Ve(e),null);case 22:case 23:return ef(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ft&1073741824&&(Ve(e),e.subtreeFlags&6&&(e.flags|=8192)):Ve(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function tE(t,e){switch(Oh(e),e.tag){case 1:return ut(e.type)&&Ya(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Do(),ce(ct),ce(qe),Vh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zh(e),null;case 13:if(ce(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(fe),null;case 4:return Do(),null;case 10:return Dh(e.type._context),null;case 22:case 23:return ef(),null;case 24:return null;default:return null}}var ea=!1,Ke=!1,nE=typeof WeakSet=="function"?WeakSet:Set,V=null;function wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(t,e,r)}else n.current=null}function md(t,e,n){try{n()}catch(r){ye(t,e,r)}}var pm=!1;function rE(t,e){if(Qu=Wa,t=jy(),Rh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var m;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==i||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++c===o&&(a=s),h===i&&++u===r&&(l=s),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zu={focusedElem:t,selectionRange:n},Wa=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,E=p.memoizedState,k=e.stateNode,g=k.getSnapshotBeforeUpdate(e.elementType===e.type?v:Bt(e.type,v),E);k.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(w){ye(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return p=pm,pm=!1,p}function Bi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&md(e,n,i)}o=o.next}while(o!==r)}}function Kl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function O0(t){var e=t.alternate;e!==null&&(t.alternate=null,O0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wt],delete e[ts],delete e[nd],delete e[US],delete e[FS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function L0(t){return t.tag===5||t.tag===3||t.tag===4}function mm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ga));else if(r!==4&&(t=t.child,t!==null))for(vd(t,e,n),t=t.sibling;t!==null;)vd(t,e,n),t=t.sibling}function yd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yd(t,e,n),t=t.sibling;t!==null;)yd(t,e,n),t=t.sibling}var Me=null,Ot=!1;function Rn(t,e,n){for(n=n.child;n!==null;)M0(t,e,n),n=n.sibling}function M0(t,e,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Dl,n)}catch{}switch(n.tag){case 5:Ke||wo(n,e);case 6:var r=Me,o=Ot;Me=null,Rn(t,e,n),Me=r,Ot=o,Me!==null&&(Ot?(t=Me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(Ot?(t=Me,n=n.stateNode,t.nodeType===8?$c(t.parentNode,n):t.nodeType===1&&$c(t,n),Xi(t)):$c(Me,n.stateNode));break;case 4:r=Me,o=Ot,Me=n.stateNode.containerInfo,Ot=!0,Rn(t,e,n),Me=r,Ot=o;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&md(n,e,s),o=o.next}while(o!==r)}Rn(t,e,n);break;case 1:if(!Ke&&(wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,e,a)}Rn(t,e,n);break;case 21:Rn(t,e,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,Rn(t,e,n),Ke=r):Rn(t,e,n);break;default:Rn(t,e,n)}}function gm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nE),e.forEach(function(r){var o=hE.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Rt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Me=a.stateNode,Ot=!1;break e;case 3:Me=a.stateNode.containerInfo,Ot=!0;break e;case 4:Me=a.stateNode.containerInfo,Ot=!0;break e}a=a.return}if(Me===null)throw Error(F(160));M0(i,s,o),Me=null,Ot=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){ye(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)j0(e,t),e=e.sibling}function j0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rt(e,t),zt(t),r&4){try{Bi(3,t,t.return),Kl(3,t)}catch(v){ye(t,t.return,v)}try{Bi(5,t,t.return)}catch(v){ye(t,t.return,v)}}break;case 1:Rt(e,t),zt(t),r&512&&n!==null&&wo(n,n.return);break;case 5:if(Rt(e,t),zt(t),r&512&&n!==null&&wo(n,n.return),t.flags&32){var o=t.stateNode;try{Ki(o,"")}catch(v){ye(t,t.return,v)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&oy(o,i),zu(a,s);var c=zu(a,i);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?cy(o,d):u==="dangerouslySetInnerHTML"?ay(o,d):u==="children"?Ki(o,d):bh(o,u,d,c)}switch(a){case"input":ju(o,i);break;case"textarea":iy(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?To(o,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?To(o,!!i.multiple,i.defaultValue,!0):To(o,!!i.multiple,i.multiple?[]:"",!1))}o[ts]=i}catch(v){ye(t,t.return,v)}}break;case 6:if(Rt(e,t),zt(t),r&4){if(t.stateNode===null)throw Error(F(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(v){ye(t,t.return,v)}}break;case 3:if(Rt(e,t),zt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xi(e.containerInfo)}catch(v){ye(t,t.return,v)}break;case 4:Rt(e,t),zt(t);break;case 13:Rt(e,t),zt(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Qh=xe())),r&4&&gm(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ke=(c=Ke)||u,Rt(e,t),Ke=c):Rt(e,t),zt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(V=t,u=t.child;u!==null;){for(d=V=u;V!==null;){switch(h=V,m=h.child,h.tag){case 0:case 11:case 14:case 15:Bi(4,h,h.return);break;case 1:wo(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){ye(r,n,v)}}break;case 5:wo(h,h.return);break;case 22:if(h.memoizedState!==null){ym(d);continue}}m!==null?(m.return=h,V=m):ym(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ly("display",s))}catch(v){ye(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){ye(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Rt(e,t),zt(t),r&4&&gm(t);break;case 21:break;default:Rt(e,t),zt(t)}}function zt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(L0(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ki(o,""),r.flags&=-33);var i=mm(t);yd(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=mm(t);vd(t,a,s);break;default:throw Error(F(161))}}catch(l){ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oE(t,e,n){V=t,D0(t)}function D0(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var o=V,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||ea;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Ke;a=ea;var c=Ke;if(ea=s,(Ke=l)&&!c)for(V=o;V!==null;)s=V,l=s.child,s.tag===22&&s.memoizedState!==null?bm(o):l!==null?(l.return=s,V=l):bm(o);for(;i!==null;)V=i,D0(i),i=i.sibling;V=o,ea=a,Ke=c}vm(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,V=i):vm(t)}}function vm(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ke||Kl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Bt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&em(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}em(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Xi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ke||e.flags&512&&gd(e)}catch(h){ye(e,e.return,h)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function ym(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function bm(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kl(4,e)}catch(l){ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){ye(e,o,l)}}var i=e.return;try{gd(e)}catch(l){ye(e,i,l)}break;case 5:var s=e.return;try{gd(e)}catch(l){ye(e,s,l)}}}catch(l){ye(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var iE=Math.ceil,il=An.ReactCurrentDispatcher,Xh=An.ReactCurrentOwner,_t=An.ReactCurrentBatchConfig,te=0,Re=null,Ee=null,je=0,ft=0,xo=vr(0),Ae=0,as=null,Hr=0,ql=0,Jh=0,Oi=null,st=null,Qh=0,Fo=1/0,sn=null,sl=!1,bd=null,tr=null,ta=!1,Gn=null,al=0,Li=0,wd=null,xa=-1,ka=0;function nt(){return te&6?xe():xa!==-1?xa:xa=xe()}function nr(t){return t.mode&1?te&2&&je!==0?je&-je:zS.transition!==null?(ka===0&&(ka=xy()),ka):(t=ne,t!==0||(t=window.event,t=t===void 0?16:Iy(t.type)),t):1}function Ut(t,e,n,r){if(50<Li)throw Li=0,wd=null,Error(F(185));bs(t,n,r),(!(te&2)||t!==Re)&&(t===Re&&(!(te&2)&&(ql|=n),Ae===4&&Fn(t,je)),dt(t,r),n===1&&te===0&&!(e.mode&1)&&(Fo=xe()+500,Vl&&yr()))}function dt(t,e){var n=t.callbackNode;zk(t,e);var r=$a(t,t===Re?je:0);if(r===0)n!==null&&Ip(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ip(n),e===1)t.tag===0?HS(wm.bind(null,t)):qy(wm.bind(null,t)),jS(function(){!(te&6)&&yr()}),n=null;else{switch(ky(r)){case 1:n=Eh;break;case 4:n=by;break;case 16:n=Va;break;case 536870912:n=wy;break;default:n=Va}n=K0(n,U0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function U0(t,e){if(xa=-1,ka=0,te&6)throw Error(F(327));var n=t.callbackNode;if(No()&&t.callbackNode!==n)return null;var r=$a(t,t===Re?je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ll(t,r);else{e=r;var o=te;te|=2;var i=H0();(Re!==t||je!==e)&&(sn=null,Fo=xe()+500,Br(t,e));do try{lE();break}catch(a){F0(t,a)}while(1);jh(),il.current=i,te=o,Ee!==null?e=0:(Re=null,je=0,e=Ae)}if(e!==0){if(e===2&&(o=qu(t),o!==0&&(r=o,e=xd(t,o))),e===1)throw n=as,Br(t,0),Fn(t,r),dt(t,xe()),n;if(e===6)Fn(t,r);else{if(o=t.current.alternate,!(r&30)&&!sE(o)&&(e=ll(t,r),e===2&&(i=qu(t),i!==0&&(r=i,e=xd(t,i))),e===1))throw n=as,Br(t,0),Fn(t,r),dt(t,xe()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Er(t,st,sn);break;case 3:if(Fn(t,r),(r&130023424)===r&&(e=Qh+500-xe(),10<e)){if($a(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){nt(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=td(Er.bind(null,t,st,sn),e);break}Er(t,st,sn);break;case 4:if(Fn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-Dt(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iE(r/1960))-r,10<r){t.timeoutHandle=td(Er.bind(null,t,st,sn),r);break}Er(t,st,sn);break;case 5:Er(t,st,sn);break;default:throw Error(F(329))}}}return dt(t,xe()),t.callbackNode===n?U0.bind(null,t):null}function xd(t,e){var n=Oi;return t.current.memoizedState.isDehydrated&&(Br(t,e).flags|=256),t=ll(t,e),t!==2&&(e=st,st=n,e!==null&&kd(e)),t}function kd(t){st===null?st=t:st.push.apply(st,t)}function sE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ft(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fn(t,e){for(e&=~Jh,e&=~ql,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dt(e),r=1<<n;t[n]=-1,e&=~r}}function wm(t){if(te&6)throw Error(F(327));No();var e=$a(t,0);if(!(e&1))return dt(t,xe()),null;var n=ll(t,e);if(t.tag!==0&&n===2){var r=qu(t);r!==0&&(e=r,n=xd(t,r))}if(n===1)throw n=as,Br(t,0),Fn(t,e),dt(t,xe()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Er(t,st,sn),dt(t,xe()),null}function Zh(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(Fo=xe()+500,Vl&&yr())}}function zr(t){Gn!==null&&Gn.tag===0&&!(te&6)&&No();var e=te;te|=1;var n=_t.transition,r=ne;try{if(_t.transition=null,ne=1,t)return t()}finally{ne=r,_t.transition=n,te=e,!(te&6)&&yr()}}function ef(){ft=xo.current,ce(xo)}function Br(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MS(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(Oh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ya();break;case 3:Do(),ce(ct),ce(qe),Vh();break;case 5:zh(r);break;case 4:Do();break;case 13:ce(fe);break;case 19:ce(fe);break;case 10:Dh(r.type._context);break;case 22:case 23:ef()}n=n.return}if(Re=t,Ee=t=rr(t.current,null),je=ft=e,Ae=0,as=null,Jh=ql=Hr=0,st=Oi=null,Ar!==null){for(e=0;e<Ar.length;e++)if(n=Ar[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Ar=null}return t}function F0(t,e){do{var n=Ee;try{if(jh(),ya.current=ol,rl){for(var r=me.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}rl=!1}if(Fr=0,Ne=Ie=me=null,Ri=!1,os=0,Xh.current=null,n===null||n.return===null){Ae=1,as=e,Ee=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=am(s);if(m!==null){m.flags&=-257,lm(m,s,a,i,e),m.mode&1&&sm(i,c,e),e=m,l=c;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){sm(i,c,e),tf();break e}l=Error(F(426))}}else if(de&&a.mode&1){var E=am(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),lm(E,s,a,i,e),Lh(Uo(l,a));break e}}i=l=Uo(l,a),Ae!==4&&(Ae=2),Oi===null?Oi=[i]:Oi.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var k=S0(i,l,e);Zp(i,k);break e;case 1:a=l;var g=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(tr===null||!tr.has(f)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=E0(i,a,e);Zp(i,w);break e}}i=i.return}while(i!==null)}V0(n)}catch(S){e=S,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(1)}function H0(){var t=il.current;return il.current=ol,t===null?ol:t}function tf(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Re===null||!(Hr&268435455)&&!(ql&268435455)||Fn(Re,je)}function ll(t,e){var n=te;te|=2;var r=H0();(Re!==t||je!==e)&&(sn=null,Br(t,e));do try{aE();break}catch(o){F0(t,o)}while(1);if(jh(),te=n,il.current=r,Ee!==null)throw Error(F(261));return Re=null,je=0,Ae}function aE(){for(;Ee!==null;)z0(Ee)}function lE(){for(;Ee!==null&&!Bk();)z0(Ee)}function z0(t){var e=W0(t.alternate,t,ft);t.memoizedProps=t.pendingProps,e===null?V0(t):Ee=e,Xh.current=null}function V0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tE(n,e),n!==null){n.flags&=32767,Ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ae=6,Ee=null;return}}else if(n=eE(n,e,ft),n!==null){Ee=n;return}if(e=e.sibling,e!==null){Ee=e;return}Ee=e=t}while(e!==null);Ae===0&&(Ae=5)}function Er(t,e,n){var r=ne,o=_t.transition;try{_t.transition=null,ne=1,cE(t,e,n,r)}finally{_t.transition=o,ne=r}return null}function cE(t,e,n,r){do No();while(Gn!==null);if(te&6)throw Error(F(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Vk(t,i),t===Re&&(Ee=Re=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ta||(ta=!0,K0(Va,function(){return No(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_t.transition,_t.transition=null;var s=ne;ne=1;var a=te;te|=4,Xh.current=null,rE(t,n),j0(n,t),AS(Zu),Wa=!!Qu,Zu=Qu=null,t.current=n,oE(n),Ok(),te=a,ne=s,_t.transition=i}else t.current=n;if(ta&&(ta=!1,Gn=t,al=o),i=t.pendingLanes,i===0&&(tr=null),jk(n.stateNode),dt(t,xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(sl)throw sl=!1,t=bd,bd=null,t;return al&1&&t.tag!==0&&No(),i=t.pendingLanes,i&1?t===wd?Li++:(Li=0,wd=t):Li=0,yr(),null}function No(){if(Gn!==null){var t=ky(al),e=_t.transition,n=ne;try{if(_t.transition=null,ne=16>t?16:t,Gn===null)var r=!1;else{if(t=Gn,Gn=null,al=0,te&6)throw Error(F(331));var o=te;for(te|=4,V=t.current;V!==null;){var i=V,s=i.child;if(V.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(V=c;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:Bi(8,u,i)}var d=u.child;if(d!==null)d.return=u,V=d;else for(;V!==null;){u=V;var h=u.sibling,m=u.return;if(O0(u),u===c){V=null;break}if(h!==null){h.return=m,V=h;break}V=m}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}V=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,V=s;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bi(9,i,i.return)}var k=i.sibling;if(k!==null){k.return=i.return,V=k;break e}V=i.return}}var g=t.current;for(V=g;V!==null;){s=V;var f=s.child;if(s.subtreeFlags&2064&&f!==null)f.return=s,V=f;else e:for(s=g;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kl(9,a)}}catch(S){ye(a,a.return,S)}if(a===s){V=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,V=w;break e}V=a.return}}if(te=o,yr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Dl,t)}catch{}r=!0}return r}finally{ne=n,_t.transition=e}}return!1}function xm(t,e,n){e=Uo(n,e),e=S0(t,e,1),t=er(t,e,1),e=nt(),t!==null&&(bs(t,1,e),dt(t,e))}function ye(t,e,n){if(t.tag===3)xm(t,t,n);else for(;e!==null;){if(e.tag===3){xm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tr===null||!tr.has(r))){t=Uo(n,t),t=E0(e,t,1),e=er(e,t,1),t=nt(),e!==null&&(bs(e,1,t),dt(e,t));break}}e=e.return}}function uE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nt(),t.pingedLanes|=t.suspendedLanes&n,Re===t&&(je&n)===n&&(Ae===4||Ae===3&&(je&130023424)===je&&500>xe()-Qh?Br(t,0):Jh|=n),dt(t,e)}function $0(t,e){e===0&&(t.mode&1?(e=Ws,Ws<<=1,!(Ws&130023424)&&(Ws=4194304)):e=1);var n=nt();t=Sn(t,e),t!==null&&(bs(t,e,n),dt(t,n))}function dE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$0(t,n)}function hE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),$0(t,n)}var W0;W0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ct.current)at=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return at=!1,ZS(t,e,n);at=!!(t.flags&131072)}else at=!1,de&&e.flags&1048576&&Gy(e,Qa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wa(t,e),t=e.pendingProps;var o=Lo(e,qe.current);Po(e,n),o=Wh(null,e,r,t,o,n);var i=Kh();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(r)?(i=!0,Xa(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Fh(e),o.updater=$l,e.stateNode=o,o._reactInternals=e,ld(e,r,t,n),e=dd(null,e,r,!0,i,n)):(e.tag=0,de&&i&&Bh(e),tt(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wa(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=pE(r),t=Bt(r,t),o){case 0:e=ud(null,e,r,t,n);break e;case 1:e=dm(null,e,r,t,n);break e;case 11:e=cm(null,e,r,t,n);break e;case 14:e=um(null,e,r,Bt(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bt(r,o),ud(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bt(r,o),dm(t,e,r,o,n);case 3:e:{if(I0(e),t===null)throw Error(F(387));r=e.pendingProps,i=e.memoizedState,o=i.element,Qy(t,e),tl(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Uo(Error(F(423)),e),e=hm(t,e,r,n,o);break e}else if(r!==o){o=Uo(Error(F(424)),e),e=hm(t,e,r,n,o);break e}else for(pt=Zn(e.stateNode.containerInfo.firstChild),gt=e,de=!0,Lt=null,n=n0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mo(),r===o){e=En(t,e,n);break e}tt(t,e,r,n)}e=e.child}return e;case 5:return r0(e),t===null&&id(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,ed(r,o)?s=null:i!==null&&ed(r,i)&&(e.flags|=32),_0(t,e),tt(t,e,s,n),e.child;case 6:return t===null&&id(e),null;case 13:return A0(t,e,n);case 4:return Hh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jo(e,null,r,n):tt(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bt(r,o),cm(t,e,r,o,n);case 7:return tt(t,e,e.pendingProps,n),e.child;case 8:return tt(t,e,e.pendingProps.children,n),e.child;case 12:return tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,ie(Za,r._currentValue),r._currentValue=s,i!==null)if(Ft(i.value,s)){if(i.children===o.children&&!ct.current){e=En(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=gn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),sd(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(F(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),sd(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}tt(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Po(e,n),o=At(o),r=r(o),e.flags|=1,tt(t,e,r,n),e.child;case 14:return r=e.type,o=Bt(r,e.pendingProps),o=Bt(r.type,o),um(t,e,r,o,n);case 15:return C0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bt(r,o),wa(t,e),e.tag=1,ut(r)?(t=!0,Xa(e)):t=!1,Po(e,n),e0(e,r,o),ld(e,r,o,n),dd(null,e,r,!0,t,n);case 19:return P0(t,e,n);case 22:return T0(t,e,n)}throw Error(F(156,e.tag))};function K0(t,e){return yy(t,e)}function fE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(t,e,n,r){return new fE(t,e,n,r)}function nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pE(t){if(typeof t=="function")return nf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xh)return 11;if(t===kh)return 14}return 2}function rr(t,e){var n=t.alternate;return n===null?(n=Tt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sa(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")nf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case uo:return Or(n.children,o,i,e);case wh:s=8,o|=8;break;case Ru:return t=Tt(12,n,e,o|2),t.elementType=Ru,t.lanes=i,t;case Bu:return t=Tt(13,n,e,o),t.elementType=Bu,t.lanes=i,t;case Ou:return t=Tt(19,n,e,o),t.elementType=Ou,t.lanes=i,t;case ty:return Gl(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zv:s=10;break e;case ey:s=9;break e;case xh:s=11;break e;case kh:s=14;break e;case Mn:s=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Tt(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Or(t,e,n,r){return t=Tt(7,t,r,e),t.lanes=n,t}function Gl(t,e,n,r){return t=Tt(22,t,r,e),t.elementType=ty,t.lanes=n,t.stateNode={isHidden:!1},t}function Qc(t,e,n){return t=Tt(6,t,null,e),t.lanes=n,t}function Zc(t,e,n){return e=Tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mE(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bc(0),this.expirationTimes=Bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function rf(t,e,n,r,o,i,s,a,l){return t=new mE(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Tt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fh(i),t}function gE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function q0(t){if(!t)return dr;t=t._reactInternals;e:{if(Xr(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(ut(n))return Ky(t,n,e)}return e}function G0(t,e,n,r,o,i,s,a,l){return t=rf(n,r,!0,t,o,i,s,a,l),t.context=q0(null),n=t.current,r=nt(),o=nr(n),i=gn(r,o),i.callback=e??null,er(n,i,o),t.current.lanes=o,bs(t,o,r),dt(t,r),t}function Yl(t,e,n,r){var o=e.current,i=nt(),s=nr(o);return n=q0(n),e.context===null?e.context=n:e.pendingContext=n,e=gn(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=er(o,e,s),t!==null&&(Ut(t,o,s,i),va(t,o,s)),s}function cl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function km(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function of(t,e){km(t,e),(t=t.alternate)&&km(t,e)}function vE(){return null}var Y0=typeof reportError=="function"?reportError:function(t){console.error(t)};function sf(t){this._internalRoot=t}Xl.prototype.render=sf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Yl(t,e,null,null)};Xl.prototype.unmount=sf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zr(function(){Yl(null,t,null,null)}),e[kn]=null}};function Xl(t){this._internalRoot=t}Xl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Un.length&&e!==0&&e<Un[n].priority;n++);Un.splice(n,0,t),n===0&&_y(t)}};function af(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sm(){}function yE(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=cl(s);i.call(c)}}var s=G0(e,r,t,0,null,!1,!1,"",Sm);return t._reactRootContainer=s,t[kn]=s.current,Zi(t.nodeType===8?t.parentNode:t),zr(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=cl(l);a.call(c)}}var l=rf(t,0,!1,null,null,!1,!1,"",Sm);return t._reactRootContainer=l,t[kn]=l.current,Zi(t.nodeType===8?t.parentNode:t),zr(function(){Yl(e,l,n,r)}),l}function Ql(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=cl(s);a.call(l)}}Yl(e,s,t,o)}else s=yE(n,e,t,o,r);return cl(s)}Sy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ki(e.pendingLanes);n!==0&&(Ch(e,n|1),dt(e,xe()),!(te&6)&&(Fo=xe()+500,yr()))}break;case 13:zr(function(){var r=Sn(t,1);if(r!==null){var o=nt();Ut(r,t,1,o)}}),of(t,1)}};Th=function(t){if(t.tag===13){var e=Sn(t,134217728);if(e!==null){var n=nt();Ut(e,t,134217728,n)}of(t,134217728)}};Ey=function(t){if(t.tag===13){var e=nr(t),n=Sn(t,e);if(n!==null){var r=nt();Ut(n,t,e,r)}of(t,e)}};Cy=function(){return ne};Ty=function(t,e){var n=ne;try{return ne=t,e()}finally{ne=n}};$u=function(t,e,n){switch(e){case"input":if(ju(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=zl(r);if(!o)throw Error(F(90));ry(r),ju(r,o)}}}break;case"textarea":iy(t,n);break;case"select":e=n.value,e!=null&&To(t,!!n.multiple,e,!1)}};hy=Zh;fy=zr;var bE={usingClientEntryPoint:!1,Events:[xs,mo,zl,uy,dy,Zh]},pi={findFiberByHostInstance:Ir,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wE={bundleType:pi.bundleType,version:pi.version,rendererPackageName:pi.rendererPackageName,rendererConfig:pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gy(t),t===null?null:t.stateNode},findFiberByHostInstance:pi.findFiberByHostInstance||vE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{Dl=na.inject(wE),Gt=na}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bE;wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!af(e))throw Error(F(200));return gE(t,e,null,n)};wt.createRoot=function(t,e){if(!af(t))throw Error(F(299));var n=!1,r="",o=Y0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=rf(t,1,!1,null,null,n,!1,r,o),t[kn]=e.current,Zi(t.nodeType===8?t.parentNode:t),new sf(e)};wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=gy(e),t=t===null?null:t.stateNode,t};wt.flushSync=function(t){return zr(t)};wt.hydrate=function(t,e,n){if(!Jl(e))throw Error(F(200));return Ql(null,t,e,!0,n)};wt.hydrateRoot=function(t,e,n){if(!af(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Y0;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=G0(e,null,t,1,n??null,o,!1,i,s),t[kn]=e.current,Zi(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Xl(e)};wt.render=function(t,e,n){if(!Jl(e))throw Error(F(200));return Ql(null,t,e,!1,n)};wt.unmountComponentAtNode=function(t){if(!Jl(t))throw Error(F(40));return t._reactRootContainer?(zr(function(){Ql(null,null,t,!1,function(){t._reactRootContainer=null,t[kn]=null})}),!0):!1};wt.unstable_batchedUpdates=Zh;wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jl(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Ql(t,e,n,!1,r)};wt.version="18.2.0-next-9e3b772b8-20220608";function X0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X0)}catch(t){console.error(t)}}X0(),Gv.exports=wt;var xE=Gv.exports,Em=xE;Pu.createRoot=Em.createRoot,Pu.hydrateRoot=Em.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ls.apply(this,arguments)}var Yn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yn||(Yn={}));const Cm="popstate";function kE(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return Sd("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:ul(o)}return EE(e,n,null,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SE(){return Math.random().toString(36).substr(2,8)}function Tm(t,e){return{usr:t.state,key:t.key,idx:e}}function Sd(t,e,n,r){return n===void 0&&(n=null),ls({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qo(e):e,{state:n,key:e&&e.key||r||SE()})}function ul(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function EE(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=Yn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(ls({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Yn.Pop;let E=u(),k=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:k})}function h(E,k){a=Yn.Push;let g=Sd(v.location,E,k);n&&n(g,E),c=u()+1;let f=Tm(g,c),w=v.createHref(g);try{s.pushState(f,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;o.location.assign(w)}i&&l&&l({action:a,location:v.location,delta:1})}function m(E,k){a=Yn.Replace;let g=Sd(v.location,E,k);n&&n(g,E),c=u();let f=Tm(g,c),w=v.createHref(g);s.replaceState(f,"",w),i&&l&&l({action:a,location:v.location,delta:0})}function p(E){let k=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof E=="string"?E:ul(E);return ke(k,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,k)}let v={get action(){return a},get location(){return t(o,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Cm,d),l=E,()=>{o.removeEventListener(Cm,d),l=null}},createHref(E){return e(o,E)},createURL:p,encodeLocation(E){let k=p(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:h,replace:m,go(E){return s.go(E)}};return v}var _m;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_m||(_m={}));function CE(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Qo(e):e,o=cf(r.pathname||"/",n);if(o==null)return null;let i=J0(t);TE(i);let s=null;for(let a=0;s==null&&a<i.length;++a)s=LE(i[a],DE(o));return s}function J0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(ke(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=or([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),J0(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:BE(c,i.index),routesMeta:u})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of Q0(i.path))o(i,s,l)}),e}function Q0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=Q0(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function TE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:OE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _E=/^:\w+$/,IE=3,AE=2,PE=1,NE=10,RE=-2,Im=t=>t==="*";function BE(t,e){let n=t.split("/"),r=n.length;return n.some(Im)&&(r+=RE),e&&(r+=AE),n.filter(o=>!Im(o)).reduce((o,i)=>o+(_E.test(i)?IE:i===""?PE:NE),r)}function OE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function LE(t,e){let{routesMeta:n}=t,r={},o="/",i=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",u=ME({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;i.push({params:r,pathname:or([o,u.pathname]),pathnameBase:zE(or([o,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(o=or([o,u.pathnameBase]))}return i}function ME(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jE(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let h=a[d]||"";s=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}return c[u]=UE(a[d]||"",u),c},{}),pathname:i,pathnameBase:s,pattern:t}}function jE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function DE(t){try{return decodeURI(t)}catch(e){return lf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function UE(t,e){try{return decodeURIComponent(t)}catch(n){return lf(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function cf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FE(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Qo(t):t;return{pathname:n?n.startsWith("/")?n:HE(n,e):e,search:VE(r),hash:$E(o)}}function HE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function eu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uf(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function df(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=Qo(t):(o=ls({},t),ke(!o.pathname||!o.pathname.includes("?"),eu("?","pathname","search",o)),ke(!o.pathname||!o.pathname.includes("#"),eu("#","pathname","hash",o)),ke(!o.search||!o.search.includes("#"),eu("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;o.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=FE(o,a),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const or=t=>t.join("/").replace(/\/\/+/g,"/"),zE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$E=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Z0=["post","put","patch","delete"];new Set(Z0);const KE=["get",...Z0];new Set(KE);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}const hf=N.createContext(null),eb=N.createContext(null),Jr=N.createContext(null),Zl=N.createContext(null),tn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),tb=N.createContext(null);function qE(t,e){let{relative:n}=e===void 0?{}:e;Zo()||ke(!1);let{basename:r,navigator:o}=N.useContext(Jr),{hash:i,pathname:s,search:a}=ff(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:or([r,s])),o.createHref({pathname:l,search:a,hash:i})}function Zo(){return N.useContext(Zl)!=null}function Qr(){return Zo()||ke(!1),N.useContext(Zl).location}function nb(t){N.useContext(Jr).static||N.useLayoutEffect(t)}function ei(){let{isDataRoute:t}=N.useContext(tn);return t?lC():GE()}function GE(){Zo()||ke(!1);let t=N.useContext(hf),{basename:e,navigator:n}=N.useContext(Jr),{matches:r}=N.useContext(tn),{pathname:o}=Qr(),i=JSON.stringify(uf(r).map(l=>l.pathnameBase)),s=N.useRef(!1);return nb(()=>{s.current=!0}),N.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=df(l,JSON.parse(i),o,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:or([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,i,o,t])}const YE=N.createContext(null);function XE(t){let e=N.useContext(tn).outlet;return e&&N.createElement(YE.Provider,{value:t},e)}function ti(){let{matches:t}=N.useContext(tn),e=t[t.length-1];return e?e.params:{}}function ff(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=N.useContext(tn),{pathname:o}=Qr(),i=JSON.stringify(uf(r).map(s=>s.pathnameBase));return N.useMemo(()=>df(t,JSON.parse(i),o,n==="path"),[t,i,o,n])}function JE(t,e){return QE(t,e)}function QE(t,e,n){Zo()||ke(!1);let{navigator:r}=N.useContext(Jr),{matches:o}=N.useContext(tn),i=o[o.length-1],s=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=Qr(),c;if(e){var u;let v=typeof e=="string"?Qo(e):e;a==="/"||(u=v.pathname)!=null&&u.startsWith(a)||ke(!1),c=v}else c=l;let d=c.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",m=CE(t,{pathname:h}),p=rC(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:or([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:or([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n);return e&&p?N.createElement(Zl.Provider,{value:{location:dl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Yn.Pop}},p):p}function ZE(){let t=aC(),e=WE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,i)}const eC=N.createElement(ZE,null);class tC extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?N.createElement(tn.Provider,{value:this.props.routeContext},N.createElement(tb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nC(t){let{routeContext:e,match:n,children:r}=t,o=N.useContext(hf);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(tn.Provider,{value:e},r)}function rC(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let i=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=i.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||ke(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let u=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||eC);let h=e.concat(i.slice(0,c+1)),m=()=>{let p;return u?p=d:l.route.Component?p=N.createElement(l.route.Component,null):l.route.element?p=l.route.element:p=a,N.createElement(nC,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:p})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?N.createElement(tC,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):m()},null)}var Ed;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Ed||(Ed={}));var cs;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(cs||(cs={}));function oC(t){let e=N.useContext(hf);return e||ke(!1),e}function iC(t){let e=N.useContext(eb);return e||ke(!1),e}function sC(t){let e=N.useContext(tn);return e||ke(!1),e}function rb(t){let e=sC(),n=e.matches[e.matches.length-1];return n.route.id||ke(!1),n.route.id}function aC(){var t;let e=N.useContext(tb),n=iC(cs.UseRouteError),r=rb(cs.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function lC(){let{router:t}=oC(Ed.UseNavigateStable),e=rb(cs.UseNavigateStable),n=N.useRef(!1);return nb(()=>{n.current=!0}),N.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,dl({fromRouteId:e},i)))},[t,e])}function pf(t){let{to:e,replace:n,state:r,relative:o}=t;Zo()||ke(!1);let{matches:i}=N.useContext(tn),{pathname:s}=Qr(),a=ei(),l=df(e,uf(i).map(u=>u.pathnameBase),s,o==="path"),c=JSON.stringify(l);return N.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:o}),[a,c,o,n,r]),null}function ob(t){return XE(t.context)}function Oe(t){ke(!1)}function cC(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Yn.Pop,navigator:i,static:s=!1}=t;Zo()&&ke(!1);let a=e.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:a,navigator:i,static:s}),[a,i,s]);typeof r=="string"&&(r=Qo(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:m="default"}=r,p=N.useMemo(()=>{let v=cf(c,a);return v==null?null:{location:{pathname:v,search:u,hash:d,state:h,key:m},navigationType:o}},[a,c,u,d,h,m,o]);return p==null?null:N.createElement(Jr.Provider,{value:l},N.createElement(Zl.Provider,{children:n,value:p}))}function uC(t){let{children:e,location:n}=t;return JE(Cd(e),n)}var Am;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Am||(Am={}));new Promise(()=>{});function Cd(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,o)=>{if(!N.isValidElement(r))return;let i=[...e,o];if(r.type===N.Fragment){n.push.apply(n,Cd(r.props.children,i));return}r.type!==Oe&&ke(!1),!r.props.index||!r.props.children||ke(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Cd(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hl.apply(this,arguments)}function ib(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function dC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hC(t,e){return t.button===0&&(!e||e==="_self")&&!dC(t)}function Td(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function fC(t,e){let n=Td(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(o=>{n.append(r,o)});return n}const pC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],mC=["aria-current","caseSensitive","className","end","style","to","children"],gC="startTransition",Pm=dk[gC];function vC(t){let{basename:e,children:n,future:r,window:o}=t,i=N.useRef();i.current==null&&(i.current=kE({window:o,v5Compat:!0}));let s=i.current,[a,l]=N.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=N.useCallback(d=>{c&&Pm?Pm(()=>l(d)):l(d)},[l,c]);return N.useLayoutEffect(()=>s.listen(u),[s,u]),N.createElement(cC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s})}const yC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe=N.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:u}=e,d=ib(e,pC),{basename:h}=N.useContext(Jr),m,p=!1;if(typeof c=="string"&&bC.test(c)&&(m=c,yC))try{let g=new URL(window.location.href),f=c.startsWith("//")?new URL(g.protocol+c):new URL(c),w=cf(f.pathname,h);f.origin===g.origin&&w!=null?c=w+f.search+f.hash:p=!0}catch{}let v=qE(c,{relative:o}),E=wC(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:o});function k(g){r&&r(g),g.defaultPrevented||E(g)}return N.createElement("a",hl({},d,{href:m||v,onClick:p||i?r:k,ref:n,target:l}))}),mi=N.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:i="",end:s=!1,style:a,to:l,children:c}=e,u=ib(e,mC),d=ff(l,{relative:u.relative}),h=Qr(),m=N.useContext(eb),{navigator:p}=N.useContext(Jr),v=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,E=h.pathname,k=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(E=E.toLowerCase(),k=k?k.toLowerCase():null,v=v.toLowerCase());let g=E===v||!s&&E.startsWith(v)&&E.charAt(v.length)==="/",f=k!=null&&(k===v||!s&&k.startsWith(v)&&k.charAt(v.length)==="/"),w=g?r:void 0,S;typeof i=="function"?S=i({isActive:g,isPending:f}):S=[i,g?"active":null,f?"pending":null].filter(Boolean).join(" ");let _=typeof a=="function"?a({isActive:g,isPending:f}):a;return N.createElement(oe,hl({},u,{"aria-current":w,className:S,ref:n,style:_,to:l}),typeof c=="function"?c({isActive:g,isPending:f}):c)});var Nm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Nm||(Nm={}));var Rm;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Rm||(Rm={}));function wC(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s}=e===void 0?{}:e,a=ei(),l=Qr(),c=ff(t,{relative:s});return N.useCallback(u=>{if(hC(u,n)){u.preventDefault();let d=r!==void 0?r:ul(l)===ul(c);a(t,{replace:d,state:o,preventScrollReset:i,relative:s})}},[l,a,c,r,o,n,t,i,s])}function xC(t){let e=N.useRef(Td(t)),n=N.useRef(!1),r=Qr(),o=N.useMemo(()=>fC(r.search,n.current?null:e.current),[r.search]),i=ei(),s=N.useCallback((a,l)=>{const c=Td(typeof a=="function"?a(o):a);n.current=!0,i("?"+c,l)},[i,o]);return[o,s]}const sb="/assets/logo-dark-e46e85a3.png",ab="/assets/logo-light-9e3aca91.png",lb=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ec=N.createContext({}),tc=N.createContext(null),nc=typeof document<"u",fl=nc?N.useLayoutEffect:N.useEffect,cb=N.createContext({strict:!1});function kC(t,e,n,r){const{visualElement:o}=N.useContext(ec),i=N.useContext(cb),s=N.useContext(tc),a=N.useContext(lb).reducedMotion,l=N.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return N.useInsertionEffect(()=>{c&&c.update(n,s)}),fl(()=>{c&&c.render()}),N.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?fl:N.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function ko(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function SC(t,e,n){return N.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ko(n)&&(n.current=r))},[e])}function us(t){return typeof t=="string"||Array.isArray(t)}function rc(t){return typeof t=="object"&&typeof t.start=="function"}const mf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gf=["initial",...mf];function oc(t){return rc(t.animate)||gf.some(e=>us(t[e]))}function ub(t){return!!(oc(t)||t.variants)}function EC(t,e){if(oc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||us(n)?n:void 0,animate:us(r)?r:void 0}}return t.inherit!==!1?e:{}}function CC(t){const{initial:e,animate:n}=EC(t,N.useContext(ec));return N.useMemo(()=>({initial:e,animate:n}),[Bm(e),Bm(n)])}function Bm(t){return Array.isArray(t)?t.join(" "):t}const Om={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ds={};for(const t in Om)ds[t]={isEnabled:e=>Om[t].some(n=>!!e[n])};function TC(t){for(const e in t)ds[e]={...ds[e],...t[e]}}const vf=N.createContext({}),db=N.createContext({}),_C=Symbol.for("motionComponentSymbol");function IC({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&TC(t);function i(a,l){let c;const u={...N.useContext(lb),...a,layoutId:AC(a)},{isStatic:d}=u,h=CC(a),m=r(a,d);if(!d&&nc){h.visualElement=kC(o,m,u,e);const p=N.useContext(db),v=N.useContext(cb).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,v,t,p))}return N.createElement(ec.Provider,{value:h},c&&h.visualElement?N.createElement(c,{visualElement:h.visualElement,...u}):null,n(o,a,SC(m,h.visualElement,l),m,d,h.visualElement))}const s=N.forwardRef(i);return s[_C]=o,s}function AC({layoutId:t}){const e=N.useContext(vf).id;return e&&t!==void 0?e+"-"+t:t}function PC(t){function e(r,o={}){return IC(t(r,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const NC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yf(t){return typeof t!="string"||t.includes("-")?!1:!!(NC.indexOf(t)>-1||/[A-Z]/.test(t))}const pl={};function RC(t){Object.assign(pl,t)}const Ss=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zr=new Set(Ss);function hb(t,{layout:e,layoutId:n}){return Zr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pl[t]||t==="opacity")}const ht=t=>!!(t&&t.getVelocity),BC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OC=Ss.length;function LC(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<OC;s++){const a=Ss[s];if(t[a]!==void 0){const l=BC[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(t,r?"":i):n&&r&&(i="none"),i}const fb=t=>e=>typeof e=="string"&&e.startsWith(t),pb=fb("--"),_d=fb("var(--"),MC=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,jC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,hr=(t,e,n)=>Math.min(Math.max(n,t),e),eo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mi={...eo,transform:t=>hr(0,1,t)},ra={...eo,default:1},ji=t=>Math.round(t*1e5)/1e5,ic=/(-)?([\d]*\.?[\d])+/g,mb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,DC=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Es(t){return typeof t=="string"}const Cs=t=>({test:e=>Es(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ln=Cs("deg"),Xt=Cs("%"),K=Cs("px"),UC=Cs("vh"),FC=Cs("vw"),Lm={...Xt,parse:t=>Xt.parse(t)/100,transform:t=>Xt.transform(t*100)},Mm={...eo,transform:Math.round},gb={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,size:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,rotate:Ln,rotateX:Ln,rotateY:Ln,rotateZ:Ln,scale:ra,scaleX:ra,scaleY:ra,scaleZ:ra,skew:Ln,skewX:Ln,skewY:Ln,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:Mi,originX:Lm,originY:Lm,originZ:K,zIndex:Mm,fillOpacity:Mi,strokeOpacity:Mi,numOctaves:Mm};function bf(t,e,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const h=e[d];if(pb(d)){i[d]=h;continue}const m=gb[d],p=jC(h,m);if(Zr.has(d)){if(l=!0,s[d]=p,!u)continue;h!==(m.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=p):o[d]=p}if(e.transform||(l||r?o.transform=LC(t.transform,n,u,r):o.transform&&(o.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=a;o.transformOrigin=`${d} ${h} ${m}`}}const wf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vb(t,e,n){for(const r in e)!ht(e[r])&&!hb(r,n)&&(t[r]=e[r])}function HC({transformTemplate:t},e,n){return N.useMemo(()=>{const r=wf();return bf(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function zC(t,e,n){const r=t.style||{},o={};return vb(o,r,t),Object.assign(o,HC(t,e,n)),t.transformValues?t.transformValues(o):o}function VC(t,e,n){const r={},o=zC(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const $C=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function ml(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||$C.has(t)}let yb=t=>!ml(t);function WC(t){t&&(yb=e=>e.startsWith("on")?!ml(e):t(e))}try{WC(require("@emotion/is-prop-valid").default)}catch{}function KC(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(yb(o)||n===!0&&ml(o)||!e&&!ml(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function jm(t,e,n){return typeof t=="string"?t:K.transform(e+n*t)}function qC(t,e,n){const r=jm(e,t.x,t.width),o=jm(n,t.y,t.height);return`${r} ${o}`}const GC={offset:"stroke-dashoffset",array:"stroke-dasharray"},YC={offset:"strokeDashoffset",array:"strokeDasharray"};function XC(t,e,n=1,r=0,o=!0){t.pathLength=1;const i=o?GC:YC;t[i.offset]=K.transform(-r);const s=K.transform(e),a=K.transform(n);t[i.array]=`${s} ${a}`}function xf(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,d,h){if(bf(t,c,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:v}=t;m.transform&&(v&&(p.transform=m.transform),delete m.transform),v&&(o!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=qC(v,o!==void 0?o:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&XC(m,s,a,l,!1)}const bb=()=>({...wf(),attrs:{}}),kf=t=>typeof t=="string"&&t.toLowerCase()==="svg";function JC(t,e,n,r){const o=N.useMemo(()=>{const i=bb();return xf(i,e,{enableHardwareAcceleration:!1},kf(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};vb(i,t.style,t),o.style={...i,...o.style}}return o}function QC(t=!1){return(n,r,o,{latestValues:i},s)=>{const l=(yf(n)?JC:VC)(r,i,s,n),u={...KC(r,typeof n=="string",t),...l,ref:o},{children:d}=r,h=N.useMemo(()=>ht(d)?d.get():d,[d]);return N.createElement(n,{...u,children:h})}}const Sf=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function wb(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const xb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kb(t,e,n,r){wb(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(xb.has(o)?o:Sf(o),e.attrs[o])}function Ef(t,e){const{style:n}=t,r={};for(const o in n)(ht(n[o])||e.style&&ht(e.style[o])||hb(o,t))&&(r[o]=n[o]);return r}function Sb(t,e){const n=Ef(t,e);for(const r in t)if(ht(t[r])||ht(e[r])){const o=Ss.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=t[r]}return n}function Cf(t,e,n,r={},o={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),e}function Eb(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const gl=t=>Array.isArray(t),ZC=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),eT=t=>gl(t)?t[t.length-1]||0:t;function Ea(t){const e=ht(t)?t.get():t;return ZC(e)?e.toValue():e}function tT({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,i){const s={latestValues:nT(r,o,i,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const Cb=t=>(e,n)=>{const r=N.useContext(ec),o=N.useContext(tc),i=()=>tT(t,e,r,o);return n?i():Eb(i)};function nT(t,e,n,r){const o={},i=r(t,{});for(const h in i)o[h]=Ea(i[h]);let{initial:s,animate:a}=t;const l=oc(t),c=ub(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const d=u?a:s;return d&&typeof d!="boolean"&&!rc(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const p=Cf(t,m);if(!p)return;const{transitionEnd:v,transition:E,...k}=p;for(const g in k){let f=k[g];if(Array.isArray(f)){const w=u?f.length-1:0;f=f[w]}f!==null&&(o[g]=f)}for(const g in v)o[g]=v[g]}),o}const rT={useVisualState:Cb({scrapeMotionValuesFromProps:Sb,createRenderState:bb,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}xf(n,r,{enableHardwareAcceleration:!1},kf(e.tagName),t.transformTemplate),kb(e,n)}})},oT={useVisualState:Cb({scrapeMotionValuesFromProps:Ef,createRenderState:wf})};function iT(t,{forwardMotionProps:e=!1},n,r){return{...yf(t)?rT:oT,preloadedFeatures:n,useRender:QC(e),createVisualElement:r,Component:t}}function dn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Tb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function sc(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const sT=t=>e=>Tb(e)&&t(e,sc(e));function vn(t,e,n,r){return dn(t,e,sT(n),r)}const aT=(t,e)=>n=>e(t(n)),ir=(...t)=>t.reduce(aT);function _b(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Dm=_b("dragHorizontal"),Um=_b("dragVertical");function Ib(t){let e=!1;if(t==="y")e=Um();else if(t==="x")e=Dm();else{const n=Dm(),r=Um();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Ab(){const t=Ib(!0);return t?(t(),!1):!0}class br{constructor(e){this.isMounted=!1,this.node=e}update(){}}const Ce=t=>t;function lT(t){let e=[],n=[],r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&o,h=d?e:n;return c&&s.add(l),h.indexOf(l)===-1&&(h.push(l),d&&o&&(r=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let c=0;c<r;c++){const u=e[c];u(l),s.has(u)&&(a.schedule(u),t())}o=!1,i&&(i=!1,a.process(l))}};return a}const oa=["prepare","read","update","preRender","render","postRender"],cT=40;function uT(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=oa.reduce((d,h)=>(d[h]=lT(()=>n=!0),d),{}),s=d=>i[d].process(o),a=d=>{n=!1,o.delta=r?1e3/60:Math.max(Math.min(d-o.timestamp,cT),1),o.timestamp=d,o.isProcessing=!0,oa.forEach(s),o.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,o.isProcessing||t(a)};return{schedule:oa.reduce((d,h)=>{const m=i[h];return d[h]=(p,v=!1,E=!1)=>(n||l(),m.schedule(p,v,E)),d},{}),cancel:d=>oa.forEach(h=>i[h].cancel(d)),state:o,steps:i}}const{schedule:he,cancel:Cn,state:$e,steps:tu}=uT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ce,!0);function Fm(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||Ab())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&he.update(()=>a[r](i,s))};return vn(t.current,n,o,{passive:!t.getProps()[r]})}class dT extends br{mount(){this.unmount=ir(Fm(this.node,!0),Fm(this.node,!1))}unmount(){}}class hT extends br{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ir(dn(this.node.current,"focus",()=>this.onFocus()),dn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Pb=(t,e)=>e?t===e?!0:Pb(t,e.parentElement):!1;function nu(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,sc(n))}class fT extends br{constructor(){super(...arguments),this.removeStartListeners=Ce,this.removeEndListeners=Ce,this.removeAccessibleListeners=Ce,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=vn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();he.update(()=>{Pb(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=vn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ir(i,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||nu("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&he.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=dn(this.node.current,"keyup",s),nu("down",(a,l)=>{this.startPress(a,l)})},n=dn(this.node.current,"keydown",e),r=()=>{this.isPressing&&nu("cancel",(i,s)=>this.cancelPress(i,s))},o=dn(this.node.current,"blur",r);this.removeAccessibleListeners=ir(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&he.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Ab()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&he.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=vn(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=dn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ir(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Id=new WeakMap,ru=new WeakMap,pT=t=>{const e=Id.get(t.target);e&&e(t)},mT=t=>{t.forEach(pT)};function gT({root:t,...e}){const n=t||document;ru.has(n)||ru.set(n,{});const r=ru.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(mT,{root:t,...e})),r[o]}function vT(t,e,n){const r=gT(e);return Id.set(t,n),r.observe(t),()=>{Id.delete(t),r.unobserve(t)}}const yT={some:0,all:1};class bT extends br{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:yT[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return vT(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(wT(e,n))&&this.startObserver()}unmount(){}}function wT({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const xT={inView:{Feature:bT},tap:{Feature:fT},focus:{Feature:hT},hover:{Feature:dT}};function Nb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function kT(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function ST(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function ac(t,e,n){const r=t.getProps();return Cf(r,e,n!==void 0?n:r.custom,kT(t),ST(t))}const ET="framerAppearId",CT="data-"+Sf(ET);let TT=Ce,Tf=Ce;const sr=t=>t*1e3,yn=t=>t/1e3,_T={current:!1},Rb=t=>Array.isArray(t)&&typeof t[0]=="number";function Bb(t){return!!(!t||typeof t=="string"&&Ob[t]||Rb(t)||Array.isArray(t)&&t.every(Bb))}const Ei=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Ob={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ei([0,.65,.55,1]),circOut:Ei([.55,0,1,.45]),backIn:Ei([.31,.01,.66,-.59]),backOut:Ei([.33,1.53,.69,.99])};function Lb(t){if(t)return Rb(t)?Ei(t):Array.isArray(t)?t.map(Lb):Ob[t]}function IT(t,e,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Lb(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function AT(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Mb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,PT=1e-7,NT=12;function RT(t,e,n,r,o){let i,s,a=0;do s=e+(n-e)/2,i=Mb(s,r,o)-t,i>0?n=s:e=s;while(Math.abs(i)>PT&&++a<NT);return s}function Ts(t,e,n,r){if(t===e&&n===r)return Ce;const o=i=>RT(i,0,1,t,n);return i=>i===0||i===1?i:Mb(o(i),e,r)}const BT=Ts(.42,0,1,1),OT=Ts(0,0,.58,1),jb=Ts(.42,0,.58,1),LT=t=>Array.isArray(t)&&typeof t[0]!="number",Db=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ub=t=>e=>1-t(1-e),Fb=t=>1-Math.sin(Math.acos(t)),_f=Ub(Fb),MT=Db(_f),Hb=Ts(.33,1.53,.69,.99),If=Ub(Hb),jT=Db(If),DT=t=>(t*=2)<1?.5*If(t):.5*(2-Math.pow(2,-10*(t-1))),UT={linear:Ce,easeIn:BT,easeInOut:jb,easeOut:OT,circIn:Fb,circInOut:MT,circOut:_f,backIn:If,backInOut:jT,backOut:Hb,anticipate:DT},Hm=t=>{if(Array.isArray(t)){Tf(t.length===4);const[e,n,r,o]=t;return Ts(e,n,r,o)}else if(typeof t=="string")return UT[t];return t},Af=(t,e)=>n=>!!(Es(n)&&DC.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),zb=(t,e,n)=>r=>{if(!Es(r))return r;const[o,i,s,a]=r.match(ic);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},FT=t=>hr(0,255,t),ou={...eo,transform:t=>Math.round(FT(t))},Nr={test:Af("rgb","red"),parse:zb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ou.transform(t)+", "+ou.transform(e)+", "+ou.transform(n)+", "+ji(Mi.transform(r))+")"};function HT(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Ad={test:Af("#"),parse:HT,transform:Nr.transform},So={test:Af("hsl","hue"),parse:zb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xt.transform(ji(e))+", "+Xt.transform(ji(n))+", "+ji(Mi.transform(r))+")"},et={test:t=>Nr.test(t)||Ad.test(t)||So.test(t),parse:t=>Nr.test(t)?Nr.parse(t):So.test(t)?So.parse(t):Ad.parse(t),transform:t=>Es(t)?t:t.hasOwnProperty("red")?Nr.transform(t):So.transform(t)},pe=(t,e,n)=>-n*t+n*e+t;function iu(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function zT({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,i=0,s=0;if(!e)o=i=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;o=iu(l,a,t+1/3),i=iu(l,a,t),s=iu(l,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const su=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},VT=[Ad,Nr,So],$T=t=>VT.find(e=>e.test(t));function zm(t){const e=$T(t);let n=e.parse(t);return e===So&&(n=zT(n)),n}const Vb=(t,e)=>{const n=zm(t),r=zm(e),o={...n};return i=>(o.red=su(n.red,r.red,i),o.green=su(n.green,r.green,i),o.blue=su(n.blue,r.blue,i),o.alpha=pe(n.alpha,r.alpha,i),Nr.transform(o))};function WT(t){var e,n;return isNaN(t)&&Es(t)&&(((e=t.match(ic))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(mb))===null||n===void 0?void 0:n.length)||0)>0}const $b={regex:MC,countKey:"Vars",token:"${v}",parse:Ce},Wb={regex:mb,countKey:"Colors",token:"${c}",parse:et.parse},Kb={regex:ic,countKey:"Numbers",token:"${n}",parse:eo.parse};function au(t,{regex:e,countKey:n,token:r,parse:o}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(o)))}function vl(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&au(n,$b),au(n,Wb),au(n,Kb),n}function qb(t){return vl(t).values}function Gb(t){const{values:e,numColors:n,numVars:r,tokenised:o}=vl(t),i=e.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace($b.token,s[l]):l<r+n?a=a.replace(Wb.token,et.transform(s[l])):a=a.replace(Kb.token,ji(s[l]));return a}}const KT=t=>typeof t=="number"?0:t;function qT(t){const e=qb(t);return Gb(t)(e.map(KT))}const fr={test:WT,parse:qb,createTransformer:Gb,getAnimatableNone:qT},Yb=(t,e)=>n=>`${n>0?e:t}`;function Xb(t,e){return typeof t=="number"?n=>pe(t,e,n):et.test(t)?Vb(t,e):t.startsWith("var(")?Yb(t,e):Qb(t,e)}const Jb=(t,e)=>{const n=[...t],r=n.length,o=t.map((i,s)=>Xb(i,e[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},GT=(t,e)=>{const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=Xb(t[o],e[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},Qb=(t,e)=>{const n=fr.createTransformer(e),r=vl(t),o=vl(e);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?ir(Jb(r.values,o.values),n):Yb(t,e)},hs=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Vm=(t,e)=>n=>pe(t,e,n);function YT(t){return typeof t=="number"?Vm:typeof t=="string"?et.test(t)?Vb:Qb:Array.isArray(t)?Jb:typeof t=="object"?GT:Vm}function XT(t,e,n){const r=[],o=n||YT(t[0]),i=t.length-1;for(let s=0;s<i;s++){let a=o(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Ce:e;a=ir(l,a)}r.push(a)}return r}function Zb(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const i=t.length;if(Tf(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=XT(e,r,o),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=hs(t[u],t[u+1],c);return s[u](d)};return n?c=>l(hr(t[0],t[i-1],c)):l}function JT(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=hs(0,e,r);t.push(pe(n,1,o))}}function QT(t){const e=[0];return JT(e,t.length-1),e}function ZT(t,e){return t.map(n=>n*e)}function e_(t,e){return t.map(()=>e||jb).splice(0,t.length-1)}function yl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=LT(r)?r.map(Hm):Hm(r),i={done:!1,value:e[0]},s=ZT(n&&n.length===e.length?n:QT(e),t),a=Zb(s,e,{ease:Array.isArray(o)?o:e_(e,o)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function e1(t,e){return e?t*(1e3/e):0}const t_=5;function t1(t,e,n){const r=Math.max(e-t_,0);return e1(n-t(r),e-r)}const lu=.001,n_=.01,$m=10,r_=.05,o_=1;function i_({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,i;TT(t<=sr($m));let s=1-e;s=hr(r_,o_,s),t=hr(n_,$m,yn(t)),s<1?(o=c=>{const u=c*s,d=u*t,h=u-n,m=Pd(c,s),p=Math.exp(-d);return lu-h/m*p},i=c=>{const d=c*s*t,h=d*n+n,m=Math.pow(s,2)*Math.pow(c,2)*t,p=Math.exp(-d),v=Pd(Math.pow(c,2),s);return(-o(c)+lu>0?-1:1)*((h-m)*p)/v}):(o=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-lu+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=a_(o,i,a);if(t=sr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const s_=12;function a_(t,e,n){let r=n;for(let o=1;o<s_;o++)r=r-t(r)/e(r);return r}function Pd(t,e){return t*Math.sqrt(1-e*e)}const l_=["duration","bounce"],c_=["stiffness","damping","mass"];function Wm(t,e){return e.some(n=>t[n]!==void 0)}function u_(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Wm(t,c_)&&Wm(t,l_)){const n=i_(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function n1({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],i=t[t.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:h}=u_(r),m=u?-yn(u):0,p=l/(2*Math.sqrt(a*c)),v=i-o,E=yn(Math.sqrt(a/c)),k=Math.abs(v)<5;n||(n=k?.01:2),e||(e=k?.005:.5);let g;if(p<1){const f=Pd(E,p);g=w=>{const S=Math.exp(-p*E*w);return i-S*((m+p*E*v)/f*Math.sin(f*w)+v*Math.cos(f*w))}}else if(p===1)g=f=>i-Math.exp(-E*f)*(v+(m+E*v)*f);else{const f=E*Math.sqrt(p*p-1);g=w=>{const S=Math.exp(-p*E*w),_=Math.min(f*w,300);return i-S*((m+p*E*v)*Math.sinh(_)+f*v*Math.cosh(_))/f}}return{calculatedDuration:h&&d||null,next:f=>{const w=g(f);if(h)s.done=f>=d;else{let S=m;f!==0&&(p<1?S=t1(g,f,w):S=0);const _=Math.abs(S)<=n,P=Math.abs(i-w)<=e;s.done=_&&P}return s.value=s.done?i:w,s}}}function Km({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},m=y=>a!==void 0&&y<a||l!==void 0&&y>l,p=y=>a===void 0?l:l===void 0||Math.abs(a-y)<Math.abs(l-y)?a:l;let v=n*e;const E=d+v,k=s===void 0?E:s(E);k!==E&&(v=k-d);const g=y=>-v*Math.exp(-y/r),f=y=>k+g(y),w=y=>{const x=g(y),T=f(y);h.done=Math.abs(x)<=c,h.value=h.done?k:T};let S,_;const P=y=>{m(h.value)&&(S=y,_=n1({keyframes:[h.value,p(h.value)],velocity:t1(f,y,h.value),damping:o,stiffness:i,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:y=>{let x=!1;return!_&&S===void 0&&(x=!0,w(y),P(y)),S!==void 0&&y>S?_.next(y-S):(!x&&w(y),h)}}}const d_=t=>{const e=({timestamp:n})=>t(n);return{start:()=>he.update(e,!0),stop:()=>Cn(e),now:()=>$e.isProcessing?$e.timestamp:performance.now()}},qm=2e4;function Gm(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<qm;)e+=n,r=t.next(e);return e>=qm?1/0:e}const h_={decay:Km,inertia:Km,tween:yl,keyframes:yl,spring:n1};function bl({autoplay:t=!0,delay:e=0,driver:n=d_,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...h}){let m=1,p=!1,v,E;const k=()=>{E=new Promise(z=>{v=z})};k();let g;const f=h_[o]||yl;let w;f!==yl&&typeof r[0]!="number"&&(w=Zb([0,100],r,{clamp:!1}),r=[0,100]);const S=f({...h,keyframes:r});let _;a==="mirror"&&(_=f({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let P="idle",y=null,x=null,T=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=Gm(S));const{calculatedDuration:C}=S;let A=1/0,R=1/0;C!==null&&(A=C+s,R=A*(i+1)-s);let O=0;const I=z=>{if(x===null)return;m>0&&(x=Math.min(x,z)),m<0&&(x=Math.min(z-R/m,x)),y!==null?O=y:O=Math.round(z-x)*m;const Y=O-e*(m>=0?1:-1),Ye=m>=0?Y<0:Y>R;O=Math.max(Y,0),P==="finished"&&y===null&&(O=R);let J=O,Fe=S;if(i){const Nt=O/A;let He=Math.floor(Nt),Je=Nt%1;!Je&&Nt>=1&&(Je=1),Je===1&&He--,He=Math.min(He,i+1);const pp=!!(He%2);pp&&(a==="reverse"?(Je=1-Je,s&&(Je-=s/A)):a==="mirror"&&(Fe=_));let mp=hr(0,1,Je);O>R&&(mp=a==="reverse"&&pp?1:0),J=mp*A}const be=Ye?{done:!1,value:r[0]}:Fe.next(J);w&&(be.value=w(be.value));let{done:Xe}=be;!Ye&&C!==null&&(Xe=m>=0?O>=R:O<=0);const Nn=y===null&&(P==="finished"||P==="running"&&Xe);return d&&d(be.value),Nn&&L(),be},B=()=>{g&&g.stop(),g=void 0},D=()=>{P="idle",B(),v(),k(),x=T=null},L=()=>{P="finished",u&&u(),B(),v()},j=()=>{if(p)return;g||(g=n(I));const z=g.now();l&&l(),y!==null?x=z-y:(!x||P==="finished")&&(x=z),P==="finished"&&k(),T=x,y=null,P="running",g.start()};t&&j();const H={then(z,Y){return E.then(z,Y)},get time(){return yn(O)},set time(z){z=sr(z),O=z,y!==null||!g||m===0?y=z:x=g.now()-z/m},get duration(){const z=S.calculatedDuration===null?Gm(S):S.calculatedDuration;return yn(z)},get speed(){return m},set speed(z){z===m||!g||(m=z,H.time=yn(O))},get state(){return P},play:j,pause:()=>{P="paused",y=O},stop:()=>{p=!0,P!=="idle"&&(P="idle",c&&c(),D())},cancel:()=>{T!==null&&I(T),D()},complete:()=>{P="finished"},sample:z=>(x=0,I(z))};return H}function f_(t){let e;return()=>(e===void 0&&(e=t()),e)}const p_=f_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),m_=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ia=10,g_=2e4,v_=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Bb(e.ease);function y_(t,e,{onUpdate:n,onComplete:r,...o}){if(!(p_()&&m_.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l;const c=()=>{l=new Promise(k=>{a=k})};c();let{keyframes:u,duration:d=300,ease:h,times:m}=o;if(v_(e,o)){const k=bl({...o,repeat:0,delay:0});let g={done:!1,value:u[0]};const f=[];let w=0;for(;!g.done&&w<g_;)g=k.sample(w),f.push(g.value),w+=ia;m=void 0,u=f,d=w-ia,h="linear"}const p=IT(t.owner.current,e,u,{...o,duration:d,ease:h,times:m}),v=()=>p.cancel(),E=()=>{he.update(v),a(),c()};return p.onfinish=()=>{t.set(AT(u,o)),r&&r(),E()},{then(k,g){return l.then(k,g)},get timeline(){return p.timeline},set timeline(k){p.timeline=k,p.onfinish=null},get time(){return yn(p.currentTime||0)},set time(k){p.currentTime=sr(k)},get speed(){return p.playbackRate},set speed(k){p.playbackRate=k},get duration(){return yn(d)},play:()=>{s||(p.play(),Cn(v))},pause:()=>p.pause(),stop:()=>{if(s=!0,p.playState==="idle")return;const{currentTime:k}=p;if(k){const g=bl({...o,autoplay:!1});t.setWithVelocity(g.sample(k-ia).value,g.sample(k).value,ia)}E()},complete:()=>p.finish(),cancel:E}}function b_({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const o=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ce,pause:Ce,stop:Ce,then:i=>(i(),Promise.resolve()),cancel:Ce,complete:Ce});return e?bl({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const w_={type:"spring",stiffness:500,damping:25,restSpeed:10},x_=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),k_={type:"keyframes",duration:.8},S_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},E_=(t,{keyframes:e})=>e.length>2?k_:Zr.has(t)?t.startsWith("scale")?x_(e[1]):w_:S_,Nd=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fr.test(e)||e==="0")&&!e.startsWith("url(")),C_=new Set(["brightness","contrast","saturate","opacity"]);function T_(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ic)||[];if(!r)return t;const o=n.replace(r,"");let i=C_.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+o+")"}const __=/([a-z-]*)\(.*?\)/g,Rd={...fr,getAnimatableNone:t=>{const e=t.match(__);return e?e.map(T_).join(" "):t}},I_={...gb,color:et,backgroundColor:et,outlineColor:et,fill:et,stroke:et,borderColor:et,borderTopColor:et,borderRightColor:et,borderBottomColor:et,borderLeftColor:et,filter:Rd,WebkitFilter:Rd},Pf=t=>I_[t];function r1(t,e){let n=Pf(t);return n!==Rd&&(n=fr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const o1=t=>/^0[^.\s]+$/.test(t);function A_(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||o1(t)}function P_(t,e,n,r){const o=Nd(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?s:i[c-1]),A_(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];i[u]=r1(e,a)}return i}function N_({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function i1(t,e){return t[e]||t.default||t}const Nf=(t,e,n,r={})=>o=>{const i=i1(r,t)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-sr(s);const l=P_(e,t,n,i),c=l[0],u=l[l.length-1],d=Nd(t,c),h=Nd(t,u);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:p=>{e.set(p),i.onUpdate&&i.onUpdate(p)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(N_(i)||(m={...m,...E_(t,m)}),m.duration&&(m.duration=sr(m.duration)),m.repeatDelay&&(m.repeatDelay=sr(m.repeatDelay)),!d||!h||_T.current||i.type===!1)return b_(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=y_(e,t,m);if(p)return p}return bl(m)};function wl(t){return!!(ht(t)&&t.add)}const R_=t=>/^\-?\d*\.?\d+$/.test(t);function Rf(t,e){t.indexOf(e)===-1&&t.push(e)}function Bf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Of{constructor(){this.subscriptions=[]}add(e){return Rf(this.subscriptions,e),()=>Bf(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const B_=t=>!isNaN(parseFloat(t));class O_{constructor(e,n={}){this.version="10.13.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=$e;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,he.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>he.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=B_(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Of);const r=this.events[e].add(n);return e==="change"?()=>{r(),he.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?e1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(t,e){return new O_(t,e)}const s1=t=>e=>e.test(t),L_={test:t=>t==="auto",parse:t=>t},a1=[eo,K,Xt,Ln,FC,UC,L_],gi=t=>a1.find(s1(t)),M_=[...a1,et,fr],j_=t=>M_.find(s1(t));function D_(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ho(n))}function U_(t,e){const n=ac(t,e);let{transitionEnd:r={},transition:o={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=eT(i[s]);D_(t,s,a)}}function F_(t,e,n){var r,o;const i=Object.keys(e).filter(a=>!t.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(o=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&o!==void 0?o:e[l]),u!=null&&(typeof u=="string"&&(R_(u)||o1(u))?u=parseFloat(u):!j_(u)&&fr.test(c)&&(u=r1(l,c)),t.addValue(l,Ho(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function H_(t,e){return e?(e[t]||e.default||e).from:void 0}function z_(t,e,n){const r={};for(const o in t){const i=H_(o,e);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function V_({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function l1(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],u=o&&t.animationState&&t.animationState.getState()[o];for(const d in a){const h=t.getValue(d),m=a[d];if(!h||m===void 0||u&&V_(u,d))continue;const p={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!h.hasAnimated){const E=t.getProps()[CT];E&&(p.elapsed=window.HandoffAppearAnimations(E,d,h,he))}h.start(Nf(d,h,m,t.shouldReduceMotion&&Zr.has(d)?{type:!1}:p));const v=h.animation;wl(l)&&(l.add(d),v.then(()=>l.remove(d))),c.push(v)}return s&&Promise.all(c).then(()=>{s&&U_(t,s)}),c}function Bd(t,e,n={}){const r=ac(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(l1(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=o;return $_(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,c]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>c())}else return Promise.all([i(),s(n.delay)])}function $_(t,e,n=0,r=0,o=1,i){const s=[],a=(t.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(W_).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(Bd(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function W_(t,e){return t.sortNodePosition(e)}function K_(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(i=>Bd(t,i,n));r=Promise.all(o)}else if(typeof e=="string")r=Bd(t,e,n);else{const o=typeof e=="function"?ac(t,e,n.custom):e;r=Promise.all(l1(t,o,n))}return r.then(()=>t.notify("AnimationComplete",e))}const q_=[...mf].reverse(),G_=mf.length;function Y_(t){return e=>Promise.all(e.map(({animation:n,options:r})=>K_(t,n,r)))}function X_(t){let e=Y_(t);const n=Q_();let r=!0;const o=(l,c)=>{const u=ac(t,c);if(u){const{transition:d,transitionEnd:h,...m}=u;l={...l,...m,...h}}return l};function i(l){e=l(t)}function s(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],m=new Set;let p={},v=1/0;for(let k=0;k<G_;k++){const g=q_[k],f=n[g],w=u[g]!==void 0?u[g]:d[g],S=us(w),_=g===c?f.isActive:null;_===!1&&(v=k);let P=w===d[g]&&w!==u[g]&&S;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),f.protectedKeys={...p},!f.isActive&&_===null||!w&&!f.prevProp||rc(w)||typeof w=="boolean")continue;const y=J_(f.prevProp,w);let x=y||g===c&&f.isActive&&!P&&S||k>v&&S;const T=Array.isArray(w)?w:[w];let C=T.reduce(o,{});_===!1&&(C={});const{prevResolvedValues:A={}}=f,R={...A,...C},O=I=>{x=!0,m.delete(I),f.needsAnimating[I]=!0};for(const I in R){const B=C[I],D=A[I];p.hasOwnProperty(I)||(B!==D?gl(B)&&gl(D)?!Nb(B,D)||y?O(I):f.protectedKeys[I]=!0:B!==void 0?O(I):m.add(I):B!==void 0&&m.has(I)?O(I):f.protectedKeys[I]=!0)}f.prevProp=w,f.prevResolvedValues=C,f.isActive&&(p={...p,...C}),r&&t.blockInitialAnimation&&(x=!1),x&&!P&&h.push(...T.map(I=>({animation:I,options:{type:g,...l}})))}if(m.size){const k={};m.forEach(g=>{const f=t.getBaseTarget(g);f!==void 0&&(k[g]=f)}),h.push({animation:k})}let E=!!h.length;return r&&u.initial===!1&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(h):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=s(u,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function J_(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Nb(e,t):!1}function kr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Q_(){return{animate:kr(!0),whileInView:kr(),whileHover:kr(),whileTap:kr(),whileDrag:kr(),whileFocus:kr(),exit:kr()}}class Z_ extends br{constructor(e){super(e),e.animationState||(e.animationState=X_(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),rc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let e2=0;class t2 extends br{constructor(){super(...arguments),this.id=e2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const n2={animation:{Feature:Z_},exit:{Feature:t2}},Ym=(t,e)=>Math.abs(t-e);function r2(t,e){const n=Ym(t.x,e.x),r=Ym(t.y,e.y);return Math.sqrt(n**2+r**2)}class c1{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=uu(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,d=r2(c.offset,{x:0,y:0})>=3;if(!u&&!d)return;const{point:h}=c,{timestamp:m}=$e;this.history.push({...h,timestamp:m});const{onStart:p,onMove:v}=this.handlers;u||(p&&p(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=cu(u,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:h}=this.handlers,m=uu(c.type==="pointercancel"?this.lastMoveEventInfo:cu(u,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,m),h&&h(c,m)},!Tb(e))return;this.handlers=n,this.transformPagePoint=r;const o=sc(e),i=cu(o,this.transformPagePoint),{point:s}=i,{timestamp:a}=$e;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,uu(i,this.history)),this.removeListeners=ir(vn(window,"pointermove",this.handlePointerMove),vn(window,"pointerup",this.handlePointerUp),vn(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cn(this.updatePoint)}}function cu(t,e){return e?{point:e(t.point)}:t}function Xm(t,e){return{x:t.x-e.x,y:t.y-e.y}}function uu({point:t},e){return{point:t,delta:Xm(t,u1(e)),offset:Xm(t,o2(e)),velocity:i2(e,.1)}}function o2(t){return t[0]}function u1(t){return t[t.length-1]}function i2(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=u1(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>sr(e)));)n--;if(!r)return{x:0,y:0};const i=yn(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function bt(t){return t.max-t.min}function Od(t,e=0,n=.01){return Math.abs(t-e)<=n}function Jm(t,e,n,r=.5){t.origin=r,t.originPoint=pe(e.min,e.max,t.origin),t.scale=bt(n)/bt(e),(Od(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=pe(n.min,n.max,t.origin)-t.originPoint,(Od(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Di(t,e,n,r){Jm(t.x,e.x,n.x,r?r.originX:void 0),Jm(t.y,e.y,n.y,r?r.originY:void 0)}function Qm(t,e,n){t.min=n.min+e.min,t.max=t.min+bt(e)}function s2(t,e,n){Qm(t.x,e.x,n.x),Qm(t.y,e.y,n.y)}function Zm(t,e,n){t.min=e.min-n.min,t.max=t.min+bt(e)}function Ui(t,e,n){Zm(t.x,e.x,n.x),Zm(t.y,e.y,n.y)}function a2(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?pe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?pe(n,t,r.max):Math.min(t,n)),t}function eg(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function l2(t,{top:e,left:n,bottom:r,right:o}){return{x:eg(t.x,n,o),y:eg(t.y,e,r)}}function tg(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function c2(t,e){return{x:tg(t.x,e.x),y:tg(t.y,e.y)}}function u2(t,e){let n=.5;const r=bt(t),o=bt(e);return o>r?n=hs(e.min,e.max-r,t.min):r>o&&(n=hs(t.min,t.max-o,e.min)),hr(0,1,n)}function d2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ld=.35;function h2(t=Ld){return t===!1?t=0:t===!0&&(t=Ld),{x:ng(t,"left","right"),y:ng(t,"top","bottom")}}function ng(t,e,n){return{min:rg(t,e),max:rg(t,n)}}function rg(t,e){return typeof t=="number"?t:t[e]||0}const og=()=>({translate:0,scale:1,origin:0,originPoint:0}),Eo=()=>({x:og(),y:og()}),ig=()=>({min:0,max:0}),Se=()=>({x:ig(),y:ig()});function $t(t){return[t("x"),t("y")]}function d1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function f2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function p2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function du(t){return t===void 0||t===1}function Md({scale:t,scaleX:e,scaleY:n}){return!du(t)||!du(e)||!du(n)}function Cr(t){return Md(t)||h1(t)||t.z||t.rotate||t.rotateX||t.rotateY}function h1(t){return sg(t.x)||sg(t.y)}function sg(t){return t&&t!=="0%"}function xl(t,e,n){const r=t-n,o=e*r;return n+o}function ag(t,e,n,r,o){return o!==void 0&&(t=xl(t,o,r)),xl(t,n,r)+e}function jd(t,e=0,n=1,r,o){t.min=ag(t.min,e,n,r,o),t.max=ag(t.max,e,n,r,o)}function f1(t,{x:e,y:n}){jd(t.x,e.translate,e.scale,e.originPoint),jd(t.y,n.translate,n.scale,n.originPoint)}function m2(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Co(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,f1(t,s)),r&&Cr(i.latestValues)&&Co(t,i.latestValues))}e.x=lg(e.x),e.y=lg(e.y)}function lg(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Dn(t,e){t.min=t.min+e,t.max=t.max+e}function cg(t,e,[n,r,o]){const i=e[o]!==void 0?e[o]:.5,s=pe(t.min,t.max,i);jd(t,e[n],e[r],s,e.scale)}const g2=["x","scaleX","originX"],v2=["y","scaleY","originY"];function Co(t,e){cg(t.x,e,g2),cg(t.y,e,v2)}function p1(t,e){return d1(p2(t.getBoundingClientRect(),e))}function y2(t,e,n){const r=p1(t,n),{scroll:o}=e;return o&&(Dn(r.x,o.offset.x),Dn(r.y,o.offset.y)),r}const b2=new WeakMap;class w2{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Se(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=l=>{this.stopAnimation(),n&&this.snapToCursor(sc(l,"page").point)},i=(l,c)=>{const{drag:u,dragPropagation:d,onDragStart:h}=this.getProps();if(u&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ib(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$t(p=>{let v=this.getAxisMotionValue(p).get()||0;if(Xt.test(v)){const{projection:E}=this.visualElement;if(E&&E.layout){const k=E.layout.layoutBox[p];k&&(v=bt(k)*(parseFloat(v)/100))}}this.originPoint[p]=v}),h&&he.update(()=>h(l,c),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(l,c)=>{const{dragPropagation:u,dragDirectionLock:d,onDirectionLock:h,onDrag:m}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:p}=c;if(d&&this.currentDirection===null){this.currentDirection=x2(p),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",c.point,p),this.updateAxis("y",c.point,p),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new c1(e,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&he.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!sa(e,o,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=a2(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;e&&ko(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=l2(r.layoutBox,e):this.constraints=!1,this.elastic=h2(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&$t(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=d2(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ko(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=y2(r,o.root,this.visualElement.getTransformPagePoint());let s=c2(o.layout.layoutBox,i);if(n){const a=n(f2(s));this.hasMutatedConstraints=!!a,a&&(s=d1(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=$t(u=>{if(!sa(u,n,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const h=o?200:1e6,m=o?40:1e7,p={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Nf(e,r,0,n))}stopAnimation(){$t(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){$t(n=>{const{drag:r}=this.getProps();if(!sa(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(e[n]-pe(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ko(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};$t(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=u2({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),$t(s=>{if(!sa(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(pe(l,c,o[s]))})}addListeners(){if(!this.visualElement.current)return;b2.set(this.visualElement,this);const e=this.visualElement.current,n=vn(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ko(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=dn(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&($t(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=Ld,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function sa(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function x2(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class k2 extends br{constructor(e){super(e),this.removeGroupControls=Ce,this.removeListeners=Ce,this.controls=new w2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ce}unmount(){this.removeGroupControls(),this.removeListeners()}}const ug=t=>(e,n)=>{t&&he.update(()=>t(e,n))};class S2 extends br{constructor(){super(...arguments),this.removePointerDownListener=Ce}onPointerDown(e){this.session=new c1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:ug(e),onStart:ug(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&he.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=vn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function E2(){const t=N.useContext(tc);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=N.useId();return N.useEffect(()=>r(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const Ca={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(K.test(t))t=parseFloat(t);else return t;const n=dg(t,e.target.x),r=dg(t,e.target.y);return`${n}% ${r}%`}},C2={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=fr.parse(t);if(o.length>5)return r;const i=fr.createTransformer(t),s=typeof o[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;o[0+s]/=a,o[1+s]/=l;const c=pe(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=c),typeof o[3+s]=="number"&&(o[3+s]/=c),i(o)}};class T2 extends gh.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=e;RC(_2),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ca.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||he.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function m1(t){const[e,n]=E2(),r=N.useContext(vf);return gh.createElement(T2,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(db),isPresent:e,safeToRemove:n})}const _2={borderRadius:{...vi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vi,borderTopRightRadius:vi,borderBottomLeftRadius:vi,borderBottomRightRadius:vi,boxShadow:C2},g1=["TopLeft","TopRight","BottomLeft","BottomRight"],I2=g1.length,hg=t=>typeof t=="string"?parseFloat(t):t,fg=t=>typeof t=="number"||K.test(t);function A2(t,e,n,r,o,i){o?(t.opacity=pe(0,n.opacity!==void 0?n.opacity:1,P2(r)),t.opacityExit=pe(e.opacity!==void 0?e.opacity:1,0,N2(r))):i&&(t.opacity=pe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<I2;s++){const a=`border${g1[s]}Radius`;let l=pg(e,a),c=pg(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||fg(l)===fg(c)?(t[a]=Math.max(pe(hg(l),hg(c),r),0),(Xt.test(c)||Xt.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=pe(e.rotate||0,n.rotate||0,r))}function pg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const P2=v1(0,.5,_f),N2=v1(.5,.95,Ce);function v1(t,e,n){return r=>r<t?0:r>e?1:n(hs(t,e,r))}function mg(t,e){t.min=e.min,t.max=e.max}function kt(t,e){mg(t.x,e.x),mg(t.y,e.y)}function gg(t,e,n,r,o){return t-=e,t=xl(t,1/n,r),o!==void 0&&(t=xl(t,1/o,r)),t}function R2(t,e=0,n=1,r=.5,o,i=t,s=t){if(Xt.test(e)&&(e=parseFloat(e),e=pe(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=pe(i.min,i.max,r);t===i&&(a-=e),t.min=gg(t.min,e,n,a,o),t.max=gg(t.max,e,n,a,o)}function vg(t,e,[n,r,o],i,s){R2(t,e[n],e[r],e[o],e.scale,i,s)}const B2=["x","scaleX","originX"],O2=["y","scaleY","originY"];function yg(t,e,n,r){vg(t.x,e,B2,n?n.x:void 0,r?r.x:void 0),vg(t.y,e,O2,n?n.y:void 0,r?r.y:void 0)}function bg(t){return t.translate===0&&t.scale===1}function y1(t){return bg(t.x)&&bg(t.y)}function Dd(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function wg(t){return bt(t.x)/bt(t.y)}class L2{constructor(){this.members=[]}add(e){Rf(this.members,e),e.scheduleRender()}remove(e){if(Bf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xg(t,e,n){let r="";const o=t.x.translate/e.x,i=t.y.translate/e.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const M2=(t,e)=>t.depth-e.depth;class j2{constructor(){this.children=[],this.isDirty=!1}add(e){Rf(this.children,e),this.isDirty=!0}remove(e){Bf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(M2),this.isDirty=!1,this.children.forEach(e)}}function D2(t,e){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=e&&(Cn(r),t(i-e))};return he.read(r,!0),()=>Cn(r)}function U2(t){window.MotionDebug&&window.MotionDebug.record(t)}function F2(t){return t instanceof SVGElement&&t.tagName!=="svg"}function H2(t,e,n){const r=ht(t)?t:Ho(t);return r.start(Nf("",r,e,n)),r.animation}const kg=["","X","Y","Z"],Sg=1e3;let z2=0;const Tr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function b1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=e==null?void 0:e()){this.id=z2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Tr.totalNodes=Tr.resolvedTargetDeltas=Tr.recalculatedProjection=0,this.nodes.forEach(W2),this.nodes.forEach(X2),this.nodes.forEach(J2),this.nodes.forEach(K2),U2(Tr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new j2)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Of),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=F2(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=D2(h,250),Ca.hasAnimatedSinceResize&&(Ca.hasAnimatedSinceResize=!1,this.nodes.forEach(Cg))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||nI,{onLayoutAnimationStart:E,onLayoutAnimationComplete:k}=u.getProps(),g=!this.targetLayout||!Dd(this.targetLayout,p)||m,f=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||f||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,f);const w={...i1(v,"layout"),onPlay:E,onComplete:k};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||Cg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Cn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Q2),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Eg);return}this.isUpdating||this.nodes.forEach(G2),this.isUpdating=!1,this.nodes.forEach(Y2),this.nodes.forEach(V2),this.nodes.forEach($2),this.clearAllSnapshots();const a=performance.now();$e.delta=hr(0,1e3/60,a-$e.timestamp),$e.timestamp=a,$e.isProcessing=!0,tu.update.process($e),tu.preRender.process($e),tu.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(q2),this.sharedNodes.forEach(Z2)}scheduleUpdateProjection(){he.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Se(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!y1(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||Cr(this.latestValues)||u)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),oI(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Se();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Dn(a.x,l.offset.x),Dn(a.y,l.offset.y)),a}removeElementScroll(s){const a=Se();kt(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){kt(a,s);const{scroll:h}=this.root;h&&(Dn(a.x,-h.offset.x),Dn(a.y,-h.offset.y))}Dn(a.x,u.offset.x),Dn(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=Se();kt(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Co(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Cr(u.latestValues)&&Co(l,u.latestValues)}return Cr(this.latestValues)&&Co(l,this.latestValues),l}removeTransform(s){const a=Se();kt(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Cr(c.latestValues))continue;Md(c.latestValues)&&c.updateSnapshot();const u=Se(),d=c.measurePageBox();kt(u,d),yg(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Cr(this.latestValues)&&yg(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=$e.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Se(),this.relativeTargetOrigin=Se(),Ui(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Se(),this.targetWithTransforms=Se()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kt(this.target,this.layout.layoutBox),f1(this.target,this.targetDelta)):kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Se(),this.relativeTargetOrigin=Se(),Ui(this.relativeTargetOrigin,this.target,m.target),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Md(this.parent.latestValues)||h1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;kt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;m2(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=Eo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Eo(),this.projectionDeltaWithTransform=Eo());const v=this.projectionTransform;Di(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=xg(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Tr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Eo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Se(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,v=m!==p,E=this.getStack(),k=!E||E.members.length<=1,g=!!(v&&!k&&this.options.crossfade===!0&&!this.path.some(tI));this.animationProgress=0;let f;this.mixTargetDelta=w=>{const S=w/1e3;Tg(d.x,s.x,S),Tg(d.y,s.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ui(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eI(this.relativeTarget,this.relativeTargetOrigin,h,S),f&&Dd(this.relativeTarget,f)&&(this.isProjectionDirty=!1),f||(f=Se()),kt(f,this.relativeTarget)),v&&(this.animationValues=u,A2(u,c,this.latestValues,S,g,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Cn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{Ca.hasAnimatedSinceResize=!0,this.currentAnimation=H2(0,Sg,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&w1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Se();const d=bt(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=bt(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}kt(a,l),Co(a,u),Di(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new L2),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<kg.length;u++){const d="rotate"+kg[u];l[d]&&(c[d]=l[d],s.setStaticValue(d,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ea(s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ea(s.pointerEvents)||""),this.hasProjected&&!Cr(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=xg(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:m,y:p}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in pl){if(h[v]===void 0)continue;const{correct:E,applyTo:k}=pl[v],g=c.transform==="none"?h[v]:E(h[v],d);if(k){const f=k.length;for(let w=0;w<f;w++)c[k[w]]=g}else c[v]=g}return this.options.layoutId&&(c.pointerEvents=d===this?Ea(s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Eg),this.root.sharedNodes.clear()}}}function V2(t){t.updateLayout()}function $2(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:i}=t.options,s=n.source!==t.layout.source;i==="size"?$t(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],m=bt(h);h.min=r[d].min,h.max=h.min+m}):w1(i,n.layoutBox,r)&&$t(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],m=bt(r[d]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=Eo();Di(a,r,n.layoutBox);const l=Eo();s?Di(l,t.applyTransform(o,!0),n.measuredBox):Di(l,r,n.layoutBox);const c=!y1(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:m}=d;if(h&&m){const p=Se();Ui(p,n.layoutBox,h.layoutBox);const v=Se();Ui(v,r,m.layoutBox),Dd(p,v)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function W2(t){Tr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function K2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q2(t){t.clearSnapshot()}function Eg(t){t.clearMeasurements()}function G2(t){t.isLayoutDirty=!1}function Y2(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Cg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function X2(t){t.resolveTargetDelta()}function J2(t){t.calcProjection()}function Q2(t){t.resetRotation()}function Z2(t){t.removeLeadSnapshot()}function Tg(t,e,n){t.translate=pe(e.translate,0,n),t.scale=pe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _g(t,e,n,r){t.min=pe(e.min,n.min,r),t.max=pe(e.max,n.max,r)}function eI(t,e,n,r){_g(t.x,e.x,n.x,r),_g(t.y,e.y,n.y,r)}function tI(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nI={duration:.45,ease:[.4,0,.1,1]};let kl;const rI=()=>navigator.userAgent.toLowerCase().includes("applewebkit/");function Ig(t){t.min=kl(t.min),t.max=kl(t.max)}function oI(t){kl||(kl=rI()?Math.round:e=>Math.round(e*2)/2),Ig(t.x),Ig(t.y)}function w1(t,e,n){return t==="position"||t==="preserve-aspect"&&!Od(wg(e),wg(n),.2)}const iI=b1({attachResizeListener:(t,e)=>dn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hu={current:void 0},x1=b1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!hu.current){const t=new iI({});t.mount(window),t.setOptions({layoutScroll:!0}),hu.current=t}return hu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sI={pan:{Feature:S2},drag:{Feature:k2,ProjectionNode:x1,MeasureLayout:m1}},aI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function lI(t){const e=aI.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Ud(t,e,n=1){const[r,o]=lI(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);return i?i.trim():_d(o)?Ud(o,e,n+1):o}function cI(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(o=>{const i=o.get();if(!_d(i))return;const s=Ud(i,r);s&&o.set(s)});for(const o in e){const i=e[o];if(!_d(i))continue;const s=Ud(i,r);s&&(e[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:e,transitionEnd:n}}const uI=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),k1=t=>uI.has(t),dI=t=>Object.keys(t).some(k1),Ag=t=>t===eo||t===K,Pg=(t,e)=>parseFloat(t.split(", ")[e]),Ng=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Pg(o[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?Pg(i[1],t):0}},hI=new Set(["x","y","z"]),fI=Ss.filter(t=>!hI.has(t));function pI(t){const e=[];return fI.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const zo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ng(4,13),y:Ng(5,14)};zo.translateX=zo.x;zo.translateY=zo.y;const mI=(t,e,n)=>{const r=e.measureViewportBox(),o=e.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=zo[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=zo[c](l,i)}),t},gI=(t,e,n={},r={})=>{e={...e},r={...r};const o=Object.keys(e).filter(k1);let i=[],s=!1;const a=[];if(o.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=gi(u);const h=e[l];let m;if(gl(h)){const p=h.length,v=h[0]===null?1:0;u=h[v],d=gi(u);for(let E=v;E<p&&h[E]!==null;E++)m?Tf(gi(h[E])===m):m=gi(h[E])}else m=gi(h);if(d!==m)if(Ag(d)&&Ag(m)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&m===K&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(u===0||h===0)?u===0?c.set(m.transform(u)):e[l]=d.transform(h):(s||(i=pI(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=mI(e,t,a);return i.length&&i.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),nc&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function vI(t,e,n,r){return dI(e)?gI(t,e,n,r):{target:e,transitionEnd:r}}const yI=(t,e,n,r)=>{const o=cI(t,e,r);return e=o.target,r=o.transitionEnd,vI(t,e,n,r)},Fd={current:null},S1={current:!1};function bI(){if(S1.current=!0,!!nc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fd.current=t.matches;t.addListener(e),e()}else Fd.current=!1}function wI(t,e,n){const{willChange:r}=e;for(const o in e){const i=e[o],s=n[o];if(ht(i))t.addValue(o,i),wl(r)&&r.add(o);else if(ht(s))t.addValue(o,Ho(i,{owner:t})),wl(r)&&r.remove(o);else if(s!==i)if(t.hasValue(o)){const a=t.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(o);t.addValue(o,Ho(a!==void 0?a:i,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const Rg=new WeakMap,E1=Object.keys(ds),xI=E1.length,Bg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],kI=gf.length;class SI{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>he.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=oc(n),this.isVariantNode=ub(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const h=u[d];a[d]!==void 0&&ht(h)&&(h.set(a[d],!1),wl(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Rg.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),S1.current||bI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Rg.delete(this.current),this.projection&&this.projection.unmount(),Cn(this.notifyUpdate),Cn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Zr.has(e),o=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&he.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,o,i){let s,a;for(let l=0;l<xI;l++){const c=E1[l],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:m}=ds[c];h&&(s=h),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),m&&(a=m))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&ko(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Se()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Bg.length;r++){const o=Bg[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=e["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=wI(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<kI;r++){const o=gf[r],i=this.props[o];(us(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ho(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Cf(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ht(i)?i:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Of),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class C1 extends SI{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:o},i){let s=z_(r,e||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){F_(this,r,s);const a=yI(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function EI(t){return window.getComputedStyle(t)}class CI extends C1{readValueFromInstance(e,n){if(Zr.has(n)){const r=Pf(n);return r&&r.default||0}else{const r=EI(e),o=(pb(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return p1(e,n)}build(e,n,r,o){bf(e,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Ef(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ht(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,o){wb(e,n,r,o)}}class TI extends C1{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Zr.has(n)){const r=Pf(n);return r&&r.default||0}return n=xb.has(n)?n:Sf(n),e.getAttribute(n)}measureInstanceViewportBox(){return Se()}scrapeMotionValuesFromProps(e,n){return Sb(e,n)}build(e,n,r,o){xf(e,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,r,o){kb(e,n,r,o)}mount(e){this.isSVGTag=kf(e.tagName),super.mount(e)}}const _I=(t,e)=>yf(t)?new TI(e,{enableHardwareAcceleration:!1}):new CI(e,{enableHardwareAcceleration:!0}),II={layout:{ProjectionNode:x1,MeasureLayout:m1}},AI={...n2,...xT,...sI,...II},PI=PC((t,e)=>iT(t,e,AI,_I));function T1(){const t=N.useRef(!1);return fl(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function NI(){const t=T1(),[e,n]=N.useState(0),r=N.useCallback(()=>{t.current&&n(e+1)},[e]);return[N.useCallback(()=>he.postRender(r),[r]),e]}class RI extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function BI({children:t,isPresent:e}){const n=N.useId(),r=N.useRef(null),o=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:l}=o.current;if(e||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),N.createElement(RI,{isPresent:e,childRef:r,sizeRef:o},N.cloneElement(t,{ref:r}))}const fu=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=Eb(OI),l=N.useId(),c=N.useMemo(()=>({id:l,initial:e,isPresent:n,custom:o,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?void 0:[n]);return N.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),N.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=N.createElement(BI,{isPresent:n},t)),N.createElement(tc.Provider,{value:c},t)};function OI(){return new Map}function LI(t){return N.useEffect(()=>()=>t(),[])}const oo=t=>t.key||"";function MI(t,e){t.forEach(n=>{const r=oo(n);e.set(r,n)})}function jI(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const DI=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=N.useContext(vf).forceRender||NI()[0],l=T1(),c=jI(t);let u=c;const d=N.useRef(new Map).current,h=N.useRef(u),m=N.useRef(new Map).current,p=N.useRef(!0);if(fl(()=>{p.current=!1,MI(c,m),h.current=u}),LI(()=>{p.current=!0,m.clear(),d.clear()}),p.current)return N.createElement(N.Fragment,null,u.map(g=>N.createElement(fu,{key:oo(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},g)));u=[...u];const v=h.current.map(oo),E=c.map(oo),k=v.length;for(let g=0;g<k;g++){const f=v[g];E.indexOf(f)===-1&&!d.has(f)&&d.set(f,void 0)}return s==="wait"&&d.size&&(u=[]),d.forEach((g,f)=>{if(E.indexOf(f)!==-1)return;const w=m.get(f);if(!w)return;const S=v.indexOf(f);let _=g;if(!_){const P=()=>{m.delete(f),d.delete(f);const y=h.current.findIndex(x=>x.key===f);if(h.current.splice(y,1),!d.size){if(h.current=c,l.current===!1)return;a(),r&&r()}};_=N.createElement(fu,{key:oo(w),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:i,mode:s},w),d.set(f,_)}u.splice(S,0,_)}),u=u.map(g=>{const f=g.key;return d.has(f)?g:N.createElement(fu,{key:oo(g),isPresent:!0,presenceAffectsLayout:i,mode:s},g)}),N.createElement(N.Fragment,null,d.size?u:u.map(g=>N.cloneElement(g)))},Te=({children:t,keyValue:e,initial:n={opacity:0},animate:r={opacity:1},transition:o={duration:1},className:i})=>b.jsx(DI,{children:b.jsx(PI.div,{initial:n,animate:r,transition:o,className:i,children:t},e)}),Sl=(t,e)=>sessionStorage.setItem(t,e),Og=t=>sessionStorage.getItem(t),UI=t=>sessionStorage.removeItem(t),FI=()=>{const{userAuth:{username:t},setUserAuth:e}=N.useContext(Be),n=()=>{UI("user"),e({access_token:null})};return b.jsx(Te,{className:"absolute right-0 z-50",transition:{duration:.2},children:b.jsxs("div",{className:"bg-white absolute right-0 border border-grey w-60 duration-200",children:[b.jsxs(oe,{to:"/editor",className:"flex gap-2 link md:hidden pl-8 py-4",children:[b.jsx("i",{className:"fi fi-rr-file-edit"}),b.jsx("p",{children:"Write"})]}),b.jsx(oe,{to:`/user/${t}`,className:"link pl-8 py-4",children:"Profile"}),b.jsx(oe,{to:"/dashboard/blogs",className:"link pl-8 py-4",children:"Dashboard"}),b.jsx(oe,{to:"/settings/edit-profile",className:"link pl-8 py-4",children:"Settings"}),b.jsx("span",{className:"absolute border-t border-grey w-[100%]"}),b.jsxs("button",{className:"text-left p-4 hover:bg-grey w-full pl-8 py-4",onClick:n,children:[b.jsx("h1",{className:"font-bold text-xl mb-1",children:"Sign Out"}),b.jsxs("p",{className:"text-dark-grey",children:["@",t]})]})]})})};function _1(t,e){return function(){return t.apply(e,arguments)}}const{toString:HI}=Object.prototype,{getPrototypeOf:Lf}=Object,lc=(t=>e=>{const n=HI.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nn=t=>(t=t.toLowerCase(),e=>lc(e)===t),cc=t=>e=>typeof e===t,{isArray:ni}=Array,fs=cc("undefined");function zI(t){return t!==null&&!fs(t)&&t.constructor!==null&&!fs(t.constructor)&&It(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const I1=nn("ArrayBuffer");function VI(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&I1(t.buffer),e}const $I=cc("string"),It=cc("function"),A1=cc("number"),uc=t=>t!==null&&typeof t=="object",WI=t=>t===!0||t===!1,Ta=t=>{if(lc(t)!=="object")return!1;const e=Lf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},KI=nn("Date"),qI=nn("File"),GI=nn("Blob"),YI=nn("FileList"),XI=t=>uc(t)&&It(t.pipe),JI=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||It(t.append)&&((e=lc(t))==="formdata"||e==="object"&&It(t.toString)&&t.toString()==="[object FormData]"))},QI=nn("URLSearchParams"),ZI=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _s(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),ni(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let a;for(r=0;r<s;r++)a=i[r],e.call(null,t[a],a,t)}}function P1(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const N1=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),R1=t=>!fs(t)&&t!==N1;function Hd(){const{caseless:t}=R1(this)&&this||{},e={},n=(r,o)=>{const i=t&&P1(e,o)||o;Ta(e[i])&&Ta(r)?e[i]=Hd(e[i],r):Ta(r)?e[i]=Hd({},r):ni(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&_s(arguments[r],n);return e}const eA=(t,e,n,{allOwnKeys:r}={})=>(_s(e,(o,i)=>{n&&It(o)?t[i]=_1(o,n):t[i]=o},{allOwnKeys:r}),t),tA=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nA=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},rA=(t,e,n,r)=>{let o,i,s;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Lf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},oA=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},iA=t=>{if(!t)return null;if(ni(t))return t;let e=t.length;if(!A1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},sA=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Lf(Uint8Array)),aA=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=r.next())&&!o.done;){const i=o.value;e.call(t,i[0],i[1])}},lA=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},cA=nn("HTMLFormElement"),uA=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),Lg=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),dA=nn("RegExp"),B1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};_s(n,(o,i)=>{e(o,i,t)!==!1&&(r[i]=o)}),Object.defineProperties(t,r)},hA=t=>{B1(t,(e,n)=>{if(It(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(It(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},fA=(t,e)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return ni(t)?r(t):r(String(t).split(e)),n},pA=()=>{},mA=(t,e)=>(t=+t,Number.isFinite(t)?t:e),pu="abcdefghijklmnopqrstuvwxyz",Mg="0123456789",O1={DIGIT:Mg,ALPHA:pu,ALPHA_DIGIT:pu+pu.toUpperCase()+Mg},gA=(t=16,e=O1.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function vA(t){return!!(t&&It(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const yA=t=>{const e=new Array(10),n=(r,o)=>{if(uc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const i=ni(r)?[]:{};return _s(r,(s,a)=>{const l=n(s,o+1);!fs(l)&&(i[a]=l)}),e[o]=void 0,i}}return r};return n(t,0)},bA=nn("AsyncFunction"),wA=t=>t&&(uc(t)||It(t))&&It(t.then)&&It(t.catch),U={isArray:ni,isArrayBuffer:I1,isBuffer:zI,isFormData:JI,isArrayBufferView:VI,isString:$I,isNumber:A1,isBoolean:WI,isObject:uc,isPlainObject:Ta,isUndefined:fs,isDate:KI,isFile:qI,isBlob:GI,isRegExp:dA,isFunction:It,isStream:XI,isURLSearchParams:QI,isTypedArray:sA,isFileList:YI,forEach:_s,merge:Hd,extend:eA,trim:ZI,stripBOM:tA,inherits:nA,toFlatObject:rA,kindOf:lc,kindOfTest:nn,endsWith:oA,toArray:iA,forEachEntry:aA,matchAll:lA,isHTMLForm:cA,hasOwnProperty:Lg,hasOwnProp:Lg,reduceDescriptors:B1,freezeMethods:hA,toObjectSet:fA,toCamelCase:uA,noop:pA,toFiniteNumber:mA,findKey:P1,global:N1,isContextDefined:R1,ALPHABET:O1,generateString:gA,isSpecCompliantForm:vA,toJSONObject:yA,isAsyncFn:bA,isThenable:wA};function ee(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}U.inherits(ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const L1=ee.prototype,M1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{M1[t]={value:t}});Object.defineProperties(ee,M1);Object.defineProperty(L1,"isAxiosError",{value:!0});ee.from=(t,e,n,r,o,i)=>{const s=Object.create(L1);return U.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ee.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const xA=null;function zd(t){return U.isPlainObject(t)||U.isArray(t)}function j1(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function jg(t,e,n){return t?t.concat(e).map(function(o,i){return o=j1(o),!n&&i?"["+o+"]":o}).join(n?".":""):e}function kA(t){return U.isArray(t)&&!t.some(zd)}const SA=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function dc(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,E){return!U.isUndefined(E[v])});const r=n.metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(o))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(U.isDate(p))return p.toISOString();if(!l&&U.isBlob(p))throw new ee("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(p)||U.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,v,E){let k=p;if(p&&!E&&typeof p=="object"){if(U.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(U.isArray(p)&&kA(p)||(U.isFileList(p)||U.endsWith(v,"[]"))&&(k=U.toArray(p)))return v=j1(v),k.forEach(function(f,w){!(U.isUndefined(f)||f===null)&&e.append(s===!0?jg([v],w,i):s===null?v:v+"[]",c(f))}),!1}return zd(p)?!0:(e.append(jg(E,v,i),c(p)),!1)}const d=[],h=Object.assign(SA,{defaultVisitor:u,convertValue:c,isVisitable:zd});function m(p,v){if(!U.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(p),U.forEach(p,function(k,g){(!(U.isUndefined(k)||k===null)&&o.call(e,k,U.isString(g)?g.trim():g,v,h))===!0&&m(k,v?v.concat(g):[g])}),d.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Dg(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Mf(t,e){this._pairs=[],t&&dc(t,this,e)}const D1=Mf.prototype;D1.append=function(e,n){this._pairs.push([e,n])};D1.toString=function(e){const n=e?function(r){return e.call(this,r,Dg)}:Dg;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function EA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function U1(t,e,n){if(!e)return t;const r=n&&n.encode||EA,o=n&&n.serialize;let i;if(o?i=o(e,n):i=U.isURLSearchParams(e)?e.toString():new Mf(e,n).toString(r),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class CA{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Ug=CA,F1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},TA=typeof URLSearchParams<"u"?URLSearchParams:Mf,_A=typeof FormData<"u"?FormData:null,IA=typeof Blob<"u"?Blob:null,AA=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),PA=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Kt={isBrowser:!0,classes:{URLSearchParams:TA,FormData:_A,Blob:IA},isStandardBrowserEnv:AA,isStandardBrowserWebWorkerEnv:PA,protocols:["http","https","file","blob","url","data"]};function NA(t,e){return dc(t,new Kt.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Kt.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function RA(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function BA(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}function H1(t){function e(n,r,o,i){let s=n[i++];const a=Number.isFinite(+s),l=i>=n.length;return s=!s&&U.isArray(o)?o.length:s,l?(U.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!U.isObject(o[s]))&&(o[s]=[]),e(n,r,o[s],i)&&U.isArray(o[s])&&(o[s]=BA(o[s])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,o)=>{e(RA(r),o,n,0)}),n}return null}const OA={"Content-Type":void 0};function LA(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const hc={transitional:F1,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=U.isObject(e);if(i&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return o&&o?JSON.stringify(H1(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return NA(e,this.formSerializer).toString();if((a=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return dc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),LA(e)):e}],transformResponse:[function(e){const n=this.transitional||hc.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(e&&U.isString(e)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?ee.from(a,ee.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};U.forEach(["delete","get","head"],function(e){hc.headers[e]={}});U.forEach(["post","put","patch"],function(e){hc.headers[e]=U.merge(OA)});const jf=hc,MA=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jA=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||e[n]&&MA[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Fg=Symbol("internals");function yi(t){return t&&String(t).trim().toLowerCase()}function _a(t){return t===!1||t==null?t:U.isArray(t)?t.map(_a):String(t)}function DA(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const UA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function mu(t,e,n,r,o){if(U.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}function FA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function HA(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,i,s){return this[r].call(this,e,o,i,s)},configurable:!0})})}class fc{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function i(a,l,c){const u=yi(l);if(!u)throw new Error("header name must be a non-empty string");const d=U.findKey(o,u);(!d||o[d]===void 0||c===!0||c===void 0&&o[d]!==!1)&&(o[d||l]=_a(a))}const s=(a,l)=>U.forEach(a,(c,u)=>i(c,u,l));return U.isPlainObject(e)||e instanceof this.constructor?s(e,n):U.isString(e)&&(e=e.trim())&&!UA(e)?s(jA(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=yi(e),e){const r=U.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return DA(o);if(U.isFunction(n))return n.call(this,o,r);if(U.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=yi(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||mu(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function i(s){if(s=yi(s),s){const a=U.findKey(r,s);a&&(!n||mu(r,r[a],a,n))&&(delete r[a],o=!0)}}return U.isArray(e)?e.forEach(i):i(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!e||mu(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const n=this,r={};return U.forEach(this,(o,i)=>{const s=U.findKey(r,i);if(s){n[s]=_a(o),delete n[i];return}const a=e?FA(i):String(i).trim();a!==i&&delete n[i],n[a]=_a(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[Fg]=this[Fg]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=yi(s);r[a]||(HA(o,s),r[a]=!0)}return U.isArray(e)?e.forEach(i):i(e),this}}fc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.freezeMethods(fc.prototype);U.freezeMethods(fc);const bn=fc;function gu(t,e){const n=this||jf,r=e||n,o=bn.from(r.headers);let i=r.data;return U.forEach(t,function(a){i=a.call(n,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function z1(t){return!!(t&&t.__CANCEL__)}function Is(t,e,n){ee.call(this,t??"canceled",ee.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(Is,ee,{__CANCEL__:!0});function zA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ee("Request failed with status code "+n.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const VA=Kt.isStandardBrowserEnv?function(){return{write:function(n,r,o,i,s,a){const l=[];l.push(n+"="+encodeURIComponent(r)),U.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),U.isString(i)&&l.push("path="+i),U.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function $A(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function WA(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function V1(t,e){return t&&!$A(e)?WA(t,e):e}const KA=Kt.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(i){let s=i;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(s){const a=U.isString(s)?o(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function qA(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function GA(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];s||(s=c),n[o]=l,r[o]=c;let d=i,h=0;for(;d!==o;)h+=n[d++],d=d%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),c-s<e)return;const m=u&&c-u;return m?Math.round(h*1e3/m):void 0}}function Hg(t,e){let n=0;const r=GA(50,250);return o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-n,l=r(a),c=i<=s;n=i;const u={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-i)/l:void 0,event:o};u[e?"download":"upload"]=!0,t(u)}}const YA=typeof XMLHttpRequest<"u",XA=YA&&function(t){return new Promise(function(n,r){let o=t.data;const i=bn.from(t.headers).normalize(),s=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}U.isFormData(o)&&(Kt.isStandardBrowserEnv||Kt.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const m=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(m+":"+p))}const u=V1(t.baseURL,t.url);c.open(t.method.toUpperCase(),U1(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!c)return;const m=bn.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),v={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:m,config:t,request:c};zA(function(k){n(k),l()},function(k){r(k),l()},v),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(r(new ee("Request aborted",ee.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new ee("Network Error",ee.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const v=t.transitional||F1;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),r(new ee(p,v.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,t,c)),c=null},Kt.isStandardBrowserEnv){const m=(t.withCredentials||KA(u))&&t.xsrfCookieName&&VA.read(t.xsrfCookieName);m&&i.set(t.xsrfHeaderName,m)}o===void 0&&i.setContentType(null),"setRequestHeader"in c&&U.forEach(i.toJSON(),function(p,v){c.setRequestHeader(v,p)}),U.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),s&&s!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",Hg(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Hg(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=m=>{c&&(r(!m||m.type?new Is(null,t,c):m),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const h=qA(u);if(h&&Kt.protocols.indexOf(h)===-1){r(new ee("Unsupported protocol "+h+":",ee.ERR_BAD_REQUEST,t));return}c.send(o||null)})},Ia={http:xA,xhr:XA};U.forEach(Ia,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const JA={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let o=0;o<e&&(n=t[o],!(r=U.isString(n)?Ia[n.toLowerCase()]:n));o++);if(!r)throw r===!1?new ee(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(U.hasOwnProp(Ia,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!U.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Ia};function vu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Is(null,t)}function zg(t){return vu(t),t.headers=bn.from(t.headers),t.data=gu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),JA.getAdapter(t.adapter||jf.adapter)(t).then(function(r){return vu(t),r.data=gu.call(t,t.transformResponse,r),r.headers=bn.from(r.headers),r},function(r){return z1(r)||(vu(t),r&&r.response&&(r.response.data=gu.call(t,t.transformResponse,r.response),r.response.headers=bn.from(r.response.headers))),Promise.reject(r)})}const Vg=t=>t instanceof bn?t.toJSON():t;function Vo(t,e){e=e||{};const n={};function r(c,u,d){return U.isPlainObject(c)&&U.isPlainObject(u)?U.merge.call({caseless:d},c,u):U.isPlainObject(u)?U.merge({},u):U.isArray(u)?u.slice():u}function o(c,u,d){if(U.isUndefined(u)){if(!U.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function i(c,u){if(!U.isUndefined(u))return r(void 0,u)}function s(c,u){if(U.isUndefined(u)){if(!U.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u)=>o(Vg(c),Vg(u),!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||o,h=d(t[u],e[u],u);U.isUndefined(h)&&d!==a||(n[u]=h)}),n}const $1="1.4.0",Df={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Df[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const $g={};Df.transitional=function(e,n,r){function o(i,s){return"[Axios v"+$1+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(e===!1)throw new ee(o(s," has been removed"+(n?" in "+n:"")),ee.ERR_DEPRECATED);return n&&!$g[s]&&($g[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,a):!0}};function QA(t,e,n){if(typeof t!="object")throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const a=t[i],l=a===void 0||s(a,i,t);if(l!==!0)throw new ee("option "+i+" must be "+l,ee.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ee("Unknown option "+i,ee.ERR_BAD_OPTION)}}const Vd={assertOptions:QA,validators:Df},Bn=Vd.validators;class El{constructor(e){this.defaults=e,this.interceptors={request:new Ug,response:new Ug}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Vo(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Vd.assertOptions(r,{silentJSONParsing:Bn.transitional(Bn.boolean),forcedJSONParsing:Bn.transitional(Bn.boolean),clarifyTimeoutError:Bn.transitional(Bn.boolean)},!1),o!=null&&(U.isFunction(o)?n.paramsSerializer={serialize:o}:Vd.assertOptions(o,{encode:Bn.function,serialize:Bn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s;s=i&&U.merge(i.common,i[n.method]),s&&U.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=bn.concat(s,i);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,h;if(!l){const p=[zg.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),h=p.length,u=Promise.resolve(n);d<h;)u=u.then(p[d++],p[d++]);return u}h=a.length;let m=n;for(d=0;d<h;){const p=a[d++],v=a[d++];try{m=p(m)}catch(E){v.call(this,E);break}}try{u=zg.call(this,m)}catch(p){return Promise.reject(p)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Vo(this.defaults,e);const n=V1(e.baseURL,e.url);return U1(n,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(e){El.prototype[e]=function(n,r){return this.request(Vo(r||{},{method:e,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,a){return this.request(Vo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}El.prototype[e]=n(),El.prototype[e+"Form"]=n(!0)});const Aa=El;class Uf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,a){r.reason||(r.reason=new Is(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Uf(function(o){e=o}),cancel:e}}}const ZA=Uf;function eP(t){return function(n){return t.apply(null,n)}}function tP(t){return U.isObject(t)&&t.isAxiosError===!0}const $d={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($d).forEach(([t,e])=>{$d[e]=t});const nP=$d;function W1(t){const e=new Aa(t),n=_1(Aa.prototype.request,e);return U.extend(n,Aa.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return W1(Vo(t,o))},n}const Pe=W1(jf);Pe.Axios=Aa;Pe.CanceledError=Is;Pe.CancelToken=ZA;Pe.isCancel=z1;Pe.VERSION=$1;Pe.toFormData=dc;Pe.AxiosError=ee;Pe.Cancel=Pe.CanceledError;Pe.all=function(e){return Promise.all(e)};Pe.spread=eP;Pe.isAxiosError=tP;Pe.mergeConfig=Vo;Pe.AxiosHeaders=bn;Pe.formToJSON=t=>H1(U.isHTMLForm(t)?new FormData(t):t);Pe.HttpStatusCode=nP;Pe.default=Pe;const se=Pe,rP=()=>{const[t,e]=N.useState(!1),[n,r]=N.useState(!1);let o=ei(),{theme:i,setTheme:s}=N.useContext(_c);const{userAuth:a,userAuth:{access_token:l,profile_img:c,new_notification_available:u},setUserAuth:d}=N.useContext(Be);N.useEffect(()=>{l&&se.get("https://blogging-website-server-kcx1.onrender.com/new-notification",{headers:{Authorization:`Bearer ${l}`}}).then(({data:p})=>{d({...a,...p})}).catch(p=>{console.log(p)})},[l]);const h=p=>{let v=p.target.value;p.keyCode==13&&v.length&&o(`/search/${v}`)},m=()=>{let p=i=="light"?"dark":"light";s(p),document.body.setAttribute("data-theme",p),Sl("theme",p)};return b.jsxs(b.Fragment,{children:[b.jsxs("nav",{className:"navbar z-50",children:[b.jsx(oe,{to:"/",className:"flex-none w-10",children:b.jsx("img",{src:i=="light"?sb:ab,className:"w-full"})}),b.jsxs("div",{className:"absolute bg-white w-full left-0 top-full mt-0.5 border-b border-grey py-4 px-[5vw] md:border-0 md:block md:relative md:inset-0 md:p-0 md:w-auto md:show "+(t?"show":"hide"),children:[b.jsx("input",{type:"text",placeholder:"Search",className:"w-full md:w-auto bg-grey p-4 pl-6 pr-[12%] md:pr-6 rounded-full placeholder:text-dark-grey md:pl-12",onKeyDown:h}),b.jsx("i",{className:"fi fi-rr-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-xl text-dark-grey"})]}),b.jsxs("div",{className:"flex item-center gap-3 md:gap-6 ml-auto",children:[b.jsx("button",{className:"md:hidden bg-grey w-12 h-12 rounded-full flex items-center justify-center",onClick:()=>e(p=>!p),children:b.jsx("i",{className:"fi fi-rr-search text-xl"})}),b.jsxs(oe,{to:"/editor",className:"hidden md:flex gap-2 link",children:[b.jsx("i",{className:"fi fi-rr-file-edit"}),b.jsx("p",{children:"Write"})]}),b.jsx("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10",onClick:m,children:b.jsx("i",{className:"fi fi-rr-"+(i=="light"?"moon-stars":"sun")+" text-2xl block mt-1"})}),l?b.jsxs(b.Fragment,{children:[b.jsx(oe,{to:"/dashboard/notifications",children:b.jsxs("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10",children:[b.jsx("i",{className:"fi fi-rr-bell text-2xl block mt-1"}),u?b.jsx("span",{className:"bg-red w-3 h-3 rounded-full absolute z-10 top-2 right-2"}):""]})}),b.jsxs("div",{className:"relative",onClick:()=>r(p=>!p),onBlur:()=>setTimeout(()=>{r(!1)},200),children:[b.jsx("button",{className:"w-12 h-12 mt-1",children:b.jsx("img",{src:c,className:"w-full h-full object-cover rounded-full"})}),n?b.jsx(FI,{}):""]})]}):b.jsxs(b.Fragment,{children:[b.jsx(oe,{className:"btn-dark py-2",to:"/signin",children:"Sign In"}),b.jsx(oe,{className:"btn-light py-2 hidden md:block",to:"/signup",children:"Sign Up"})]})]})]}),b.jsx(ob,{})]})},hn=({name:t,type:e,id:n,value:r,placeholder:o,icon:i,disable:s=!1})=>{const[a,l]=N.useState(!1);return b.jsxs("div",{className:"relative w-[100%] mb-4",children:[b.jsx("input",{name:t,type:e=="password"&&a?"text":e,placeholder:o,defaultValue:r,id:n,className:"input-box ",disabled:s}),b.jsx("i",{className:"fi "+i+" input-icon"}),e=="password"?b.jsx("i",{className:"fi fi-rr-eye"+(a?"":"-crossed")+" input-icon left-[auto] right-4 cursor-pointer",onClick:()=>l(c=>!c)}):""]})},oP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAYAAACSN4jeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVeSURBVHgBzZhrbBRVFMfPuTO77dKtSCm1BQklppJCjEIfFIkUaHk2IKUEaQwR0FSNaIhA1BZCY2hVPho/CMQH0aatUgU+FLQPln5oKxTKIwEkJWwFoTwKWNjtY2fmeHaBdi3dmV12WfkluzN375mZ/9x79pxzL8ATCkIQUEGB6cb54+P5Lkka0gjUUAIJHQLopirJ7c/sbzwPj0jAwjrmvhwnq8oqDWA+S0vnn6J0zG8DUSOg+EmT5P3xvzdeAz/xW1hH9tQMCdRNRMiCQIIAIQAHAlaYTGLriAPNdiN7Q2FnF0+PjnG6SvnN10II4Af+xV8lo2qP7DCw8831WWmZJGAnnyZBiEGkckWWCxN8jJ7wdWFHdvr7JKj+cYhywy6RLyvqd776hxR2NSv9Q0H0Jb+XT+HBwv7WrvbhGt/9g0XNTpmLKA5AkKHEUJQLZsU3HL7g28aLW/MzEhVFbSCCseAHhHBcEOwD1A6TYv5TEeiSRV8MoJQApOWwwUK2SgxUlBvZu6G46HP+WxuKYptjAml9XG2LbYjudv608qfa3eicnbZaQdyCQOO4eUNFdVF8w9ELRs/oH7HrczIWk6buNb6AtsWq1iK02RTwk8uzJ4+ThWm7BtLG+NqmU/5c0y+st9La2lX53Ev0j9m3taCiuJqWUggDHmGuWnkanzZSj0TddaO13pMjH47sBFvj6o9shjAh7qnDAs8xUsVhORclS+YVQnS7Uj8XRs3I2QJhxDNiSq35EgGN8e5Qrli0u7+OF56pJVjNo/U9hBHRV2OaPFiUGzmhW0S/3gbS2Lsdo7SoCggzMgEm/3fWBpCG98HwlW31mHWmB/wgq8S5jVB7FYKE8/MHskCYoGuFUAf+glocv+PzECRCg0msi2L1jIikNgg/Y1gcDtOzIFXqgjCjAUVxuCD9CC5pZvgfEIjYqWdAqhq0zwSKAF7QcN2lm1BRUCqEHeyUVYRWHDpagJNk+NY5YXnK9vSNR9/e4TK6HWnaXq6Z7WAIzuKvGToGp5EOAle4puvceNq75291GGy4kwF2xequu3KPvla1B0JEVundGq75sn31C61nomDtCj+42rvjUF8Crbmd6RHlhkPKOggR8z/rTtQTxT5/sXZz7BlPElcV+sZ95AUCfO1Mho+70rCLTAPWhJlplbkbIAS4NFW/GCCeQ7hfXUTOUw52aJGn1nZNo13OJB/24ovU8qXLIAiySh1L2J1XGZj92C+MSwzK7Zzz6TFXrN4ChP/FWJFWuXQ9PIqokjsrOF2V6dlw+XW+rshac+/ci5SKZQ3sT6+AAewHZZImb2rOr7Ab2c7clx/rcFhKLFffeFN2pEj694VVdYXWXQ8Jm1qWl6RK2MID+BT4xy+cP3bz9LRGn+tssxXblAXVCyLuOC1jelwwnV9gEfflsJ0n7UXcWkIRN3OHnhUOW/WF1ikDzUHwqL3Fo7YTAscdDd2xTjeFmR0ZauS1NQhahBgQQV2qkF+0fWKxP/jtoaG9svv0sdF5ye5xnQmBgeDHLpBqviRc0c1gckxB1B7UD/jOwcIom7fdkDe6XHXm0Oi8SeyLMBMeAySc6IpuIkmJ0UTvs0X1m6xfDbbR3QZILc97jy22wX0fCTFOToXrjuRXDek2hvsTGeVLEhWUfuPTkFUZ/NATshArm5b/7HPxa7ib05y/x95ytiqZ08i7fEM7BMdt9t2Pos6+kKonyk1AOzrFxcWiesLJFbzozOdLs3l1FWl0DYeMbg4pTbyKrxDRkZV/LCzzqyJ+5K2mlJYCE5y7NVXI2kTOpZyYaST7jJnTbR8SdvKxndunemMsJ07O+8EBAfIvZzP9J7slOesAAAAASUVORK5CYII=";let iP={data:""},sP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||iP,aP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,lP=/\/\*[^]*?\*\/|  +/g,Wg=/\n+/g,Hn=(t,e)=>{let n="",r="",o="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?Hn(s,i):i+"{"+Hn(s,i[1]=="k"?"":e)+"}":typeof s=="object"?r+=Hn(s,e?e.replace(/([^,])+/g,a=>i.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Hn.p?Hn.p(i,s):i+":"+s+";")}return n+(e&&o?e+"{"+o+"}":o)+r},on={},K1=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+K1(t[n]);return e}return t},cP=(t,e,n,r,o)=>{let i=K1(t),s=on[i]||(on[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!on[s]){let l=i!==t?t:(c=>{let u,d,h=[{}];for(;u=aP.exec(c.replace(lP,""));)u[4]?h.shift():u[3]?(d=u[3].replace(Wg," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(Wg," ").trim();return h[0]})(t);on[s]=Hn(o?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&on.g?on.g:null;return n&&(on.g=on[s]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(on[s],e,r,a),s},uP=(t,e,n)=>t.reduce((r,o,i)=>{let s=e[i];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":Hn(a,""):a===!1?"":a}return r+o+(s??"")},"");function pc(t){let e=this||{},n=t.call?t(e.p):t;return cP(n.unshift?n.raw?uP(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,sP(e.target),e.g,e.o,e.k)}let q1,Wd,Kd;pc.bind({g:1});let Tn=pc.bind({k:1});function dP(t,e,n,r){Hn.p=e,q1=t,Wd=n,Kd=r}function wr(t,e){let n=this||{};return function(){let r=arguments;function o(i,s){let a=Object.assign({},i),l=a.className||o.className;n.p=Object.assign({theme:Wd&&Wd()},a),n.o=/ *go\d+/.test(l),a.className=pc.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let c=t;return t[0]&&(c=a.as||t,delete a.as),Kd&&c[0]&&Kd(a),q1(c,a)}return e?e(o):o}}var hP=t=>typeof t=="function",Cl=(t,e)=>hP(t)?t(e):t,fP=(()=>{let t=0;return()=>(++t).toString()})(),G1=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),pP=20,Pa=new Map,mP=1e3,Kg=t=>{if(Pa.has(t))return;let e=setTimeout(()=>{Pa.delete(t),to({type:4,toastId:t})},mP);Pa.set(t,e)},gP=t=>{let e=Pa.get(t);e&&clearTimeout(e)},qd=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,pP)};case 1:return e.toast.id&&gP(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return t.toasts.find(i=>i.id===n.id)?qd(t,{type:1,toast:n}):qd(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?Kg(r):t.toasts.forEach(i=>{Kg(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},Na=[],Ra={toasts:[],pausedAt:void 0},to=t=>{Ra=qd(Ra,t),Na.forEach(e=>{e(Ra)})},vP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},yP=(t={})=>{let[e,n]=N.useState(Ra);N.useEffect(()=>(Na.push(n),()=>{let o=Na.indexOf(n);o>-1&&Na.splice(o,1)}),[e]);let r=e.toasts.map(o=>{var i,s;return{...t,...t[o.type],...o,duration:o.duration||((i=t[o.type])==null?void 0:i.duration)||(t==null?void 0:t.duration)||vP[o.type],style:{...t.style,...(s=t[o.type])==null?void 0:s.style,...o.style}}});return{...e,toasts:r}},bP=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||fP()}),As=t=>(e,n)=>{let r=bP(e,t,n);return to({type:2,toast:r}),r.id},W=(t,e)=>As("blank")(t,e);W.error=As("error");W.success=As("success");W.loading=As("loading");W.custom=As("custom");W.dismiss=t=>{to({type:3,toastId:t})};W.remove=t=>to({type:4,toastId:t});W.promise=(t,e,n)=>{let r=W.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(o=>(W.success(Cl(e.success,o),{id:r,...n,...n==null?void 0:n.success}),o)).catch(o=>{W.error(Cl(e.error,o),{id:r,...n,...n==null?void 0:n.error})}),t};var wP=(t,e)=>{to({type:1,toast:{id:t,height:e}})},xP=()=>{to({type:5,time:Date.now()})},kP=t=>{let{toasts:e,pausedAt:n}=yP(t);N.useEffect(()=>{if(n)return;let i=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&W.dismiss(a.id);return}return setTimeout(()=>W.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=N.useCallback(()=>{n&&to({type:6,time:Date.now()})},[n]),o=N.useCallback((i,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=s||{},u=e.filter(m=>(m.position||c)===(i.position||c)&&m.height),d=u.findIndex(m=>m.id===i.id),h=u.filter((m,p)=>p<d&&m.visible).length;return u.filter(m=>m.visible).slice(...a?[h+1]:[0,h]).reduce((m,p)=>m+(p.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:wP,startPause:xP,endPause:r,calculateOffset:o}}},SP=Tn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,EP=Tn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CP=Tn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,TP=wr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${SP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${EP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${CP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_P=Tn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,IP=wr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${_P} 1s linear infinite;
`,AP=Tn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,PP=Tn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,NP=wr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${PP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,RP=wr("div")`
  position: absolute;
`,BP=wr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,OP=Tn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,LP=wr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${OP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,MP=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?N.createElement(LP,null,e):e:n==="blank"?null:N.createElement(BP,null,N.createElement(IP,{...r}),n!=="loading"&&N.createElement(RP,null,n==="error"?N.createElement(TP,{...r}):N.createElement(NP,{...r})))},jP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,DP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,UP="0%{opacity:0;} 100%{opacity:1;}",FP="0%{opacity:1;} 100%{opacity:0;}",HP=wr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,zP=wr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,VP=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=G1()?[UP,FP]:[jP(n),DP(n)];return{animation:e?`${Tn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Tn(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$P=N.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?VP(t.position||e||"top-center",t.visible):{opacity:0},i=N.createElement(MP,{toast:t}),s=N.createElement(zP,{...t.ariaProps},Cl(t.message,t));return N.createElement(HP,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:i,message:s}):N.createElement(N.Fragment,null,i,s))});dP(N.createElement);var WP=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let i=N.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return N.createElement("div",{ref:i,className:e,style:n},o)},KP=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:G1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},qP=pc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,aa=16,xr=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,containerStyle:i,containerClassName:s})=>{let{toasts:a,handlers:l}=kP(n);return N.createElement("div",{style:{position:"fixed",zIndex:9999,top:aa,left:aa,right:aa,bottom:aa,pointerEvents:"none",...i},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=KP(u,d);return N.createElement(WP,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?qP:"",style:h},c.type==="custom"?Cl(c.message,c):o?o(c):N.createElement($P,{toast:c,position:u}))}))},Ze=W;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},GP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},X1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,s||(h=64)),r.push(n[u],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Y1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const d=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||c==null||d==null)throw new YP;const h=i<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XP=function(t){const e=Y1(t);return X1.encodeByteArray(e,!0)},Tl=function(t){return XP(t).replace(/\./g,"")},J1=function(t){try{return X1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=()=>JP().__FIREBASE_DEFAULTS__,ZP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&J1(t[1]);return e&&JSON.parse(e)},mc=()=>{try{return QP()||ZP()||eN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Q1=t=>{var e,n;return(n=(e=mc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tN=t=>{const e=Q1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Z1=()=>{var t;return(t=mc())===null||t===void 0?void 0:t.config},ew=t=>{var e;return(e=mc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Tl(JSON.stringify(n)),Tl(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function iN(){var t;const e=(t=mc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lN(){const t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cN(){try{return typeof indexedDB=="object"}catch{return!1}}function uN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="FirebaseError";class Pn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dN,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ps.prototype.create)}}class Ps{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?hN(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new Pn(o,a,r)}}function hN(t,e){return t.replace(fN,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const fN=/\{\$([^}]+)}/g;function pN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _l(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(qg(i)&&qg(s)){if(!_l(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function qg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mN(t,e){const n=new gN(t,e);return n.subscribe.bind(n)}class gN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=yu),o.error===void 0&&(o.error=yu),o.complete===void 0&&(o.complete=yu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class Vr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wN(e))try{this.getOrInitializeService({instanceIdentifier:_r})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=_r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_r){return this.instances.has(e)}getOptions(e=_r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_r){return this.component?this.component.multipleInstances?e:_r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bN(t){return t===_r?void 0:t}function wN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const kN={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},SN=re.INFO,EN={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},CN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=EN[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tw{constructor(e){this.name=e,this._logLevel=SN,this._logHandler=CN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const TN=(t,e)=>e.some(n=>t instanceof n);let Gg,Yg;function _N(){return Gg||(Gg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IN(){return Yg||(Yg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nw=new WeakMap,Gd=new WeakMap,rw=new WeakMap,bu=new WeakMap,Ff=new WeakMap;function AN(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(ar(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&nw.set(n,t)}).catch(()=>{}),Ff.set(e,t),e}function PN(t){if(Gd.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});Gd.set(t,e)}let Yd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NN(t){Yd=t(Yd)}function RN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wu(this),e,...n);return rw.set(r,e.sort?e.sort():[e]),ar(r)}:IN().includes(t)?function(...e){return t.apply(wu(this),e),ar(nw.get(this))}:function(...e){return ar(t.apply(wu(this),e))}}function BN(t){return typeof t=="function"?RN(t):(t instanceof IDBTransaction&&PN(t),TN(t,_N())?new Proxy(t,Yd):t)}function ar(t){if(t instanceof IDBRequest)return AN(t);if(bu.has(t))return bu.get(t);const e=BN(t);return e!==t&&(bu.set(t,e),Ff.set(e,t)),e}const wu=t=>Ff.get(t);function ON(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=ar(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ar(s.result),l.oldVersion,l.newVersion,ar(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const LN=["get","getKey","getAll","getAllKeys","count"],MN=["put","add","delete","clear"],xu=new Map;function Xg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xu.get(e))return xu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=MN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||LN.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return xu.set(e,i),i}NN(t=>({...t,get:(e,n,r)=>Xg(e,n)||t.get(e,n,r),has:(e,n)=>!!Xg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xd="@firebase/app",Jg="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new tw("@firebase/app"),UN="@firebase/app-compat",FN="@firebase/analytics-compat",HN="@firebase/analytics",zN="@firebase/app-check-compat",VN="@firebase/app-check",$N="@firebase/auth",WN="@firebase/auth-compat",KN="@firebase/database",qN="@firebase/database-compat",GN="@firebase/functions",YN="@firebase/functions-compat",XN="@firebase/installations",JN="@firebase/installations-compat",QN="@firebase/messaging",ZN="@firebase/messaging-compat",eR="@firebase/performance",tR="@firebase/performance-compat",nR="@firebase/remote-config",rR="@firebase/remote-config-compat",oR="@firebase/storage",iR="@firebase/storage-compat",sR="@firebase/firestore",aR="@firebase/firestore-compat",lR="firebase",cR="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]",uR={[Xd]:"fire-core",[UN]:"fire-core-compat",[HN]:"fire-analytics",[FN]:"fire-analytics-compat",[VN]:"fire-app-check",[zN]:"fire-app-check-compat",[$N]:"fire-auth",[WN]:"fire-auth-compat",[KN]:"fire-rtdb",[qN]:"fire-rtdb-compat",[GN]:"fire-fn",[YN]:"fire-fn-compat",[XN]:"fire-iid",[JN]:"fire-iid-compat",[QN]:"fire-fcm",[ZN]:"fire-fcm-compat",[eR]:"fire-perf",[tR]:"fire-perf-compat",[nR]:"fire-rc",[rR]:"fire-rc-compat",[oR]:"fire-gcs",[iR]:"fire-gcs-compat",[sR]:"fire-fst",[aR]:"fire-fst-compat","fire-js":"fire-js",[lR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Map,Qd=new Map;function dR(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $o(t){const e=t.name;if(Qd.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;Qd.set(e,t);for(const n of Il.values())dR(n,t);return!0}function Hf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},lr=new Ps("app","Firebase",hR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=cR;function ow(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jd,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw lr.create("bad-app-name",{appName:String(o)});if(n||(n=Z1()),!n)throw lr.create("no-options");const i=Il.get(o);if(i){if(_l(n,i.options)&&_l(r,i.config))return i;throw lr.create("duplicate-app",{appName:o})}const s=new xN(o);for(const l of Qd.values())s.addComponent(l);const a=new fR(n,r,s);return Il.set(o,a),a}function iw(t=Jd){const e=Il.get(t);if(!e&&t===Jd&&Z1())return ow();if(!e)throw lr.create("no-app",{appName:t});return e}function cr(t,e,n){var r;let o=(r=uR[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(a.join(" "));return}$o(new Vr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="firebase-heartbeat-database",mR=1,ps="firebase-heartbeat-store";let ku=null;function sw(){return ku||(ku=ON(pR,mR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ps)}}}).catch(t=>{throw lr.create("idb-open",{originalErrorMessage:t.message})})),ku}async function gR(t){try{return await(await sw()).transaction(ps).objectStore(ps).get(aw(t))}catch(e){if(e instanceof Pn)$r.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function Qg(t,e){try{const r=(await sw()).transaction(ps,"readwrite");await r.objectStore(ps).put(e,aw(t)),await r.done}catch(n){if(n instanceof Pn)$r.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(r.message)}}}function aw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=1024,yR=30*24*60*60*1e3;class bR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Zg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const i=new Date(o.date).valueOf();return Date.now()-i<=yR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zg(),{heartbeatsToSend:n,unsentEntries:r}=wR(this._heartbeatsCache.heartbeats),o=Tl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Zg(){return new Date().toISOString().substring(0,10)}function wR(t,e=vR){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),ev(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ev(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cN()?uN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await gR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ev(t){return Tl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){$o(new Vr("platform-logger",e=>new jN(e),"PRIVATE")),$o(new Vr("heartbeat",e=>new bR(e),"PRIVATE")),cr(Xd,Jg,t),cr(Xd,Jg,"esm2017"),cr("fire-js","")}kR("");var SR="firebase",ER="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(SR,ER,"app");function zf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function lw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CR=lw,cw=new Ps("auth","Firebase",lw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new tw("@firebase/auth");function TR(t,...e){Al.logLevel<=re.WARN&&Al.warn(`Auth (${ri}): ${t}`,...e)}function Ba(t,...e){Al.logLevel<=re.ERROR&&Al.error(`Auth (${ri}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,...e){throw Vf(t,...e)}function Jt(t,...e){return Vf(t,...e)}function uw(t,e,n){const r=Object.assign(Object.assign({},CR()),{[e]:n});return new Ps("auth","Firebase",r).create(e,{appName:t.name})}function _R(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&en(t,"argument-error"),uw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cw.create(t,...e)}function G(t,e,...n){if(!t)throw Vf(e,...n)}function fn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ba(e),new Error(e)}function _n(t,e){t||fn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function IR(){return tv()==="http:"||tv()==="https:"}function tv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IR()||sN()||"connection"in navigator)?navigator.onLine:!0}function PR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.shortDelay=e,this.longDelay=n,_n(n>e,"Short delay should be less than long delay!"),this.isMobile=oN()||aN()}get(){return AR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t,e){_n(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Rs(3e4,6e4);function hw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bs(t,e,n,r,o={}){return fw(t,o,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const a=Ns(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),dw.fetch()(pw(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function fw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},NR),e);try{const o=new OR(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw la(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw la(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw la(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw la(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw uw(t,u,c);en(t,u)}}catch(o){if(o instanceof Pn)throw o;en(t,"network-request-failed",{message:String(o)})}}async function BR(t,e,n,r,o={}){const i=await Bs(t,e,n,r,o);return"mfaPendingCredential"in i&&en(t,"multi-factor-auth-required",{_serverResponse:i}),i}function pw(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?$f(t.config,o):`${t.config.apiScheme}://${o}`}class OR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jt(this.auth,"network-request-failed")),RR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function la(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Jt(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(t,e){return Bs(t,"POST","/v1/accounts:delete",e)}async function MR(t,e){return Bs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jR(t,e=!1){const n=rn(t),r=await n.getIdToken(e),o=Wf(r);G(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:Fi(Su(o.auth_time)),issuedAtTime:Fi(Su(o.iat)),expirationTime:Fi(Su(o.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Su(t){return Number(t)*1e3}function Wf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ba("JWT malformed, contained fewer than 3 sections"),null;try{const o=J1(n);return o?JSON.parse(o):(Ba("Failed to decode base64 JWT payload"),null)}catch(o){return Ba("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function DR(t){const e=Wf(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ms(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pn&&UR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fi(this.lastLoginAt),this.creationTime=Fi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t){var e;const n=t.auth,r=await t.getIdToken(),o=await ms(t,MR(n,{idToken:r}));G(o==null?void 0:o.users.length,n,"internal-error");const i=o.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?VR(i.providerUserInfo):[],a=zR(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new mw(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function HR(t){const e=rn(t);await Pl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zR(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function VR(t){return t.map(e=>{var{providerId:n}=e,r=zf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(t,e){const n=await fw(t,{},async()=>{const r=Ns({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=pw(t,o,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dw.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return G(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await $R(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new gs;return r&&(G(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),o&&(G(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),i&&(G(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gs,this.toJSON())}_performRefresh(){return fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Lr{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=zf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ms(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jR(this,e)}reload(){return HR(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ms(this,LR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(o=n.email)!==null&&o!==void 0?o:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,k=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:f,emailVerified:w,isAnonymous:S,providerData:_,stsTokenManager:P}=n;G(f&&P,e,"internal-error");const y=gs.fromJSON(this.name,P);G(typeof f=="string",e,"internal-error"),On(d,e.name),On(h,e.name),G(typeof w=="boolean",e,"internal-error"),G(typeof S=="boolean",e,"internal-error"),On(m,e.name),On(p,e.name),On(v,e.name),On(E,e.name),On(k,e.name),On(g,e.name);const x=new Lr({uid:f,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:S,photoURL:p,phoneNumber:m,tenantId:v,stsTokenManager:y,createdAt:k,lastLoginAt:g});return _&&Array.isArray(_)&&(x.providerData=_.map(T=>Object.assign({},T))),E&&(x._redirectEventId=E),x}static async _fromIdTokenResponse(e,n,r=!1){const o=new gs;o.updateFromServerResponse(n);const i=new Lr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Pl(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new Map;function pn(t){_n(t instanceof Function,"Expected a class definition");let e=nv.get(t);return e?(_n(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gw.type="NONE";const rv=gw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t,e,n){return`firebase:${t}:${e}:${n}`}class Ro{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=Oa(this.userKey,o.apiKey,i),this.fullPersistenceKey=Oa("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Lr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ro(pn(rv),e,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=o[0]||pn(rv);const s=Oa(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const d=Lr._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ro(i,e,r):(i=l[0],a&&await i._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new Ro(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xw(e))return"Blackberry";if(kw(e))return"Webos";if(Kf(e))return"Safari";if((e.includes("chrome/")||yw(e))&&!e.includes("edge/"))return"Chrome";if(ww(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vw(t=Ge()){return/firefox\//i.test(t)}function Kf(t=Ge()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yw(t=Ge()){return/crios\//i.test(t)}function bw(t=Ge()){return/iemobile/i.test(t)}function ww(t=Ge()){return/android/i.test(t)}function xw(t=Ge()){return/blackberry/i.test(t)}function kw(t=Ge()){return/webos/i.test(t)}function gc(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WR(t=Ge()){var e;return gc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KR(){return lN()&&document.documentMode===10}function Sw(t=Ge()){return gc(t)||ww(t)||kw(t)||xw(t)||/windows phone/i.test(t)||bw(t)}function qR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t,e=[]){let n;switch(t){case"Browser":n=ov(Ge());break;case"Worker":n=`${ov(Ge())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ri}/${r}`}async function Cw(t,e){return Bs(t,"GET","/v2/recaptchaConfig",hw(t,e))}function iv(t){return t!==void 0&&t.enterprise!==void 0}class Tw{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _w(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=Jt("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",GR().appendChild(r)})}function YR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const XR="https://www.google.com/recaptcha/enterprise.js?render=",JR="recaptcha-enterprise",QR="NO_RECAPTCHA";class ZR{constructor(e){this.type=JR,this.auth=Os(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,a)=>{Cw(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Tw(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function o(i,s,a){const l=window.grecaptcha;iv(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{s(c)}).catch(()=>{s(QR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,s)=>{r(this.auth).then(a=>{if(!n&&iv(window.grecaptcha))o(a,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}_w(XR+a).then(()=>{o(a,i,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{const l=e(i);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sv(this),this.idTokenSubscription=new sv(this),this.beforeStateQueue=new eB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pn(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let o=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(o=l.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(o)}catch(s){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?rn(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(pn(e))})}async initializeRecaptchaConfig(){const e=await Cw(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Tw(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new ZR(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ps("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pn(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return G(s,this,"internal-error"),s.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,o):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ew(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&TR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Os(t){return rn(t)}class sv{constructor(e){this.auth=e,this.observer=null,this.addObserver=mN(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t,e){const n=Hf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(_l(i,e??{}))return o;en(o,"already-initialized")}return n.initialize({options:e})}function rB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oB(t,e,n){const r=Os(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),i=Iw(e),{host:s,port:a}=iB(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||sB()}function Iw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iB(t){const e=Iw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:av(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:av(s)}}}function av(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fn("not implemented")}_getIdTokenResponse(e){return fn("not implemented")}_linkToIdToken(e,n){return fn("not implemented")}_getReauthenticationResolver(e){return fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t,e){return BR(t,"POST","/v1/accounts:signInWithIdp",hw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="http://localhost";class Wr extends Aw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):en("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,i=zf(n,["providerId","signInMethod"]);if(!r||!o)return null;const s=new Wr(r,o);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bo(e,n)}buildRequest(){const e={requestUri:aB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ns(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends qf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends Ls{constructor(){super("facebook.com")}static credential(e){return Wr._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zn.credential(e.oauthAccessToken)}catch{return null}}}zn.FACEBOOK_SIGN_IN_METHOD="facebook.com";zn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln extends Ls{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wr._fromParams({providerId:ln.PROVIDER_ID,signInMethod:ln.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ln.credentialFromTaggedObject(e)}static credentialFromError(e){return ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ln.credential(n,r)}catch{return null}}}ln.GOOGLE_SIGN_IN_METHOD="google.com";ln.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends Ls{constructor(){super("github.com")}static credential(e){return Wr._fromParams({providerId:Vn.PROVIDER_ID,signInMethod:Vn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vn.credentialFromTaggedObject(e)}static credentialFromError(e){return Vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vn.credential(e.oauthAccessToken)}catch{return null}}}Vn.GITHUB_SIGN_IN_METHOD="github.com";Vn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends Ls{constructor(){super("twitter.com")}static credential(e,n){return Wr._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $n.credential(n,r)}catch{return null}}}$n.TWITTER_SIGN_IN_METHOD="twitter.com";$n.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await Lr._fromIdTokenResponse(e,r,o),s=lv(r);return new Wo({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=lv(r);return new Wo({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function lv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Pn{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Nl.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Nl(e,n,r,o)}}function Pw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Nl._fromErrorAndOperation(t,i,e,r):i})}async function lB(t,e,n=!1){const r=await ms(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(t,e,n=!1){const{auth:r}=t,o="reauthenticate";try{const i=await ms(t,Pw(r,o,e,t),n);G(i.idToken,r,"internal-error");const s=Wf(i.idToken);G(s,r,"internal-error");const{sub:a}=s;return G(t.uid===a,r,"user-mismatch"),Wo._forOperation(t,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&en(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(t,e,n=!1){const r="signIn",o=await Pw(t,r,e),i=await Wo._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}function dB(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function hB(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}const Rl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rl,"1"),this.storage.removeItem(Rl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(){const t=Ge();return Kf(t)||gc(t)}const pB=1e3,mB=10;class Rw extends Nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fB()&&qR(),this.fallbackToPolling=Sw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const o=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);KR()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,mB):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rw.type="LOCAL";const gB=Rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends Nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Bw.type="SESSION";const Ow=Bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new vc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(s).map(async c=>c(n.origin,i)),l=await vB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,l)=>{const c=Gf("",20);o.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return window}function bB(t){Qt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(){return typeof Qt().WorkerGlobalScope<"u"&&typeof Qt().importScripts=="function"}async function wB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kB(){return Lw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="firebaseLocalStorageDb",SB=1,Bl="firebaseLocalStorage",jw="fbase_key";class Ms{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yc(t,e){return t.transaction([Bl],e?"readwrite":"readonly").objectStore(Bl)}function EB(){const t=indexedDB.deleteDatabase(Mw);return new Ms(t).toPromise()}function eh(){const t=indexedDB.open(Mw,SB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bl,{keyPath:jw})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bl)?e(r):(r.close(),await EB(),e(await eh()))})})}async function cv(t,e,n){const r=yc(t,!0).put({[jw]:e,value:n});return new Ms(r).toPromise()}async function CB(t,e){const n=yc(t,!1).get(e),r=await new Ms(n).toPromise();return r===void 0?null:r.value}function uv(t,e){const n=yc(t,!0).delete(e);return new Ms(n).toPromise()}const TB=800,_B=3;class Dw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_B)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vc._getInstance(kB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wB(),!this.activeServiceWorker)return;this.sender=new yB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eh();return await cv(e,Rl,"1"),await uv(e,Rl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=yc(o,!1).getAll();return new Ms(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dw.type="LOCAL";const IB=Dw;new Rs(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t,e){return e?pn(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends Aw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AB(t){return uB(t.auth,new Yf(t),t.bypassAuthState)}function PB(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),cB(n,new Yf(t),t.bypassAuthState)}async function NB(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),lB(n,new Yf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AB;case"linkViaPopup":case"linkViaRedirect":return NB;case"reauthViaPopup":case"reauthViaRedirect":return PB;default:en(this.auth,"internal-error")}}resolve(e){_n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=new Rs(2e3,1e4);async function BB(t,e,n){const r=Os(t);_R(t,e,qf);const o=Uw(r,n);return new Rr(r,"signInViaPopup",e,o).executeNotNull()}class Rr extends Fw{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,Rr.currentPopupAction&&Rr.currentPopupAction.cancel(),Rr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){_n(this.filter.length===1,"Popup operations only handle one event");const e=Gf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RB.get())};e()}}Rr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB="pendingRedirect",La=new Map;class LB extends Fw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=La.get(this.auth._key());if(!e){try{const r=await MB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}La.set(this.auth._key(),e)}return this.bypassAuthState||La.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MB(t,e){const n=UB(e),r=DB(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function jB(t,e){La.set(t._key(),e)}function DB(t){return pn(t._redirectPersistence)}function UB(t){return Oa(OB,t.config.apiKey,t.name)}async function FB(t,e,n=!1){const r=Os(t),o=Uw(r,e),s=await new LB(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=10*60*1e3;class zB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Hw(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jt(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HB&&this.cachedEventUids.clear(),this.cachedEventUids.has(dv(e))}saveEventToCache(e){this.cachedEventUids.add(dv(e)),this.lastProcessedEventTime=Date.now()}}function dv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $B(t,e={}){return Bs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KB=/^https?/;async function qB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $B(t);for(const n of e)try{if(GB(n))return}catch{}en(t,"unauthorized-domain")}function GB(t){const e=Zd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!KB.test(n))return!1;if(WB.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=new Rs(3e4,6e4);function hv(){const t=Qt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XB(t){return new Promise((e,n)=>{var r,o,i;function s(){hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hv(),n(Jt(t,"network-request-failed"))},timeout:YB.get()})}if(!((o=(r=Qt().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((i=Qt().gapi)===null||i===void 0)&&i.load)s();else{const a=YR("iframefcb");return Qt()[a]=()=>{gapi.load?s():n(Jt(t,"network-request-failed"))},_w(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ma=null,e})}let Ma=null;function JB(t){return Ma=Ma||XB(t),Ma}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=new Rs(5e3,15e3),ZB="__/auth/iframe",eO="emulator/auth/iframe",tO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rO(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$f(e,eO):`https://${t.config.authDomain}/${ZB}`,r={apiKey:e.apiKey,appName:t.name,v:ri},o=nO.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ns(r).slice(1)}`}async function oO(t){const e=await JB(t),n=Qt().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:rO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tO,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const s=Jt(t,"network-request-failed"),a=Qt().setTimeout(()=>{i(s)},QB.get());function l(){Qt().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sO=500,aO=600,lO="_blank",cO="http://localhost";class fv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uO(t,e,n,r=sO,o=aO){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},iO),{width:r.toString(),height:o.toString(),top:i,left:s}),c=Ge().toLowerCase();n&&(a=yw(c)?lO:n),vw(c)&&(e=e||cO,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,p])=>`${h}${m}=${p},`,"");if(WR(c)&&a!=="_self")return dO(e||"",a),new fv(null);const d=window.open(e||"",a,u);G(d,t,"popup-blocked");try{d.focus()}catch{}return new fv(d)}function dO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="__/auth/handler",fO="emulator/auth/handler",pO=encodeURIComponent("fac");async function pv(t,e,n,r,o,i){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ri,eventId:o};if(e instanceof qf){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",pN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(i||{}))s[u]=d}if(e instanceof Ls){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${pO}=${encodeURIComponent(l)}`:"";return`${mO(t)}?${Ns(a).slice(1)}${c}`}function mO({config:t}){return t.emulator?$f(t,fO):`https://${t.authDomain}/${hO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="webStorageSupport";class gO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ow,this._completeRedirectFn=FB,this._overrideRedirectResult=jB}async _openPopup(e,n,r,o){var i;_n((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await pv(e,n,r,Zd(),o);return uO(e,s,Gf())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await pv(e,n,r,Zd(),o);return bB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(_n(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oO(e),r=new zB(e);return n.register("authEvent",o=>(G(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Eu,{type:Eu},o=>{var i;const s=(i=o==null?void 0:o[0])===null||i===void 0?void 0:i[Eu];s!==void 0&&n(!!s),en(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Sw()||Kf()||gc()}}const vO=gO;var mv="@firebase/auth",gv="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function wO(t){$o(new Vr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ew(t)},c=new tB(r,o,i,l);return rB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$o(new Vr("auth-internal",e=>{const n=Os(e.getProvider("auth").getImmediate());return(r=>new yO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(mv,gv,bO(t)),cr(mv,gv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=5*60,kO=ew("authIdTokenMaxAge")||xO;let vv=null;const SO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kO)return;const o=n==null?void 0:n.token;vv!==o&&(vv=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function EO(t=iw()){const e=Hf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nB(t,{popupRedirectResolver:vO,persistence:[IB,gB,Ow]}),r=ew("authTokenSyncURL");if(r){const i=SO(r);hB(n,i,()=>i(n.currentUser)),dB(n,s=>i(s))}const o=Q1("auth");return o&&oB(n,`http://${o}`),n}wO("Browser");const CO={apiKey:"AIzaSyDVIIv4HU4Shc2Jb8ktgD8K7geAhCkIzO0",authDomain:"blogging-website-4065b.firebaseapp.com",projectId:"blogging-website-4065b",storageBucket:"blogging-website-4065b.appspot.com",messagingSenderId:"623226614203",appId:"1:623226614203:web:e80505769684842375549e"},zw=ow(CO),TO=new ln,_O=EO(),IO=async()=>{let t=null;return await BB(_O,TO).then(e=>{t=e.user}).catch(e=>{console.log(e)}),t},yv=({type:t})=>{let{userAuth:{access_token:e},setUserAuth:n}=N.useContext(Be);const r=(s,a)=>{se.post("https://blogging-website-server-kcx1.onrender.com"+s,a).then(({data:l})=>{Sl("user",JSON.stringify(l)),n(l)}).catch(({response:l})=>{W.error(l.data.error)})},o=s=>{s.preventDefault();let a=t=="sign-in"?"/signin":"/signup",l=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,c=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/,u=new FormData(formElement),d={};for(let[v,E]of u.entries())d[v]=E;let{fullname:h,email:m,password:p}=d;if(h&&h.length<3)return W.error("Full name must be atleast 3 letters long");if(m.length==0)return W.error("Enter Email");if(!l.test(m))return W.error("Email is invalid");if(!c.test(p))return W.error("password should be 6 to 20 character long with a numeric, 1 lowercase and 1 uppercase letters");r(a,d)},i=s=>{s.preventDefault(),IO().then(a=>{let l="/google-auth",c={access_token:a.accessToken};r(l,c)}).catch(a=>{W.error("trouble login through Google"),console.log(a)})};return e?b.jsx(pf,{to:"/"}):b.jsx(b.Fragment,{children:b.jsx(Te,{keyValue:t,children:b.jsxs("section",{className:"h-cover flex items-center justify-center",children:[b.jsx(xr,{}),b.jsxs("form",{id:"formElement",className:"w-[80%] max-w-[400px]",children:[b.jsx("h1",{className:"text-4xl font-gelasio capitalize text-center mb-24",children:t=="sign-in"?"Welcome back":"Join us today"}),t!="sign-in"?b.jsx(hn,{name:"fullname",type:"text",placeholder:"Full Name",icon:"fi-rr-user"}):"",b.jsx(hn,{name:"email",type:"email",placeholder:"Email",icon:"fi-rr-envelope"}),b.jsx(hn,{name:"password",type:"password",placeholder:"Password",icon:"fi-rr-key"}),b.jsx("button",{className:"btn-dark center mt-14",type:"submit",onClick:o,children:t=="sign-in"?"Sign In":"Sign Up"}),b.jsxs("div",{className:"relative w-full flex items-center gap-2 my-10 opacity-10 uppercase text-black font-bold",children:[b.jsx("hr",{className:"w-1/2 border-black"}),b.jsx("p",{children:"or"}),b.jsx("hr",{className:"w-1/2 border-black"})]}),b.jsxs("button",{className:"btn-dark flex items-center justify-center gap-4 w-[90%] center",onClick:i,children:[b.jsx("img",{src:oP,className:"w-5"}),"continue with google"]}),t=="sign-in"?b.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Don't have an accout ?",b.jsx(oe,{to:"/signup",className:"underline text-black text-xl ml-1",children:"Join us today"})]}):b.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:["Already a member ?",b.jsx(oe,{to:"/signin",className:"underline text-black text-xl ml-1",children:"Sign in here"})]})]})]})})})},AO="/assets/blog banner dark-5dfd346c.png",PO="/assets/blog banner light-4c269e06.png";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firebasestorage.googleapis.com",$w="storageBucket",NO=2*60*1e3,RO=10*60*1e3,BO=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve extends Pn{constructor(e,n,r=0){super(Cu(e),`Firebase Storage: ${n} (${Cu(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ve.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cu(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ue;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ue||(ue={}));function Cu(t){return"storage/"+t}function Xf(){const t="An unknown error occurred, please check the error payload for server response.";return new ve(ue.UNKNOWN,t)}function OO(t){return new ve(ue.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function LO(t){return new ve(ue.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MO(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ve(ue.UNAUTHENTICATED,t)}function jO(){return new ve(ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function DO(t){return new ve(ue.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ww(){return new ve(ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Kw(){return new ve(ue.CANCELED,"User canceled the upload/download.")}function UO(t){return new ve(ue.INVALID_URL,"Invalid URL '"+t+"'.")}function FO(t){return new ve(ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function HO(){return new ve(ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$w+"' property when initializing the app?")}function qw(){return new ve(ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zO(){return new ve(ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function VO(){return new ve(ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $O(t){return new ve(ue.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function th(t){return new ve(ue.INVALID_ARGUMENT,t)}function Gw(){return new ve(ue.APP_DELETED,"The Firebase app was deleted.")}function WO(t){return new ve(ue.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hi(t,e){return new ve(ue.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function bi(t){throw new ve(ue.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=mt.makeFromUrl(e,n)}catch{return new mt(e,"")}if(r.path==="")return r;throw FO(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function i(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+o+s,"i"),l={bucket:1,path:3};function c(w){w.path_=decodeURIComponent(w.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${u}/b/${o}/o${h}`,"i"),p={bucket:1,path:3},v=n===Vw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",k=new RegExp(`^https?://${v}/${o}/${E}`,"i"),f=[{regex:a,indices:l,postModify:i},{regex:m,indices:p,postModify:c},{regex:k,indices:{bucket:1,path:2},postModify:c}];for(let w=0;w<f.length;w++){const S=f[w],_=S.regex.exec(e);if(_){const P=_[S.indices.bucket];let y=_[S.indices.path];y||(y=""),r=new mt(P,y),S.postModify(r);break}}if(r==null)throw UO(e);return r}}class KO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t,e,n){let r=1,o=null,i=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function d(E){o=setTimeout(()=>{o=null,t(m,l())},E)}function h(){i&&clearTimeout(i)}function m(E,...k){if(c){h();return}if(E){h(),u.call(null,E,...k);return}if(l()||s){h(),u.call(null,E,...k);return}r<64&&(r*=2);let f;a===1?(a=2,f=0):f=(r+Math.random())*1e3,d(f)}let p=!1;function v(E){p||(p=!0,h(),!c&&(o!==null?(E||(a=2),clearTimeout(o),d(0)):E||(a=1)))}return d(0),i=setTimeout(()=>{s=!0,v(!0)},n),v}function GO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t){return t!==void 0}function XO(t){return typeof t=="function"}function JO(t){return typeof t=="object"&&!Array.isArray(t)}function bc(t){return typeof t=="string"||t instanceof String}function bv(t){return Jf()&&t instanceof Blob}function Jf(){return typeof Blob<"u"&&!iN()}function wv(t,e,n,r){if(r<e)throw th(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw th(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Yw(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Mr||(Mr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||o||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,r,o,i,s,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,p)=>{this.resolve_=m,this.reject_=p,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new ca(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const a=i.getErrorCode()===Mr.NO_ERROR,l=i.getStatus();if(!a||Xw(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Mr.ABORT;r(!1,new ca(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new ca(c,i))})},n=(r,o)=>{const i=this.resolve_,s=this.reject_,a=o.connection;if(o.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());YO(l)?i(l):i()}catch(l){s(l)}else if(a!==null){const l=Xf();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(o.canceled){const l=this.appDelete_?Gw():Kw();s(l)}else{const l=Ww();s(l)}};this.canceled_?n(!1,new ca(!1,null,!0)):this.backoffId_=qO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ca{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ZO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function eL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function nL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function rL(t,e,n,r,o,i,s=!0){const a=Yw(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return tL(c,e),ZO(c,n),eL(c,i),nL(c,r),new QO(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iL(...t){const e=oL();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Jf())return new Blob(t);throw new ve(ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){if(typeof atob>"u")throw $O("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tu{constructor(e,n){this.data=e,this.contentType=n||null}}function lL(t,e){switch(t){case qt.RAW:return new Tu(Jw(e));case qt.BASE64:case qt.BASE64URL:return new Tu(Qw(t,e));case qt.DATA_URL:return new Tu(uL(e),dL(e))}throw Xf()}function Jw(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,s=t.charCodeAt(++n);r=65536|(i&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function cL(t){let e;try{e=decodeURIComponent(t)}catch{throw Hi(qt.DATA_URL,"Malformed data URL.")}return Jw(e)}function Qw(t,e){switch(t){case qt.BASE64:{const o=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(o||i)throw Hi(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case qt.BASE64URL:{const o=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(o||i)throw Hi(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=aL(e)}catch(o){throw o.message.includes("polyfill")?o:Hi(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class Zw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hi(qt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=hL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function uL(t){const e=new Zw(t);return e.base64?Qw(qt.BASE64,e.rest):cL(e.rest)}function dL(t){return new Zw(t).contentType}function hL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){let r=0,o="";bv(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(bv(this.data_)){const r=this.data_,o=sL(r,e,n);return o===null?null:new Wn(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Wn(r,!0)}}static getBlob(...e){if(Jf()){const n=e.map(r=>r instanceof Wn?r.data_:r);return new Wn(iL.apply(null,n))}else{const n=e.map(s=>bc(s)?lL(qt.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const o=new Uint8Array(r);let i=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)o[i++]=s[a]}),new Wn(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t){let e;try{e=JSON.parse(t)}catch{return null}return JO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function pL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function tx(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t,e){return e}class Qe{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||mL}}let ua=null;function gL(t){return!bc(t)||t.length<2?t:tx(t)}function nx(){if(ua)return ua;const t=[];t.push(new Qe("bucket")),t.push(new Qe("generation")),t.push(new Qe("metageneration")),t.push(new Qe("name","fullPath",!0));function e(i,s){return gL(s)}const n=new Qe("name");n.xform=e,t.push(n);function r(i,s){return s!==void 0?Number(s):s}const o=new Qe("size");return o.xform=r,t.push(o),t.push(new Qe("timeCreated")),t.push(new Qe("updated")),t.push(new Qe("md5Hash",null,!0)),t.push(new Qe("cacheControl",null,!0)),t.push(new Qe("contentDisposition",null,!0)),t.push(new Qe("contentEncoding",null,!0)),t.push(new Qe("contentLanguage",null,!0)),t.push(new Qe("contentType",null,!0)),t.push(new Qe("metadata","customMetadata",!0)),ua=t,ua}function vL(t,e){function n(){const r=t.bucket,o=t.fullPath,i=new mt(r,o);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function yL(t,e,n){const r={};r.type="file";const o=n.length;for(let i=0;i<o;i++){const s=n[i];r[s.local]=s.xform(r,e[s.server])}return vL(r,t),r}function rx(t,e,n){const r=ex(e);return r===null?null:yL(t,r,n)}function bL(t,e,n,r){const o=ex(e);if(o===null||!bc(o.downloadTokens))return null;const i=o.downloadTokens;if(i.length===0)return null;const s=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+s(u)+"/o/"+s(d),m=js(h,n,r),p=Yw({alt:"media",token:c});return m+p})[0]}function ox(t,e){const n={},r=e.length;for(let o=0;o<r;o++){const i=e[o];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class oi{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t){if(!t)throw Xf()}function Qf(t,e){function n(r,o){const i=rx(t,o,e);return wn(i!==null),i}return n}function wL(t,e){function n(r,o){const i=rx(t,o,e);return wn(i!==null),bL(i,o,t.host,t._protocol)}return n}function Ds(t){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=jO():o=MO():n.getStatus()===402?o=LO(t.bucket):n.getStatus()===403?o=DO(t.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function ix(t){const e=Ds(t);function n(r,o){let i=e(r,o);return r.getStatus()===404&&(i=OO(t.path)),i.serverResponse=o.serverResponse,i}return n}function xL(t,e,n){const r=e.fullServerUrl(),o=js(r,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,a=new oi(o,i,Qf(t,n),s);return a.errorHandler=ix(e),a}function kL(t,e,n){const r=e.fullServerUrl(),o=js(r,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,a=new oi(o,i,wL(t,n),s);return a.errorHandler=ix(e),a}function SL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function sx(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=SL(null,e)),r}function EL(t,e,n,r,o){const i=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let f="";for(let w=0;w<2;w++)f=f+Math.random().toString().slice(2);return f}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=sx(e,r,o),u=ox(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=Wn.getBlob(d,r,h);if(m===null)throw qw();const p={name:c.fullPath},v=js(i,t.host,t._protocol),E="POST",k=t.maxUploadRetryTime,g=new oi(v,E,Qf(t,n),k);return g.urlParams=p,g.headers=s,g.body=m.uploadData(),g.errorHandler=Ds(e),g}class Ol{constructor(e,n,r,o){this.current=e,this.total=n,this.finalized=!!r,this.metadata=o||null}}function Zf(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{wn(!1)}return wn(!!n&&(e||["active"]).indexOf(n)!==-1),n}function CL(t,e,n,r,o){const i=e.bucketOnlyServerUrl(),s=sx(e,r,o),a={name:s.fullPath},l=js(i,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},d=ox(s,n),h=t.maxUploadRetryTime;function m(v){Zf(v);let E;try{E=v.getResponseHeader("X-Goog-Upload-URL")}catch{wn(!1)}return wn(bc(E)),E}const p=new oi(l,c,m,h);return p.urlParams=a,p.headers=u,p.body=d,p.errorHandler=Ds(e),p}function TL(t,e,n,r){const o={"X-Goog-Upload-Command":"query"};function i(c){const u=Zf(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{wn(!1)}d||wn(!1);const h=Number(d);return wn(!isNaN(h)),new Ol(h,r.size(),u==="final")}const s="POST",a=t.maxUploadRetryTime,l=new oi(n,s,i,a);return l.headers=o,l.errorHandler=Ds(e),l}const xv=256*1024;function _L(t,e,n,r,o,i,s,a){const l=new Ol(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw zO();const c=l.total-l.current;let u=c;o>0&&(u=Math.min(u,o));const d=l.current,h=d+u;let m="";u===0?m="finalize":c===u?m="upload, finalize":m="upload";const p={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},v=r.slice(d,h);if(v===null)throw qw();function E(w,S){const _=Zf(w,["active","final"]),P=l.current+u,y=r.size();let x;return _==="final"?x=Qf(e,i)(w,S):x=null,new Ol(P,y,_==="final",x)}const k="POST",g=e.maxUploadRetryTime,f=new oi(n,k,E,g);return f.headers=p,f.body=v.uploadData(),f.progressCallback=a||null,f.errorHandler=Ds(t),f}const it={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _u(t){switch(t){case"running":case"pausing":case"canceling":return it.RUNNING;case"paused":return it.PAUSED;case"success":return it.SUCCESS;case"canceled":return it.CANCELED;case"error":return it.ERROR;default:return it.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n,r){if(XO(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class AL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o){if(this.sent_)throw bi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const i in o)o.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,o[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bi("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class PL extends AL{initXhr(){this.xhr_.responseType="text"}}function io(){return new PL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=nx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(Xw(o.status,[]))if(i)o=Ww();else{this.sleepTime=Math.max(this.sleepTime*2,BO),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(ue.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,i)=>{this._resolve=o,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=CL(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,io,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const o=TL(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(o,io,n,r);this._request=i,i.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=xv*this._chunkMultiplier,n=new Ol(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,i)=>{let s;try{s=_L(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(s,io,o,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){xv*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=xL(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,io,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=EL(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,io,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Kw(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=_u(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,o){const i=new IL(n||void 0,r||void 0,o||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(_u(this._state)){case it.SUCCESS:ro(this._resolve.bind(null,this.snapshot))();break;case it.CANCELED:case it.ERROR:const n=this._reject;ro(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(_u(this._state)){case it.RUNNING:case it.PAUSED:e.next&&ro(e.next.bind(e,this.snapshot))();break;case it.SUCCESS:e.complete&&ro(e.complete.bind(e))();break;case it.CANCELED:case it.ERROR:e.error&&ro(e.error.bind(e,this._error))();break;default:e.error&&ro(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this._service=e,n instanceof mt?this._location=n:this._location=mt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Kr(e,n)}get root(){const e=new mt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tx(this._location.path)}get storage(){return this._service}get parent(){const e=fL(this._location.path);if(e===null)return null;const n=new mt(this._location.bucket,e);return new Kr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw WO(e)}}function RL(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new NL(t,new Wn(e),n)}function BL(t){t._throwIfRoot("getDownloadURL");const e=kL(t.storage,t._location,nx());return t.storage.makeRequestWithTokens(e,io).then(n=>{if(n===null)throw VO();return n})}function OL(t,e){const n=pL(t._location.path,e),r=new mt(t._location.bucket,n);return new Kr(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){return/^[A-Za-z]+:\/\//.test(t)}function ML(t,e){return new Kr(t,e)}function ax(t,e){if(t instanceof ep){const n=t;if(n._bucket==null)throw HO();const r=new Kr(n,n._bucket);return e!=null?ax(r,e):r}else return e!==void 0?OL(t,e):t}function jL(t,e){if(e&&LL(e)){if(t instanceof ep)return ML(t,e);throw th("To use ref(service, url), the first argument must be a Storage instance.")}else return ax(t,e)}function kv(t,e){const n=e==null?void 0:e[$w];return n==null?null:mt.makeFromBucketSpec(n,t)}function DL(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:rN(o,t.app.options.projectId))}class ep{constructor(e,n,r,o,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=i,this._bucket=null,this._host=Vw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NO,this._maxUploadRetryTime=RO,this._requests=new Set,o!=null?this._bucket=mt.makeFromBucketSpec(o,this._host):this._bucket=kv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mt.makeFromBucketSpec(this._url,e):this._bucket=kv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kr(this,e)}_makeRequest(e,n,r,o,i=!0){if(this._deleted)return new KO(Gw());{const s=rL(e,this._appId,r,o,n,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const Sv="@firebase/storage",Ev="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="storage";function UL(t,e,n){return t=rn(t),RL(t,e,n)}function FL(t){return t=rn(t),BL(t)}function HL(t,e){return t=rn(t),jL(t,e)}function cx(t=iw(),e){t=rn(t);const r=Hf(t,lx).getImmediate({identifier:e}),o=tN("storage");return o&&zL(r,...o),r}function zL(t,e,n,r={}){DL(t,e,n,r)}function VL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new ep(n,r,o,e,ri)}function $L(){$o(new Vr(lx,VL,"PUBLIC").setMultipleInstances(!0)),cr(Sv,Ev,""),cr(Sv,Ev,"esm2017")}$L();const WL=cx(zw),tp=async t=>{const e=new Date().getTime()+t.name,n=HL(WL,e);return await UL(n,t),FL(n)};var KL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Iu(){}Object.assign(Iu,{default:Iu,register:Iu,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),o=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,c=i&&!s;(i||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(i||s||a||l)&&!t&&this.scrollIntoView(c)});let qL=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var ux=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(ux||{});const q={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},GL={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Us(t,e,n="log",r,o="color: inherit"){if(!("console"in window)||!window.console[n])return;const i=["info","log","warn","error"].includes(n),s=[];switch(Us.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!i||t)return;break}r&&s.push(r);const a="Editor.js 2.27.2",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;t&&(i?(s.unshift(l,o),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{i?r?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}Us.logLevel="VERBOSE";function YL(t){Us.logLevel=t}const X=Us.bind(window,!1),Mt=Us.bind(window,!0);function qr(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function le(t){return qr(t)==="function"||qr(t)==="asyncfunction"}function De(t){return qr(t)==="object"}function pr(t){return qr(t)==="string"}function XL(t){return qr(t)==="boolean"}function Cv(t){return qr(t)==="number"}function Tv(t){return qr(t)==="undefined"}function Ht(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function dx(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function hx(t,e=()=>{},n=()=>{}){async function r(o,i,s){try{await o.function(o.data),await i(Tv(o.data)?{}:o.data)}catch{s(Tv(o.data)?{}:o.data)}}return t.reduce(async(o,i)=>(await o,r(i,e,n)),Promise.resolve())}function fx(t){return Array.prototype.slice.call(t)}function Gr(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function JL(t){return t.name.split(".").pop()}function QL(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function ZL(t,e,n){let r;return(...o)=>{const i=this,s=()=>{r=null,n||t.apply(i,o)},a=n&&!r;window.clearTimeout(r),r=window.setTimeout(s,e),a&&t.apply(i,o)}}function nh(t,e,n=void 0){let r,o,i,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,o),s||(r=o=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const u=e-(c-a);return r=this,o=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,i=t.apply(r,o),s||(r=o=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,u)),i}}function eM(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function Ll(t){return t[0].toUpperCase()+t.slice(1)}function rh(t,...e){if(!e.length)return t;const n=e.shift();if(De(t)&&De(n))for(const r in n)De(n[r])?(t[r]||Object.assign(t,{[r]:{}}),rh(t[r],n[r])):Object.assign(t,{[r]:n[r]});return rh(t,...e)}function px(t){const e=eM();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function tM(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function nM(){return qL(10)}function rM(t){window.open(t,"_blank")}function oM(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function oh(t,e,n){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&Mt(r,"warn")}function ii(t,e,n){const r=n.value?"value":"get",o=n[r],i=`#${e}Cache`;if(n[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,...s)),this[i]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete t[i],s.apply(this,a)}}return n}const mx=650;function jr(){return window.matchMedia(`(max-width: ${mx}px)`).matches}const _v=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function iM(t,e){const n=Array.isArray(t)||De(t),r=Array.isArray(e)||De(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}class M{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i]);return o}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(e,n),o.insertBefore(n,r),o.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return fx(e.querySelectorAll(M.allInputsSelector)).reduce((n,r)=>M.isNativeInput(r)||M.containsOnlyInlineElements(r)?[...n,r]:[...n,...M.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",o=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let i=e[r];if(M.isSingleTag(i)&&!M.isNativeInput(i)&&!M.isLineBreakTag(i))if(i[o])i=i[o];else if(i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return this.getDeepestNode(i,n)}return e}static isElement(e){return Cv(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return Cv(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(M.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=M.isContentEditable(e);return n}static isNodeEmpty(e){let n;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?n=e.value:n=e.textContent.replace("​",""),n.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e){e.normalize();const n=[e];for(;n.length>0;)if(e=n.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&n.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=M.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return M.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;pr(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=o=>!M.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return M.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...M.getDeepestBlockElements(r)],[])}static getHolder(e){return pr(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=n.top+o,s=n.left+r;return{top:i,left:s,bottom:i+n.height,right:s+n.width}}}const sM={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},aM={Text:"",Link:"",Bold:"",Italic:""},lM={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},cM={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},gx={ui:sM,toolNames:aM,tools:lM,blockTunes:cM},so=class{static ui(t,e){return so._t(t,e)}static t(t,e){return so._t(t,e)}static setDictionary(t){so.currentDictionary=t}static _t(t,e){const n=so.getNamespace(t);return!n||!n[e]?e:n[e]}static getNamespace(t){return t.split(".").reduce((e,n)=>!e||!Object.keys(e).length?{}:e[n],so.currentDictionary)}};let lt=so;lt.currentDictionary=gx;class vx extends Error{}class xc{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=o=>{const i=n(o),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),i};this.subscribers[e].push(r)}emit(e,n){Ht(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,o)=>{const i=o(r);return i!==void 0?i:r},n)}off(e,n){for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers=null}}function zi(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()}})}class np{constructor(){this.allListeners=[]}on(e,n,r,o=!1){const i=oM("l"),s={id:i,element:e,eventType:n,handler:r,options:o};if(!this.findOne(e,n,r))return this.allListeners.push(s),e.addEventListener(n,r,o),i}off(e,n,r,o){const i=this.findAll(e,n,r);i.forEach((s,a)=>{const l=this.allListeners.indexOf(i[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const o=this.findAll(e,n,r);return o.length>0?o[0]:null}findAll(e,n,r){let o;const i=e?this.findByEventTarget(e):[];return e&&n&&r?o=i.filter(s=>s.eventType===n&&s.handler===r):e&&n?o=i.filter(s=>s.eventType===n):o=i,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}class Z{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new np,this.readOnlyMutableListeners={on:(r,o,i,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,o,i,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===Z)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class ${constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?M.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor($.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${$.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${$.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!$.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return X("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return X("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("​")),n.insertNode(o),r=o.getBoundingClientRect();const i=o.parentNode;i.removeChild(o),i.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),o=window.getSelection();return M.isNativeInput(e)?M.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),o.removeAllRanges(),o.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=$.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=$.range;if(e===null)return;const n=M.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return M.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=M.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=$.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const o=window.getSelection();let i=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(s=>{let a=r;for(;a>0&&s.parentNode&&!(s.tagName===e&&(i=s,n&&s.classList&&!s.classList.contains(n)&&(i=null),i));)s=s.parentNode,a--}),i)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}}function uM(t,e){const{type:n,target:r,addedNodes:o,removedNodes:i}=t;if(r===e)return!0;if(["characterData","attributes"].includes(n)){const l=r.nodeType===Node.TEXT_NODE?r.parentNode:r;return e.contains(l)}const s=Array.from(o).some(l=>e.contains(l)),a=Array.from(i).some(l=>e.contains(l));return s||a}const ih="redactor dom changed",yx="block changed",bx="fake cursor is about to be toggled",wx="fake cursor have been set";var Kn=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(Kn||{});class _e extends xc{constructor({id:e=nM(),data:n,tool:r,api:o,readOnly:i,tunesData:s},a){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const c=l===void 0,u=l instanceof InputEvent;!c&&!u&&this.detectToolRootChange(l);let d;c||u?d=!0:d=!(l.length>0&&l.every(h=>{const{addedNodes:m,removedNodes:p,target:v}=h;return[...Array.from(m),...Array.from(p),v].some(E=>M.isElement(E)?E.dataset.mutationFree==="true":!1)})),d&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.api=o,this.editorEventBus=a||null,this.blockAPI=new zi(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,i),this.tunes=r.tunes,this.composeTunes(s),this.holder=this.compose(),this.watchBlockMutations(),this.addInputEvents()}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=M.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!Ht(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return le(this.toolInstance.merge)}get isEmpty(){const e=M.isEmpty(this.pluginsContent),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set focused(e){this.holder.classList.toggle(_e.CSS.focused,e)}get focused(){return this.holder.classList.contains(_e.CSS.focused)}set selected(e){var n,r;this.holder.classList.toggle(_e.CSS.selected,e);const o=e===!0&&$.isRangeInsideContainer(this.holder),i=e===!1&&$.isFakeCursorInsideContainer(this.holder);(o||i)&&((n=this.editorEventBus)==null||n.emit(bx,{state:e}),o?$.addFakeCursor():$.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(wx,{state:e}))}get selected(){return this.holder.classList.contains(_e.CSS.selected)}set stretched(e){this.holder.classList.toggle(_e.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(_e.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(_e.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(le(this.toolInstance[e])){e==="appendCallback"&&X("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){X(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([i,s])=>{if(le(s.save))try{n[i]=s.save()}catch(a){X(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let o;return Promise.resolve(e).then(i=>(o=window.performance.now(),{id:this.id,tool:this.name,data:i,tunes:n,time:o-r})).catch(i=>{X(`Saving process for ${this.name} tool failed due to the ${i}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=document.createElement("div"),n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],o=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(i=>i.render());return[r,o].flat().forEach(i=>{M.isElement(i)?e.appendChild(i):Array.isArray(i)?n.push(...i):n.push(i)}),[n,e]}updateCurrentInput(){this.currentInput=M.isNativeInput(document.activeElement)||!$.anchorNode?document.activeElement:$.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),le(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data;return e.find(r=>Object.entries(r.data).some(([o,i])=>n[o]&&iM(n[o],i)))}compose(){const e=M.make("div",_e.CSS.wrapper),n=M.make("div",_e.CSS.content),r=this.toolInstance.render();this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let o=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(i=>{if(le(i.wrap))try{o=i.wrap(o)}catch(s){X(`Tune ${i.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),M.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),M.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(o=>uM(o,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(ih,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(ih,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}}class dM extends Z{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},o,i,s,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:o,needToFocus:i,replace:s});return new zi(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new _e({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=(e,n)=>{const{BlockManager:r}=this.Editor,o=r.getBlockById(e);if(!o){X("blocks.update(): Block with passed id was not found","warn");return}const i=r.getBlockIndex(o);r.insert({id:o.id,tool:o.name,data:n,index:i,replace:!0,tunes:o.tunes})}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,update:this.update,composeBlockData:this.composeBlockData}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){Mt("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){Mt("There is no block at index `"+e+"`","warn");return}return new zi(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(Mt("There is no block with id `"+e+"`","warn"),null):new zi(n)}swap(e,n){X("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e){try{this.Editor.BlockManager.removeBlock(e)}catch(n){Mt(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}clear(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}render(e){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(e.blocks)}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){oh(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){X("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}}class hM extends Z{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],n,r),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class fM extends Z{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}class rp extends Z{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{Mt("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:n=>lt.t(rp.getNamespace(e),n)})}}class pM extends Z{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}class mM extends Z{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class gM extends Z{get methods(){return{on:(e,n,r,o)=>this.on(e,n,r,o),off:(e,n,r,o)=>this.off(e,n,r,o),offById:e=>this.offById(e)}}on(e,n,r,o){return this.listeners.on(e,n,r,o)}off(e,n,r,o){this.listeners.off(e,n,r,o)}offById(e){this.listeners.offById(e)}}var sh={},vM={get exports(){return sh},set exports(t){sh=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=0)}([function(n,r,o){o(1),n.exports=function(){var i=o(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=i.getWrapper(),document.body.appendChild(a)})();var c=null,u=l.time||8e3;switch(l.type){case"confirm":c=i.confirm(l);break;case"prompt":c=i.prompt(l);break;default:c=i.alert(l),window.setTimeout(function(){c.remove()},u)}a.appendChild(c),c.classList.add(s)}}}}()},function(n,r,o){var i=o(2);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(4)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),m=d.sources.map(function(v){return"/*# sourceURL="+d.sourceRoot+v+" */"});return[u].concat(m).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),i.push(d))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(y){var x={};return function(T){if(typeof T=="function")return T();if(x[T]===void 0){var C=(function(A){return document.querySelector(A)}).call(this,T);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}x[T]=C}return x[T]}}(),u=null,d=0,h=[],m=o(5);function p(y,x){for(var T=0;T<y.length;T++){var C=y[T],A=a[C.id];if(A){A.refs++;for(var R=0;R<A.parts.length;R++)A.parts[R](C.parts[R]);for(;R<C.parts.length;R++)A.parts.push(w(C.parts[R],x))}else{var O=[];for(R=0;R<C.parts.length;R++)O.push(w(C.parts[R],x));a[C.id]={id:C.id,refs:1,parts:O}}}}function v(y,x){for(var T=[],C={},A=0;A<y.length;A++){var R=y[A],O=x.base?R[0]+x.base:R[0],I={css:R[1],media:R[2],sourceMap:R[3]};C[O]?C[O].parts.push(I):T.push(C[O]={id:O,parts:[I]})}return T}function E(y,x){var T=c(y.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=h[h.length-1];if(y.insertAt==="top")C?C.nextSibling?T.insertBefore(x,C.nextSibling):T.appendChild(x):T.insertBefore(x,T.firstChild),h.push(x);else if(y.insertAt==="bottom")T.appendChild(x);else{if(typeof y.insertAt!="object"||!y.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var A=c(y.insertInto+" "+y.insertAt.before);T.insertBefore(x,A)}}function k(y){if(y.parentNode===null)return!1;y.parentNode.removeChild(y);var x=h.indexOf(y);x>=0&&h.splice(x,1)}function g(y){var x=document.createElement("style");return y.attrs.type===void 0&&(y.attrs.type="text/css"),f(x,y.attrs),E(y,x),x}function f(y,x){Object.keys(x).forEach(function(T){y.setAttribute(T,x[T])})}function w(y,x){var T,C,A,R;if(x.transform&&y.css){if(!(R=x.transform(y.css)))return function(){};y.css=R}if(x.singleton){var O=d++;T=u||(u=g(x)),C=P.bind(null,T,O,!1),A=P.bind(null,T,O,!0)}else y.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(I){var B=document.createElement("link");return I.attrs.type===void 0&&(I.attrs.type="text/css"),I.attrs.rel="stylesheet",f(B,I.attrs),E(I,B),B}(x),C=(function(I,B,D){var L=D.css,j=D.sourceMap,H=B.convertToAbsoluteUrls===void 0&&j;(B.convertToAbsoluteUrls||H)&&(L=m(L)),j&&(L+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(j))))+" */");var z=new Blob([L],{type:"text/css"}),Y=I.href;I.href=URL.createObjectURL(z),Y&&URL.revokeObjectURL(Y)}).bind(null,T,x),A=function(){k(T),T.href&&URL.revokeObjectURL(T.href)}):(T=g(x),C=(function(I,B){var D=B.css,L=B.media;if(L&&I.setAttribute("media",L),I.styleSheet)I.styleSheet.cssText=D;else{for(;I.firstChild;)I.removeChild(I.firstChild);I.appendChild(document.createTextNode(D))}}).bind(null,T),A=function(){k(T)});return C(y),function(I){if(I){if(I.css===y.css&&I.media===y.media&&I.sourceMap===y.sourceMap)return;C(y=I)}else A()}}n.exports=function(y,x){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(x=x||{}).attrs=typeof x.attrs=="object"?x.attrs:{},x.singleton||typeof x.singleton=="boolean"||(x.singleton=l()),x.insertInto||(x.insertInto="head"),x.insertAt||(x.insertAt="bottom");var T=v(y,x);return p(T,x),function(C){for(var A=[],R=0;R<T.length;R++){var O=T[R];(I=a[O.id]).refs--,A.push(I)}for(C&&p(v(C,x),x),R=0;R<A.length;R++){var I;if((I=A[R]).refs===0){for(var B=0;B<I.parts.length;B++)I.parts[B]();delete a[I.id]}}}};var S,_=(S=[],function(y,x){return S[y]=x,S.filter(Boolean).join(`
`)});function P(y,x,T,C){var A=T?"":C.css;if(y.styleSheet)y.styleSheet.cssText=_(x,A);else{var R=document.createTextNode(A),O=y.childNodes;O[x]&&y.removeChild(O[x]),O.length?y.insertBefore(R,O[x]):y.appendChild(R)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,m){return m}).replace(/^'(.*)'$/,function(h,m){return m});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){var i,s,a,l,c,u,d,h,m;n.exports=(i="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",u="cdx-notify__input",d="cdx-notify__button",h="cdx-notify__btns-wrapper",{alert:m=function(p){var v=document.createElement("DIV"),E=document.createElement("DIV"),k=p.message,g=p.style;return v.classList.add(s),g&&v.classList.add(s+"--"+g),v.innerHTML=k,E.classList.add(a),E.addEventListener("click",v.remove.bind(v)),v.appendChild(E),v},confirm:function(p){var v=m(p),E=document.createElement("div"),k=document.createElement("button"),g=document.createElement("button"),f=v.querySelector("."+a),w=p.cancelHandler,S=p.okHandler;return E.classList.add(h),k.innerHTML=p.okText||"Confirm",g.innerHTML=p.cancelText||"Cancel",k.classList.add(d),g.classList.add(d),k.classList.add(l),g.classList.add(c),w&&typeof w=="function"&&(g.addEventListener("click",w),f.addEventListener("click",w)),S&&typeof S=="function"&&k.addEventListener("click",S),k.addEventListener("click",v.remove.bind(v)),g.addEventListener("click",v.remove.bind(v)),E.appendChild(k),E.appendChild(g),v.appendChild(E),v},prompt:function(p){var v=m(p),E=document.createElement("div"),k=document.createElement("button"),g=document.createElement("input"),f=v.querySelector("."+a),w=p.cancelHandler,S=p.okHandler;return E.classList.add(h),k.innerHTML=p.okText||"Ok",k.classList.add(d),k.classList.add(l),g.classList.add(u),p.placeholder&&g.setAttribute("placeholder",p.placeholder),p.default&&(g.value=p.default),p.inputType&&(g.type=p.inputType),w&&typeof w=="function"&&f.addEventListener("click",w),S&&typeof S=="function"&&k.addEventListener("click",function(){S(g.value)}),k.addEventListener("click",v.remove.bind(v)),E.appendChild(g),E.appendChild(k),v.appendChild(E),v},getWrapper:function(){var p=document.createElement("DIV");return p.classList.add(i),p}})}])})})(vM);const yM=wc(sh);class bM{show(e){yM.show(e)}}class wM extends Z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new bM}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class xM extends Z{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var ah={},kM={get exports(){return ah},set exports(t){ah=t}};(function(t,e){(function(n,r){t.exports=r()})(KL,function(){function n(d){var h=d.tags,m=Object.keys(h),p=m.map(function(v){return typeof h[v]}).every(function(v){return v==="object"||v==="boolean"||v==="function"});if(!p)throw new Error("The configuration was invalid");this.config=d}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(d){return r.indexOf(d.nodeName)!==-1}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(d){return i.indexOf(d.nodeName)!==-1}n.prototype.clean=function(d){const h=document.implementation.createHTMLDocument(),m=h.createElement("div");return m.innerHTML=d,this._sanitize(h,m),m.innerHTML},n.prototype._sanitize=function(d,h){var m=a(d,h),p=m.firstChild();if(p)do{if(p.nodeType===Node.TEXT_NODE)if(p.data.trim()===""&&(p.previousElementSibling&&o(p.previousElementSibling)||p.nextElementSibling&&o(p.nextElementSibling))){h.removeChild(p),this._sanitize(d,h);break}else continue;if(p.nodeType===Node.COMMENT_NODE){h.removeChild(p),this._sanitize(d,h);break}var v=s(p),E;v&&(E=Array.prototype.some.call(p.childNodes,o));var k=!!h.parentNode,g=o(h)&&o(p)&&k,f=p.nodeName.toLowerCase(),w=l(this.config,f,p),S=v&&E;if(S||c(p,w)||!this.config.keepNestedBlockElements&&g){if(!(p.nodeName==="SCRIPT"||p.nodeName==="STYLE"))for(;p.childNodes.length>0;)h.insertBefore(p.childNodes[0],p);h.removeChild(p),this._sanitize(d,h);break}for(var _=0;_<p.attributes.length;_+=1){var P=p.attributes[_];u(P,w,p)&&(p.removeAttribute(P.name),_=_-1)}this._sanitize(d,p)}while(p=m.nextSibling())};function a(d,h){return d.createTreeWalker(h,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(d,h,m){return typeof d.tags[h]=="function"?d.tags[h](m):d.tags[h]}function c(d,h){return typeof h>"u"?!0:typeof h=="boolean"?!h:!1}function u(d,h,m){var p=d.name.toLowerCase();return h===!0?!1:typeof h[p]=="function"?!h[p](d.value,m):typeof h[p]>"u"||h[p]===!1?!0:typeof h[p]=="string"?h[p]!==d.value:!1}return n})})(kM);const SM=ah;function xx(t,e){return t.map(n=>{const r=le(e)?e(n.tool):e;return Ht(r)||(n.data=op(n.data,r)),n})}function mn(t,e={}){const n={tags:e};return new SM(n).clean(t)}function op(t,e){return Array.isArray(t)?EM(t,e):De(t)?CM(t,e):pr(t)?TM(t,e):t}function EM(t,e){return t.map(n=>op(n,e))}function CM(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const o=t[r],i=_M(e[r])?e[r]:e;n[r]=op(o,i)}return n}function TM(t,e){return De(e)?mn(t,e):e===!1?mn(t,{}):t}function _M(t){return De(t)||XL(t)||le(t)}class IM extends Z{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return mn(e,n)}}class AM extends Z{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Mt(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class PM extends Z{get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,n){return new $().findParentTag(e,n)}expandToTag(e){new $().expandToTag(e)}}class NM extends Z{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class RM extends Z{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Mt("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Mt("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var lh={},BM={get exports(){return lh},set exports(t){lh=t}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){o.r(r),o.d(r,"default",function(){return i});class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const u=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(u.hidingDelay&&(this.hidingDelay=u.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),u.placement){case"top":this.placeTop(a,u);break;case"left":this.placeLeft(a,u);break;case"right":this.placeRight(a,u);break;case"bottom":default:this.placeBottom(a,u)}u&&u.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},u.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=o(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",u,d)}placeTop(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",u,d)}placeLeft(a,l){const c=a.getBoundingClientRect(),u=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",u,d)}placeRight(a,l){const c=a.getBoundingClientRect(),u=c.right+this.offsetRight+l.marginRight,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",u,d)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const u=document.createElement(a);Array.isArray(l)?u.classList.add(...l):l&&u.classList.add(l);for(const d in c)c.hasOwnProperty(d)&&(u[d]=c[d]);return u}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(BM);const OM=wc(lh);class ip{constructor(){this.lib=new OM}destroy(){this.lib.destroy()}show(e,n,r){this.lib.show(e,n,r)}hide(e=!1){this.lib.hide(e)}onHover(e,n,r){this.lib.onHover(e,n,r)}}class LM extends Z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new ip}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){this.tooltip.show(e,n,r)}hide(){this.tooltip.hide()}onHover(e,n,r){this.tooltip.onHover(e,n,r)}}class MM extends Z{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function kx(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if(De(o)){const i=e?`${e}.${r}`:r;Object.values(o).every(s=>pr(s))?n[r]=i:n[r]=kx(o,i);return}n[r]=o}),n}const jt=kx(gx);function jM(t,e){const n={};return Object.keys(t).forEach(r=>{const o=e[r];o!==void 0?n[o]=t[r]:n[r]=t[r]}),n}const DM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',Sx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',UM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',FM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',HM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',zM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Iv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',VM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',$M='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',WM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',KM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';class we{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(we.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(we.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(we.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(we.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(we.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(we.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const n=M.make("div",we.CSS.container);return e.name&&(n.dataset.itemName=e.name),this.nodes.icon=M.make("div",we.CSS.icon,{innerHTML:e.icon||HM}),n.appendChild(this.nodes.icon),n.appendChild(M.make("div",we.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&n.appendChild(M.make("div",we.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&n.classList.add(we.CSS.active),e.isDisabled&&n.classList.add(we.CSS.disabled),n}enableConfirmationMode(e){const n={...this.params,...e,confirmation:e.confirmation},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(we.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(we.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(we.CSS.noHover),this.nodes.root.classList.add(we.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(we.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(we.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const Ci=class{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(Ci.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(Ci.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=t===Ci.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),t===Ci.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,M.canSetCaret(this.items[e])&&Gr(()=>$.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let ao=Ci;ao.directions={RIGHT:"right",LEFT:"left"};class In{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(In.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case q.TAB:this.handleTabPress(n);break;case q.LEFT:case q.UP:this.flipLeft();break;case q.RIGHT:case q.DOWN:this.flipRight();break;case q.ENTER:this.handleEnterPress(n);break}},this.iterator=new ao(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||In.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[q.TAB,q.LEFT,q.RIGHT,q.ENTER,q.UP,q.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?ao.directions.LEFT:ao.directions.RIGHT){case ao.directions.RIGHT:this.flipRight();break;case ao.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),le(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class Vi{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:n,placeholder:r}){this.listeners=new np,this.items=e,this.onSearch=n,this.render(r)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=M.make("div",Vi.CSS.wrapper);const n=M.make("div",Vi.CSS.icon,{innerHTML:WM});this.input=M.make("input",Vi.CSS.input,{placeholder:e}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n;const r=((n=e.title)==null?void 0:n.toLowerCase())||"",o=this.searchQuery.toLowerCase();return r.includes(o)}}const Ti=class{lock(){_v?this.lockHard():document.body.classList.add(Ti.CSS.scrollLocked)}unlock(){_v?this.unlockHard():document.body.classList.remove(Ti.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Ti.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Ti.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let Ex=Ti;Ex.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var qM=Object.defineProperty,GM=Object.getOwnPropertyDescriptor,YM=(t,e,n,r)=>{for(var o=r>1?void 0:r?GM(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&qM(e,n,o),o},vs=(t=>(t.Close="close",t))(vs||{});const Le=class extends xc{constructor(t){super(),this.scopeElement=document.body,this.listeners=new np,this.scrollLocker=new Ex,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(e=>e.isFocused).onFocus()},this.items=t.items.map(e=>new we(e)),t.scopeElement!==void 0&&(this.scopeElement=t.scopeElement),t.messages&&(this.messages={...this.messages,...t.messages}),t.customContentFlippableItems&&(this.customContentFlippableItems=t.customContentFlippableItems),this.make(),t.customContent&&this.addCustomContent(t.customContent),t.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(Le.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(Le.CSS.overlayHidden),this.nodes.popover.classList.add(Le.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),jr()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(Le.CSS.popoverOpened),this.nodes.popover.classList.remove(Le.CSS.popoverOpenTop),this.nodes.overlay.classList.add(Le.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(t=>t.reset()),this.search!==void 0&&this.search.clear(),jr()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),jr()&&this.scrollLocker.unlock()}make(){this.nodes.popover=M.make("div",[Le.CSS.popover]),this.nodes.nothingFoundMessage=M.make("div",[Le.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=M.make("div",[Le.CSS.items]),this.items.forEach(t=>{this.nodes.items.appendChild(t.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",t=>{const e=this.getTargetItem(t);e!==void 0&&this.handleItemClick(e)}),this.nodes.wrapper=M.make("div"),this.nodes.overlay=M.make("div",[Le.CSS.overlay,Le.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new Vi({items:this.items,placeholder:this.messages.search,onSearch:(e,n)=>{this.items.forEach(o=>{const i=!n.includes(o);o.toggleHidden(i)}),this.toggleNothingFoundMessage(n.length===0),this.toggleCustomContent(e!=="");const r=e===""?this.flippableElements:n.map(o=>o.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(r))}});const t=this.search.getElement();t.classList.add(Le.CSS.search),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}addCustomContent(t){this.nodes.customContent=t,this.nodes.customContent.classList.add(Le.CSS.customContent),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}getTargetItem(t){return this.items.find(e=>t.composedPath().includes(e.getElement()))}handleItemClick(t){t.isDisabled||(this.items.filter(e=>e!==t).forEach(e=>e.reset()),t.handleClick(),this.toggleItemActivenessIfNeeded(t),t.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new In({items:this.flippableElements,focusedItemClass:we.CSS.focused,allowedKeys:[q.TAB,q.UP,q.DOWN,q.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const t=this.items.map(e=>e.getElement());return(this.customContentFlippableItems||[]).concat(t)}get height(){let t=0;if(this.nodes.popover===null)return t;const e=this.nodes.popover.cloneNode(!0);return e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000px",e.classList.add(Le.CSS.popoverOpened),document.body.appendChild(e),t=e.offsetHeight,e.remove(),t}get shouldOpenBottom(){const t=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),n=this.height,r=t.top+n,o=t.top-n,i=Math.min(window.innerHeight,e.bottom);return o<e.top||r<=i}toggleNothingFoundMessage(t){this.nodes.nothingFoundMessage.classList.toggle(Le.CSS.nothingFoundMessageDisplayed,t)}toggleCustomContent(t){var e;(e=this.nodes.customContent)==null||e.classList.toggle(Le.CSS.customContentHidden,t)}toggleItemActivenessIfNeeded(t){if(t.toggle===!0&&t.toggleActive(),typeof t.toggle=="string"){const e=this.items.filter(n=>n.toggle===t.toggle);if(e.length===1){t.toggleActive();return}e.forEach(n=>{n.toggleActive(n===t)})}}};let sp=Le;YM([ii],sp.prototype,"height",1);class XM extends Z{constructor(){super(...arguments),this.opened=!1,this.selection=new $,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=M.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[n,r]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new sp({searchable:!0,items:n.map(o=>this.resolveTuneAliases(o)),customContent:r,customContentFlippableItems:this.getControls(r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:lt.ui(jt.ui.popover,"Nothing found"),search:lt.ui(jt.ui.popover,"Filter")}}),this.popover.on(vs.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,$.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(vs.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:n}=this.Editor,r=e.querySelectorAll(`.${n.classes.settingsButton}, ${M.allInputsSelector}`);return Array.from(r)}resolveTuneAliases(e){const n=jM(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}class St extends Z{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=M.make("div",[St.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=M.make("div",St.CSS.conversionToolbarTools);const e=M.make("div",St.CSS.conversionToolbarLabel,{textContent:lt.ui(jt.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),M.append(this.nodes.wrapper,e),M.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),le(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(St.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(St.CSS.conversionToolHidden))),this.flipper.focusFirst(),le(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(St.CSS.conversionToolbarShowed),le(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,n){const r=this.Editor.BlockManager.currentBlock.tool,o=(await this.Editor.BlockManager.currentBlock.save()).data,i=this.Editor.Tools.blockTools.get(e);let s="";const a=r.conversionConfig.export;if(le(a))s=a(o);else if(pr(a))s=o[a];else{X("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export.");return}const l=mn(s,i.sanitizeConfig);let c={};const u=i.conversionConfig.import;if(le(u))c=u(l);else if(pr(u))c[u]=l;else{X("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.");return}n&&(c=Object.assign(c,n)),this.Editor.BlockManager.replace({tool:e,data:c}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),Gr(()=>{this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)},10)()}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([n,r])=>{const o=r.conversionConfig;!o||!o.import||r.toolbox.forEach(i=>this.addToolIfValid(n,i))})}addToolIfValid(e,n){Ht(n)||!n.icon||this.addTool(e,n)}addTool(e,n){const r=M.make("div",[St.CSS.conversionTool]),o=M.make("div",[St.CSS.conversionToolIcon]);r.dataset.tool=e,o.innerHTML=n.icon,M.append(r,o),M.append(r,M.text(lt.t(jt.toolNames,n.title||Ll(e)))),M.append(this.nodes.tools,r),this.tools.push({name:e,button:r,toolboxItem:n}),this.listeners.on(r,"click",async()=>{await this.replaceWithBlock(e,n.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,n=await e.getActiveToolboxEntry();function r(o,i){return o.icon===i.icon&&o.title===i.title}this.tools.forEach(o=>{let i=!1;if(n){const s=r(n,o.toolboxItem);i=o.button.dataset.tool===e.name&&s}o.button.hidden=i,o.button.classList.toggle(St.CSS.conversionToolHidden,i)})}enableFlipper(){this.flipper=new In({focusedItemClass:St.CSS.conversionToolFocused})}}var ch={},JM={get exports(){return ch},set exports(t){ch=t}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){function i(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&i(l.prototype,c),u&&i(l,u),l}o.r(r);var a=function(){function l(c){var u=this;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(d){u.execute(d)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var u=0;u<c.length;u++){c[u]=c[u].toUpperCase();var d=!1;for(var h in l.supportedCommands)if(l.supportedCommands[h].includes(c[u])){d=this.commands[h]=!0;break}d||(this.keys[c[u]]=!0)}for(var m in l.supportedCommands)this.commands[m]||(this.commands[m]=!1)}},{key:"execute",value:function(c){var u,d={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},h=!0;for(u in this.commands)this.commands[u]!==d[u]&&(h=!1);var m,p=!0;for(m in this.keys)p=p&&c.keyCode===l.keyCodes[m];h&&p&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(JM);const QM=wc(ch);class ZM{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new QM({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(i=>i!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const Ko=new ZM;var ej=Object.defineProperty,tj=Object.getOwnPropertyDescriptor,Cx=(t,e,n,r)=>{for(var o=r>1?void 0:r?tj(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&ej(e,n,o),o},ja=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(ja||{});const Tx=class extends xc{constructor({api:t,tools:e,i18nLabels:n}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=t,this.tools=e,this.i18nLabels=n}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new sp({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(vs.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(Tx.CSS.toolbox),this.nodes.toolbox}hasFocus(){var t;return(t=this.popover)==null?void 0:t.hasFocus()}destroy(){var t;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(t=this.popover)==null||t.off(vs.Close,this.onPopoverClose)}toolButtonActivated(t,e){this.insertNewBlock(t,e)}open(){var t;this.isEmpty||((t=this.popover)==null||t.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var t;(t=this.popover)==null||t.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const t=[];return this.tools.forEach(e=>{e.toolbox&&t.push(e)}),t}get toolboxItemsToBeDisplayed(){const t=(e,n)=>({icon:e.icon,title:lt.t(jt.toolNames,e.title||Ll(n.name)),name:n.name,onActivate:()=>{this.toolButtonActivated(n.name,e.data)},secondaryLabel:n.shortcut?px(n.shortcut):""});return this.toolsToBeDisplayed.reduce((e,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach(r=>{e.push(t(r,n))}):n.toolbox!==void 0&&e.push(t(n.toolbox,n)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&this.enableShortcutForTool(t.name,e)})}enableShortcutForTool(t,e){Ko.add({name:e,on:this.api.ui.nodes.redactor,handler:n=>{n.preventDefault(),this.insertNewBlock(t)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&Ko.remove(this.api.ui.nodes.redactor,e)})}async insertNewBlock(t,e){const n=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(n);if(!r)return;const o=r.isEmpty?n:n+1;let i;if(e){const a=await this.api.blocks.composeBlockData(t);i=Object.assign(a,e)}const s=this.api.blocks.insert(t,i,void 0,o,void 0,r.isEmpty);s.call(Kn.APPEND_CALLBACK),this.api.caret.setToBlock(o),this.emit("toolbox-block-added",{block:s}),this.api.toolbar.close()}};let ap=Tx;Cx([ii],ap.prototype,"toolsToBeDisplayed",1);Cx([ii],ap.prototype,"toolboxItemsToBeDisplayed",1);const _x="block hovered";class nj extends Z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new ip}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){return{opened:this.toolboxInstance.opened,close:()=>{this.toolboxInstance.close()},open:()=>{this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>this.toolboxInstance.toggle(),hasFocus:()=>this.toolboxInstance.hasFocus()}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI,o=e.pluginsContent,i=window.getComputedStyle(o),s=parseInt(i.paddingTop,10),a=n.offsetHeight;let l;r?l=n.offsetTop+a:l=n.offsetTop+s,this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}open(e=!0){Gr(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=M.make("div",this.CSS.toolbar),["content","actions"].forEach(n=>{this.nodes[n]=M.make("div",this.CSS[n])}),M.append(this.nodes.wrapper,this.nodes.content),M.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=M.make("div",this.CSS.plusButton,{innerHTML:$M}),M.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const e=M.make("div");e.appendChild(document.createTextNode(lt.ui(jt.ui.toolbar.toolbox,"Add"))),e.appendChild(M.make("div",this.CSS.plusButtonShortcut,{textContent:"⇥ Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=M.make("span",this.CSS.settingsToggler,{innerHTML:VM}),M.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,lt.ui(jt.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),M.append(this.nodes.actions,this.makeToolbox()),M.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),M.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new ap({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:lt.ui(jt.ui.popover,"Filter"),nothingFound:lt.ui(jt.ui.popover,"Nothing found")}}),this.toolboxInstance.on(ja.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(ja.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(ja.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,o=n.getBlockById(e.id);o.inputs.length===0&&(o===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{e.stopPropagation(),this.settingsTogglerClicked(),this.toolboxInstance.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),jr()||this.eventsDispatcher.on(_x,e=>{this.Editor.BlockSettings.opened||this.toolboxInstance.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var kc=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(kc||{}),Da=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Da||{}),Ix=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(Ix||{}),lo=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(lo||{}),lp=(t=>(t.IsInline="isInline",t.Title="title",t))(lp||{}),Ax=(t=>(t.IsTune="isTune",t))(Ax||{});class cp{constructor({name:e,constructable:n,config:r,api:o,isDefault:i,isInternal:s=!1,defaultPlaceholder:a}){this.api=o,this.name=e,this.constructable=n,this.config=r,this.isDefault=i,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(le(this.constructable.reset))return this.constructable.reset()}prepare(){if(le(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class rj extends Z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=jr()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new ip}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}tryToShow(e=!1,n=!0){if(!this.allowedToShow()){e&&this.close();return}this.move(),this.open(n),this.Editor.Toolbar.close()}move(){const e=$.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:e.x-n.left,y:e.y+e.height-n.top+this.toolbarVerticalMargin};e.width&&(r.x+=Math.floor(e.width/2));const o=r.x-this.width/2,i=r.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,o<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,i>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,n])=>{const r=this.getToolShortcut(e);r&&Ko.remove(this.Editor.UI.nodes.redactor,r),le(n.clear)&&n.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let n=Array.from(this.buttonsList);n.unshift(this.nodes.conversionToggler),n=n.filter(r=>!r.hidden),this.flipper.activate(n)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=M.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=M.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=M.make("div",this.CSS.buttonsWrapper),this.nodes.actions=M.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),M.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),M.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),M.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}allowedToShow(){const e=["IMG","INPUT"],n=$.get(),r=$.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const o=M.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(n&&e.includes(o.tagName)||o.closest('[contenteditable="true"]')===null)return!1;const i=this.Editor.BlockManager.getBlock(n.anchorNode);return i?i.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=M.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=M.make("div",this.CSS.conversionTogglerContent);const e=M.make("div",this.CSS.conversionTogglerArrow,{innerHTML:Sx});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(n=>{!n&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),jr()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,lt.ui(jt.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:n}=e,r=n.name,o=n.tool.conversionConfig,i=o&&o.export;this.nodes.conversionToggler.hidden=!i,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!i);const s=await n.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=s.icon||s.title||Ll(r)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();M.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=$.get(),n=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(n.tool.inlineTools.values()).forEach(r=>{this.addTool(r)}),this.recalculateWidth()}addTool(e){const n=e.create(),r=n.render();if(!r){X("Render method must return an instance of Node","warn",e.name);return}if(r.dataset.tool=e.name,this.nodes.buttons.appendChild(r),this.toolsInstances.set(e.name,n),le(n.renderActions)){const a=n.renderActions();this.nodes.actions.appendChild(a)}this.listeners.on(r,"click",a=>{this.toolClicked(n),a.preventDefault()});const o=this.getToolShortcut(e.name);if(o)try{this.enableShortcuts(n,o)}catch{}const i=M.make("div"),s=lt.t(jt.toolNames,e.title||Ll(e.name));i.appendChild(M.text(s)),o&&i.appendChild(M.make("div",this.CSS.inlineToolbarShortcut,{textContent:px(o)})),jr()===!1&&this.tooltip.onHover(r,i,{placement:"top",hidingDelay:100}),n.checkState($.get())}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),o=n.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][Ix.Shortcut]:r.shortcut}enableShortcuts(e,n){Ko.add({name:n,handler:r=>{const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(r.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const n=$.range;e.surround(n),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState($.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}enableFlipper(){this.flipper=new In({focusedItemClass:this.CSS.focusedButton,allowedKeys:[q.ENTER,q.TAB]})}}class oj extends Z{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case q.BACKSPACE:this.backspace(e);break;case q.ENTER:this.enter(e);break;case q.DOWN:case q.RIGHT:this.arrowRightAndDown(e);break;case q.UP:case q.LEFT:this.arrowLeftAndUp(e);break;case q.TAB:this.tabPressed(e);break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&dx(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor,i=n.currentBlock;if(!i)return;const s=i.isEmpty,a=i.tool.isDefault&&s,l=!s&&o.opened,c=!s&&!$.isCollapsed&&r.opened;a?this.activateToolbox():!l&&!c&&this.activateBlockSettings()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:o}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const i=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),n.clearSelection(e)})}enter(e){const{BlockManager:n,UI:r}=this.Editor;if(n.currentBlock.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey)return;let o=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,i=n.currentBlock,s=i.tool;if(i.selected||i.isEmpty&&i.currentInput===i.firstInput){e.preventDefault();const l=n.currentBlockIndex;n.previousBlock&&n.previousBlock.inputs.length===0?n.removeBlock(l-1):n.removeBlock(),o.setToBlock(n.currentBlock,l?o.positions.END:o.positions.START),this.Editor.Toolbar.close(),r.clearSelection(e);return}if(s.isLineBreaksEnabled&&!o.isAtStart)return;const a=n.currentBlockIndex===0;o.isAtStart&&$.isCollapsed&&i.currentInput===i.firstInput&&!a&&(e.preventDefault(),this.mergeBlocks())}mergeBlocks(){const{BlockManager:e,Caret:n,Toolbar:r}=this.Editor,o=e.previousBlock,i=e.currentBlock;if(i.name!==o.name||!o.mergeable){if(o.inputs.length===0||o.isEmpty){e.removeBlock(e.currentBlockIndex-1),n.setToBlock(e.currentBlock),r.close();return}n.navigatePrevious()&&r.close();return}n.createShadow(o.pluginsContent),e.mergeBlocks(o,i).then(()=>{n.restoreCaret(o.pluginsContent),o.pluginsContent.normalize(),r.close()})}arrowRightAndDown(e){const n=In.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===q.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const r=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===q.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(e.keyCode===q.DOWN||e.keyCode===q.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():Gr(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(In.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===q.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===q.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(e.keyCode===q.UP||e.keyCode===q.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():Gr(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===q.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===q.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===q.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===q.ENTER&&this.Editor.ConversionToolbar.opened,s=e.keyCode===q.TAB;return!(e.shiftKey||s||n||r||o||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Au{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return fx(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];M.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],o=e-1,i=Math.max(0,o),s=this.blocks[i];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(Kn.MOVED,a)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(Kn.REMOVED));const o=r?1:0;if(this.blocks.splice(e,o,n),e>0){const i=this.blocks[e-1];this.insertToDOM(n,"afterend",i)}else{const i=this.blocks[e+1];i?this.insertToDOM(n,"beforebegin",i):this.insertToDOM(n)}}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Kn.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(Kn.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(Kn.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const Av="block-removed",Pv="block-added",ij="block-moved",sj="block-changed";class aj extends Z{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Au(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Au.set,get:Au.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:o={}}){const i=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new _e({id:r,data:n,tool:s,api:this.Editor.API,readOnly:i,tunesData:o},this.eventsDispatcher);return i||this.bindBlockEvents(a),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:o,needToFocus:i=!0,replace:s=!1,tunes:a={}}={}){let l=o;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const c=this.composeBlock({id:e,tool:n,data:r,tunes:a});return s&&this.blockDidMutated(Av,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(Pv,c,{index:l}),i?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}replace({tool:e=this.config.defaultBlock,data:n={}}){return this.insert({tool:e,data:n,index:this.currentBlockIndex,replace:!0})}paste(e,n,r=!1){const o=this.insert({tool:e,replace:r});try{o.call(Kn.ON_PASTE,n)}catch(i){X(`${e}: onPaste callback call is failed`,"error",i)}return o}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(Pv,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){const r=this._blocks.indexOf(n);if(n.isEmpty)return;const o=await n.data;Ht(o)||await e.mergeWith(o),this.removeBlock(r),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e=this.currentBlockIndex){if(!this.validateIndex(e))throw new Error("Can't find a Block to remove");const n=this._blocks[e];n.destroy(),this._blocks.remove(e),this.blockDidMutated(Av,n,{index:e}),this.currentBlockIndex>=e&&this.currentBlockIndex--,this.blocks.length?e===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(n),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=M.make("div");n.appendChild(e);const r={text:M.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){M.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${_e.CSS.wrapper}`),o=n.indexOf(r);if(o>=0)return this._blocks[o]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(e=>{e.focused=!1})}setCurrentBlockByChildNode(e){M.isElement(e)||(e=e.parentNode);const n=e.closest(`.${_e.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){M.isElement(e)||(e=e.parentNode);const n=e.closest(`.${_e.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){X("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){X("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(ij,this.currentBlock,{fromIndex:n,toIndex:e})}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}clear(e=!1){this._blocks.removeAll(),this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(sj,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const o=new CustomEvent(e,{detail:{target:new zi(n),...r}});return this.eventsDispatcher.emit(yx,{event:o}),n}}class lj extends Z{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new $,Ko.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){$.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:o,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,a=s&&dx(e.keyCode);if(this.anyBlockSelected&&s&&a&&!$.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),o.setToBlock(r.currentBlock),Gr(()=>{const c=e.key;o.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||i.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=M.make("div");this.selectedBlocks.forEach(i=>{const s=mn(i.holder.innerHTML,this.sanitizerConfig),a=M.make("p");a.innerHTML=s,n.appendChild(a)});const r=Array.from(n.childNodes).map(i=>i.textContent).join(`

`),o=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(i=>i.save())).then(i=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor;n.clearFocused();let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),this.selection.save(),$.get().removeAllRanges(),r.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Ko.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),M.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target).inputs;if(n.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(n.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),$.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class Ml extends Z{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=$.get(),n=M.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let r=e.focusNode;if(M.isNativeInput(n))return n.selectionEnd===0;if(!e.anchorNode)return!1;let o=r.textContent.search(/\S/);o===-1&&(o=0);let i=e.focusOffset;return r.nodeType!==Node.TEXT_NODE&&r.childNodes.length&&(r.childNodes[i]?(r=r.childNodes[i],i=0):(r=r.childNodes[i-1],i=r.textContent.length)),(M.isLineBreakTag(n)||M.isEmpty(n))&&this.getHigherLevelSiblings(r,"left").every(s=>{const a=M.isLineBreakTag(s),l=s.children.length===1&&M.isLineBreakTag(s.children[0]),c=a||l;return M.isEmpty(s)&&!c})&&i===o?!0:n===null||r===n&&i<=o}get isAtEnd(){const e=$.get();let n=e.focusNode;const r=M.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(M.isNativeInput(r))return r.selectionEnd===r.value.length;if(!e.focusNode)return!1;let o=e.focusOffset;if(n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[o-1]?(n=n.childNodes[o-1],o=n.textContent.length):(n=n.childNodes[0],o=0)),M.isLineBreakTag(r)||M.isEmpty(r)){const s=this.getHigherLevelSiblings(n,"right");if(s.every((a,l)=>l===s.length-1&&M.isLineBreakTag(a)||M.isEmpty(a)&&!M.isLineBreakTag(a))&&o===n.textContent.length)return!0}const i=r.textContent.replace(/\s+$/,"");return n===r&&o>=i.length}setToBlock(e,n=this.positions.DEFAULT,r=0){const{BlockManager:o}=this.Editor;let i;switch(n){case this.positions.START:i=e.firstInput;break;case this.positions.END:i=e.lastInput;break;default:i=e.currentInput}if(!i)return;const s=M.getDeepestNode(i,n===this.positions.END),a=M.getContentLength(s);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>a:r=a;break}Gr(()=>{this.set(s,r)},20)(),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=i}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:o}=this.Editor.BlockManager,i=M.getDeepestNode(e);switch(n){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,M.getContentLength(i));break;default:r&&this.set(i,r)}o.currentInput=e}set(e,n=0){const{top:r,bottom:o}=$.setCursor(e,n),{innerHeight:i}=window;r<0&&window.scrollBy(0,r),o>i&&window.scrollBy(0,o-i)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=$.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(M.isNativeInput(r)){const o=r,i=document.createDocumentFragment(),s=o.value.substring(0,o.selectionStart),a=o.value.substring(o.selectionStart);return i.textContent=a,o.value=s,i}else{const o=n.cloneRange();return o.selectNodeContents(r),o.setStart(n.endContainer,n.endOffset),o.extractContents()}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:n,nextContentfulBlock:r}=e,{nextInput:o}=n,i=this.isAtEnd;let s=r;if(!s&&!o){if(n.tool.isDefault||!i)return!1;s=e.insertAtEnd()}return i?(o?this.setToInput(o,this.positions.START):this.setToBlock(s,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:n}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:r}=e;return!n&&!r?!1:this.isAtStart?(r?this.setToInput(r,this.positions.END):this.setToBlock(n,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(Ml.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${Ml.CSS.shadowCaret}`);n&&(new $().expandToTag(n),setTimeout(()=>{const r=document.createRange();r.selectNode(n),r.extractContents()},50))}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),o=$.get(),i=$.range;r.innerHTML=e,Array.from(r.childNodes).forEach(l=>n.appendChild(l)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;i.deleteContents(),i.insertNode(n);const a=document.createRange();a.setStart(s,s.textContent.length),o.removeAllRanges(),o.addRange(a)}getHigherLevelSiblings(e,n){let r=e;const o=[];for(;r.parentNode&&r.parentNode.contentEditable!=="true";)r=r.parentNode;const i=n==="left"?"previousSibling":"nextSibling";for(;r[i];)r=r[i],o.push(r);return o}}class cj extends Z{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=n.getBlockByChildNode(e.target);if(!(!o||!i)&&i!==o){if(o===this.firstSelectedBlock){$.get().removeAllRanges(),o.selected=!0,i.selected=!0,r.clearCache();return}if(i===this.firstSelectedBlock){o.selected=!1,i.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,i),this.lastSelectedBlock=i}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==GL.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),$.get().removeAllRanges());const o=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=n.blocks[o];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,i=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&i>-1&&s>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case q.DOWN:case q.RIGHT:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END);break;case q.UP:case q.LEFT:o.setToBlock(n.blocks[Math.min(i,s)],o.positions.START);break;default:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END)}else o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;$.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:o}=this.Editor,i=r.blocks.indexOf(e),s=r.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(i,s);l<=Math.max(i,s);l++){const c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:n)&&(r.blocks[l].selected=!r.blocks[l].selected,o.clearCache())}}}class uj extends Z{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Caret:r,Paste:o}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),$.isAtEditor&&!$.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const i=n.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,r.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,r.positions.END)}await o.processDataTransfer(e.dataTransfer,!0)}processDragStart(){$.isAtEditor&&!$.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class dj extends Z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(yx,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(bx,()=>{this.disable()}),this.eventsDispatcher.on(wx,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!le(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(ih,{mutations:e})}}const Px=class extends Z{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{const e=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!le(e.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(e){X(`Paste handling for «${t.name}» Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async t=>{const{BlockManager:e,Toolbar:n}=this.Editor;!e.currentBlock||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||e.currentBlock&&this.exceptionList.includes(e.currentBlock.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),e.clearFocused(),n.close())}}async prepare(){this.processTools()}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}async processDataTransfer(t,e=!1){const{Tools:n}=this.Editor,r=t.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!Ht(this.toolsFiles)){await this.processFiles(t.files);return}const o=t.getData(this.MIME_TYPE),i=t.getData("text/plain");let s=t.getData("text/html");if(o)try{this.insertEditorJSData(JSON.parse(o));return}catch{}e&&i.trim()&&s.trim()&&(s="<p>"+(s.trim()?s:i)+"</p>");const a=Object.keys(this.toolsTags).reduce((u,d)=>(u[d.toLowerCase()]=this.toolsTags[d].sanitizationConfig??{},u),{}),l=Object.assign({},a,n.getAllInlineToolsSanitizeConfig(),{br:{}}),c=mn(s,l);!c.trim()||c.trim()===i||!M.isHTMLString(c)?await this.processText(i):await this.processText(c,!0)}async processText(t,e=!1){const{Caret:n,BlockManager:r}=this.Editor,o=e?this.processHTML(t):this.processPlain(t);if(!o.length)return;if(o.length===1){o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop());return}const i=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;o.map(async(s,a)=>this.insertBlock(s,a===0&&i)),r.currentBlock&&n.setToBlock(r.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return pr(t)?[t]:De(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;const e=t.pasteConfig.tags||[],n=[];e.forEach(r=>{const o=this.collectTagNames(r);n.push(...o),o.forEach(i=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,i)){X(`Paste handler for «${t.name}» Tool on «${i}» tag is skipped because it is already used by «${this.toolsTags[i].tool.name}» Tool.`,"warn");return}const s=De(r)?r[i]:null;this.toolsTags[i.toUpperCase()]={tool:t,sanitizationConfig:s}})}),this.tagsByTool[t.name]=n.map(r=>r.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;const{files:e={}}=t.pasteConfig;let{extensions:n,mimeTypes:r}=e;!n&&!r||(n&&!Array.isArray(n)&&(X(`«extensions» property of the onDrop config for «${t.name}» Tool should be an array`),n=[]),r&&!Array.isArray(r)&&(X(`«mimeTypes» property of the onDrop config for «${t.name}» Tool should be an array`),r=[]),r&&(r=r.filter(o=>QL(o)?!0:(X(`MIME type value «${o}» for the «${t.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:n||[],mimeTypes:r||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||Ht(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([e,n])=>{n instanceof RegExp||X(`Pattern ${n} for «${t.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:n,tool:t})})}isNativeBehaviour(t){return M.isNativeInput(t)}async processFiles(t){const{BlockManager:e}=this.Editor;let n;n=await Promise.all(Array.from(t).map(o=>this.processFile(o))),n=n.filter(o=>!!o);const r=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;n.forEach((o,i)=>{e.paste(o.type,o.event,i===0&&r)})}async processFile(t){const e=JL(t),n=Object.entries(this.toolsFiles).find(([o,{mimeTypes:i,extensions:s}])=>{const[a,l]=t.type.split("/"),c=s.find(d=>d.toLowerCase()===e.toLowerCase()),u=i.find(d=>{const[h,m]=d.split("/");return h===a&&(m===l||m==="*")});return!!c||!!u});if(!n)return;const[r]=n;return{event:this.composePasteEvent("file",{file:t}),type:r}}processHTML(t){const{Tools:e}=this.Editor,n=M.make("DIV");return n.innerHTML=t,this.getNodes(n).map(r=>{let o,i=e.defaultTool,s=!1;switch(r.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:o=M.make("div"),o.appendChild(r);break;case Node.ELEMENT_NODE:o=r,s=!0,this.toolsTags[o.tagName]&&(i=this.toolsTags[o.tagName].tool);break}const{tags:a}=i.pasteConfig||{tags:[]},l=a.reduce((d,h)=>(this.collectTagNames(h).forEach(m=>{const p=De(h)?h[m]:null;d[m.toLowerCase()]=p||{}}),d),{}),c=Object.assign({},l,i.baseSanitizeConfig);if(o.tagName.toLowerCase()==="table"){const d=mn(o.outerHTML,c);o=M.make("div",void 0,{innerHTML:d}).firstChild}else o.innerHTML=mn(o.innerHTML,c);const u=this.composePasteEvent("tag",{data:o});return{content:o,isBlock:s,tool:i.name,event:u}}).filter(r=>{const o=M.isEmpty(r.content),i=M.isSingleTag(r.content);return!o||i})}processPlain(t){const{defaultBlock:e}=this.config;if(!t)return[];const n=e;return t.split(/\r?\n/).filter(r=>r.trim()).map(r=>{const o=M.make("div");o.textContent=r;const i=this.composePasteEvent("tag",{data:o});return{content:o,tool:n,isBlock:!1,event:i}})}async processSingleBlock(t){const{Caret:e,BlockManager:n}=this.Editor,{currentBlock:r}=n;if(!r||t.tool!==r.name||!M.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,(r==null?void 0:r.tool.isDefault)&&r.isEmpty);return}e.insertContentAtCaretPosition(t.content.innerHTML)}async processInlinePaste(t){const{BlockManager:e,Caret:n}=this.Editor,{content:r}=t;if(e.currentBlock&&e.currentBlock.tool.isDefault&&r.textContent.length<Px.PATTERN_PROCESSING_MAX_LENGTH){const o=await this.processPattern(r.textContent);if(o){const i=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,s=e.paste(o.tool,o.event,i);n.setToBlock(s,n.positions.END);return}}if(e.currentBlock&&e.currentBlock.currentInput){const o=e.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,mn(r.innerHTML,o))}else this.insertBlock(t)}async processPattern(t){const e=this.toolsPatterns.find(n=>{const r=n.pattern.exec(t);return r?t===r.shift():!1});return e?{event:this.composePasteEvent("pattern",{key:e.key,data:t}),tool:e.tool.name}:void 0}insertBlock(t,e=!1){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o}=n;let i;if(e&&o&&o.isEmpty){i=n.paste(t.tool,t.event,!0),r.setToBlock(i,r.positions.END);return}i=n.paste(t.tool,t.event),r.setToBlock(i,r.positions.END)}insertEditorJSData(t){const{BlockManager:e,Caret:n,Tools:r}=this.Editor;xx(t,o=>r.blockTools.get(o).sanitizeConfig).forEach(({tool:o,data:i},s)=>{let a=!1;s===0&&(a=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const l=e.insert({tool:o,data:i,replace:a});n.setToBlock(l,n.positions.END)})}processElementNode(t,e,n){const r=Object.keys(this.toolsTags),o=t,{tool:i}=this.toolsTags[o.tagName]||{},s=this.tagsByTool[i==null?void 0:i.name]||[],a=r.includes(o.tagName),l=M.blockElements.includes(o.tagName.toLowerCase()),c=Array.from(o.children).some(({tagName:d})=>r.includes(d)&&!s.includes(d)),u=Array.from(o.children).some(({tagName:d})=>M.blockElements.includes(d.toLowerCase()));if(!l&&!a&&!c)return n.appendChild(o),[...e,n];if(a&&!c||l&&!u&&!c)return[...e,n,o]}getNodes(t){const e=Array.from(t.childNodes);let n;const r=(o,i)=>{if(M.isEmpty(i)&&!M.isSingleTag(i))return o;const s=o[o.length-1];let a=new DocumentFragment;switch(s&&M.isFragment(s)&&(a=o.pop()),i.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(i,o,a),n)return n;break;case Node.TEXT_NODE:return a.appendChild(i),[...o,a];default:return[...o,a]}return[...o,...Array.from(i.childNodes).reduce(r,[])]};return e.reduce(r,[])}composePasteEvent(t,e){return new CustomEvent(t,{detail:e})}};let Nx=Px;Nx.PATTERN_PROCESSING_MAX_LENGTH=450;class hj extends Z{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([o,i])=>{i.isReadOnlySupported||r.push(o)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.readOnlyEnabled}throwCriticalError(){throw new vx(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class $i extends Z{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const o=[`.${_e.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=o.some(a=>!!r.closest(a));!i||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",nh(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",nh(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(M.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=M.make("div",$i.CSS.overlay,{}),o=M.make("div",$i.CSS.overlayContainer,{}),i=M.make("div",$i.CSS.rect,{});return o.appendChild(i),r.appendChild(o),n.appendChild(r),this.overlayRectangle=i,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:o}=this.genInfoForMouseSelection(),i=this.startX>n&&this.mouseX>n,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(i||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),$.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),o=this.Editor.BlockManager.getBlockByChildNode(r);let i;o!==void 0&&(i=this.Editor.BlockManager.blocks.findIndex(u=>u.holder===o.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+_e.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,c=e+a;return{index:i,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,o=1,i=-1,s=0;if(n)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=s;r>1&&(l=a?o:i);const c=e>this.stackOfSelected[r-1]&&l===o,u=e<this.stackOfSelected[r-1]&&l===i,d=!(c||u||l===s);if(!d&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let p=this.stackOfSelected[r-1]+1||e;for(p;p<=e;p++)this.addBlockInSelection(p);return}if(!d&&e<this.stackOfSelected[r-1]){for(let p=this.stackOfSelected[r-1]-1;p>=e;p--)this.addBlockInSelection(p);return}if(!d)return;let h=r-1,m;for(e>this.stackOfSelected[r-1]?m=()=>e>this.stackOfSelected[h]:m=()=>e<this.stackOfSelected[h];m();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[h]),this.stackOfSelected.pop(),h--}}class fj extends Z{async render(e){const n=e.map(o=>({function:()=>this.insertBlock(o)}));this.Editor.ModificationsObserver.disable();const r=await hx(n);return this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),r}async insertBlock(e){var n;const{Tools:r,BlockManager:o}=this.Editor,{type:i,data:s,tunes:a,id:l}=e;if(r.available.has(i))try{o.insert({id:l,tool:i,data:s,tunes:a})}catch(c){throw X(`Block «${i}» skipped because of plugins error`,"warn",{data:s,error:c}),Error(c)}else{const c={savedData:{id:l,type:i,data:s},title:i};if(r.unavailable.has(i)){const d=(n=r.unavailable.get(i).toolbox[0])==null?void 0:n.title;c.title=d||c.title}const u=o.insert({id:l,tool:r.stubTool,data:c});u.stretched=!0,X(`Tool «${i}» is not found. Check 'tools' property at your initial Editor.js config.`,"warn")}}}class pj extends Z{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,o=[];try{r.forEach(a=>{o.push(this.getSavedData(a))});const i=await Promise.all(o),s=await xx(i,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(i){Mt("Saving failed due to the Error %o","error",i)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){let n=0;const r=[];return X("[Editor.js saving]:","groupCollapsed"),e.forEach(({id:o,tool:i,data:s,tunes:a,time:l,isValid:c})=>{if(n+=l,X(`${i.charAt(0).toUpperCase()+i.slice(1)}`,"group"),c)X(s),X(void 0,"groupEnd");else{X(`Block «${i}» skipped because saved data is invalid`),X(void 0,"groupEnd");return}if(i===this.Editor.Tools.stubTool){r.push(s);return}const u={id:o,type:i,data:s,...!Ht(a)&&{tunes:a}};r.push(u)}),X("Total","log",n),X(void 0,"groupEnd"),{time:+new Date,blocks:r,version:"2.27.2"}}}var uh={},mj={get exports(){return uh},set exports(t){uh=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=4)}([function(n,r,o){var i=o(1),s=o(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};i(s,a),n.exports=s.locals||{}},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var f={};return function(w){if(f[w]===void 0){var S=document.querySelector(w);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}f[w]=S}return f[w]}}(),l=[];function c(f){for(var w=-1,S=0;S<l.length;S++)if(l[S].identifier===f){w=S;break}return w}function u(f,w){for(var S={},_=[],P=0;P<f.length;P++){var y=f[P],x=w.base?y[0]+w.base:y[0],T=S[x]||0,C="".concat(x," ").concat(T);S[x]=T+1;var A=c(C),R={css:y[1],media:y[2],sourceMap:y[3]};A!==-1?(l[A].references++,l[A].updater(R)):l.push({identifier:C,updater:g(R,w),references:1}),_.push(C)}return _}function d(f){var w=document.createElement("style"),S=f.attributes||{};if(S.nonce===void 0){var _=o.nc;_&&(S.nonce=_)}if(Object.keys(S).forEach(function(y){w.setAttribute(y,S[y])}),typeof f.insert=="function")f.insert(w);else{var P=a(f.insert||"head");if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");P.appendChild(w)}return w}var h,m=(h=[],function(f,w){return h[f]=w,h.filter(Boolean).join(`
`)});function p(f,w,S,_){var P=S?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(f.styleSheet)f.styleSheet.cssText=m(w,P);else{var y=document.createTextNode(P),x=f.childNodes;x[w]&&f.removeChild(x[w]),x.length?f.insertBefore(y,x[w]):f.appendChild(y)}}function v(f,w,S){var _=S.css,P=S.media,y=S.sourceMap;if(P?f.setAttribute("media",P):f.removeAttribute("media"),y&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(y))))," */")),f.styleSheet)f.styleSheet.cssText=_;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(_))}}var E=null,k=0;function g(f,w){var S,_,P;if(w.singleton){var y=k++;S=E||(E=d(w)),_=p.bind(null,S,y,!1),P=p.bind(null,S,y,!0)}else S=d(w),_=v.bind(null,S,w),P=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(S)};return _(f),function(x){if(x){if(x.css===f.css&&x.media===f.media&&x.sourceMap===f.sourceMap)return;_(f=x)}else P()}}n.exports=function(f,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var S=u(f=f||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var P=0;P<S.length;P++){var y=c(S[P]);l[y].references--}for(var x=u(_,w),T=0;T<S.length;T++){var C=c(S[T]);l[C].references===0&&(l[C].updater(),l.splice(C,1))}S=x}}}},function(n,r,o){(r=o(3)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var m=(v=h,E=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),k="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(E),"/*# ".concat(k," */")),p=h.sources.map(function(g){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(g," */")});return[d].concat(p).concat([m]).join(`
`)}var v,E,k;return[d].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var m=0;m<a.length;m++){var p=[].concat(a[m]);c&&u[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,r,o){o.r(r),o.d(r,"default",function(){return a}),o(0);function i(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&i(l.prototype,c),u&&i(l,u),l}/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var a=function(){function l(c){var u=c.data,d=c.config,h=c.api,m=c.readOnly;(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=h,this.readOnly=m,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=d.placeholder?d.placeholder:l.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=d.preserveBlank!==void 0&&d.preserveBlank,this.data=u}return s(l,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(l,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(c){var u={text:this.data.text+c.text};this.data=u}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var u={text:c.detail.data.innerHTML};this.data=u}},{key:"data",get:function(){var c=this._element.innerHTML;return this._data.text=c,this._data},set:function(c){this._data=c||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),l}()}]).default})})(mj);const gj=wc(uh);class up{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=DM,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}up.isInline=!0;up.title="Bold";class dp{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=zM,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}dp.isInline=!0;dp.title="Italic";class hp{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new $}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Iv,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=KM,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=Iv,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new $;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),X("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",o=/^\/\/[^/\s]/.test(e);return!n&&!r&&!o&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}hp.isInline=!0;hp.title="Link";class Rx{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=M.make("div",this.CSS.wrapper),n='<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/></svg>',r=M.make("div",this.CSS.info),o=M.make("div",this.CSS.title,{textContent:this.title}),i=M.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(o),r.appendChild(i),e.appendChild(r),e}}Rx.isReadOnlySupported=!0;class vj extends cp{constructor(){super(...arguments),this.type=kc.Inline}get title(){return this.constructable[lp.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class yj extends cp{constructor(){super(...arguments),this.type=kc.Tune}create(e,n){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:n,data:e})}}class We extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new We(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new We(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new We(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new We(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new We(e)}}var bj=Object.defineProperty,wj=Object.getOwnPropertyDescriptor,Bx=(t,e,n,r)=>{for(var o=r>1?void 0:r?wj(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&bj(e,n,o),o};class fp extends cp{constructor(){super(...arguments),this.type=kc.Block,this.inlineTools=new We,this.tunes=new We}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[lo.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[lo.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[lo.Toolbox],n=this.config[Da.Toolbox];if(!Ht(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,o)=>{const i=e[o];return i?{...i,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[lo.ConversionConfig]}get enabledInlineTools(){return this.config[Da.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Da.EnabledBlockTunes]}get pasteConfig(){return this.constructable[lo.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(Ht(e))return n;const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];De(i)?r[o]=Object.assign({},n,i):r[o]=i}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}Bx([ii],fp.prototype,"sanitizeConfig",1);Bx([ii],fp.prototype,"baseSanitizeConfig",1);class xj{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...o}=this.config[e],i=this.getConstructor(n);return new i({name:e,constructable:n,config:o,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[lp.IsInline]:return vj;case e[Ax.IsTune]:return yj;default:return fp}}}class Ox{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:Sx,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,o=r.getBoundingClientRect();let i=Math.abs(window.innerHeight-r.offsetHeight);o.top<window.innerHeight&&(i=window.scrollY+r.offsetHeight),window.scrollTo(0,i),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}Ox.isTune=!0;class Lx{constructor({api:e}){this.api=e}render(){return{icon:FM,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Lx.isTune=!0;class Mx{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:UM,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const o=n.holder,i=r.holder,s=o.getBoundingClientRect(),a=i.getBoundingClientRect();let l;a.top>0?l=Math.abs(s.top)-Math.abs(a.top):l=Math.abs(s.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Mx.isTune=!0;var kj=Object.defineProperty,Sj=Object.getOwnPropertyDescriptor,Ej=(t,e,n,r)=>{for(var o=r>1?void 0:r?Sj(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&kj(e,n,o),o};class jx extends Z{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new We,this.toolsUnavailable=new We}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=rh({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new xj(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await hx(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{le(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:up,isInternal:!0},italic:{class:dp,isInternal:!0},link:{class:hp,isInternal:!0},paragraph:{class:gj,inlineToolbar:!0,isInternal:!0},stub:{class:Rx,isInternal:!0},moveUp:{class:Mx,isInternal:!0},delete:{class:Lx,isInternal:!0},moveDown:{class:Ox,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render","surround","checkState"].filter(o=>!n.create()[o]);if(r.length){X(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,o])=>{n.push({function:le(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:r,config:o.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new We(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new We(e.enabledInlineTools.map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new We(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new We([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new We(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new We([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!le(n)&&!le(n.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const n in this.config.tools)De(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}Ej([ii],jx.prototype,"getAllInlineToolsSanitizeConfig",1);const Cj=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s infinite linear;animation:editor-loader-spin .8s infinite linear;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class Tj extends Z{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=ZL(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${_e.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}addLoader(){this.nodes.loader=M.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}removeLoader(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}async prepare(){this.checkIsMobile(),this.make(),this.addLoader(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;return n.opened||r.opened||o.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof In).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;n.close(),r.close(),o.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<mx}make(){this.nodes.holder=M.getHolder(this.config.holder),this.nodes.wrapper=M.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=M.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(M.get(e))return;const n=M.make("style",null,{id:e,textContent:Cj.toString()});M.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",nh(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(_x,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case q.ENTER:this.enterPressed(e);break;case q.BACKSPACE:this.backspacePressed(e);break;case q.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&o||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor;if(r.anyBlockSelected&&!$.isSelectionExists){const i=n.removeSelectedBlocks();o.setToBlock(n.insertDefaultBlockAtIndex(i,!0),o.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!$.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){const i=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(i),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const n=e.target;this.nodes.holder.contains(n)||$.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const r=this.Editor.BlockSettings.nodes.wrapper.contains(n),o=this.Editor.Toolbar.nodes.settingsToggler.contains(n),i=r||o;if(this.Editor.BlockSettings.opened&&!i){this.Editor.BlockSettings.close();const s=this.Editor.BlockManager.getBlockByChildNode(n);this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:n}=this.Editor;if(!$.isCollapsed)return;const r=()=>{e.stopImmediatePropagation(),e.stopPropagation()},o=e.target,i=e.metaKey||e.ctrlKey;if(M.isAnchor(o)&&i){r();const c=o.getAttribute("href"),u=tM(c);rM(u);return}const s=this.Editor.BlockManager.getBlockByIndex(-1),a=M.offset(s.holder).bottom,l=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!n.anyBlockSelected&&a<l){r();const{BlockManager:c,Caret:u,Toolbar:d}=this.Editor;(!c.lastBlock.tool.isDefault||!c.lastBlock.isEmpty)&&c.insertAtEnd(),u.setToTheLastBlock(),d.moveAndOpen(c.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=$.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&$.get().removeAllRanges(),!r){$.range||this.Editor.InlineToolbar.close();return}const o=r.closest(`.${_e.CSS.content}`)===null;if(o&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r);const i=o!==!0;this.Editor.InlineToolbar.tryToShow(!0,i)}}const _j={BlocksAPI:dM,CaretAPI:hM,EventsAPI:fM,I18nAPI:rp,API:pM,InlineToolbarAPI:mM,ListenersAPI:gM,NotifierAPI:wM,ReadOnlyAPI:xM,SanitizerAPI:IM,SaverAPI:AM,SelectionAPI:PM,StylesAPI:NM,ToolbarAPI:RM,TooltipAPI:LM,UiAPI:MM,BlockSettings:XM,ConversionToolbar:St,Toolbar:nj,InlineToolbar:rj,BlockEvents:oj,BlockManager:aj,BlockSelection:lj,Caret:Ml,CrossBlockSelection:cj,DragNDrop:uj,ModificationsObserver:dj,Paste:Nx,ReadOnly:hj,RectangleSelection:$i,Renderer:fj,Saver:pj,Tools:jx,UI:Tj};class Ij{constructor(e){this.moduleInstances={},this.eventsDispatcher=new xc;let n,r;this.isReady=new Promise((o,i)=>{n=o,r=i}),Promise.resolve().then(async()=>{this.configuration=e,await this.validate(),await this.init(),await this.start(),Mt("I'm ready! (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧","log","","color: #E24A75"),setTimeout(async()=>{if(await this.render(),this.configuration.autofocus){const{BlockManager:o,Caret:i}=this.moduleInstances;i.setToBlock(o.blocks[0],i.positions.START),o.highlightCurrentNode()}this.moduleInstances.UI.removeLoader(),n()},500)}).catch(o=>{X(`Editor.js is not ready because of ${o}`,"error"),r(o)})}set configuration(e){var n,r;De(e)?this.config={...e}:this.config={holder:e},oh(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=ux.VERBOSE),YL(this.config.logLevel),oh(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Ht(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&lt.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}async validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("«holderId» and «holder» param can't assign at the same time.");if(pr(n)&&!M.get(n))throw Error(`element with ID «${n}» is missing. Pass correct holder's ID.`);if(n&&De(n)&&!M.isElement(n))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof vx)throw new Error(r.message);X(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(_j).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){X("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class Aj{static get version(){return"2.27.2"}constructor(e){let n=()=>{};De(e)&&le(e.onReady)&&(n=e.onReady);const r=new Ij(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(o=>{le(o.destroy)&&o.destroy(),o.listeners.removeAll()}),e=null;for(const o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};n.forEach(o=>{this[o]=e[o]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,i])=>{Object.entries(i).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[o][s]})})}}var Dx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=14)}([function(n,r,o){var i=o(5),s=o(6),a=o(7),l=o(9);n.exports=function(c,u){return i(c)||s(c,u)||a(c,u)||l()}},function(n,r){function o(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n.exports=o=function(s){return typeof s}:n.exports=o=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},o(i)}n.exports=o},function(n,r){n.exports=function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}},function(n,r){function o(i,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}n.exports=function(i,s,a){return s&&o(i.prototype,s),a&&o(i,a),i}},function(n,r){function o(i,s,a){var l,c,u,d,h;function m(){var v=Date.now()-d;v<s&&v>=0?l=setTimeout(m,s-v):(l=null,a||(h=i.apply(u,c),u=c=null))}s==null&&(s=100);var p=function(){u=this,c=arguments,d=Date.now();var v=a&&!l;return l||(l=setTimeout(m,s)),v&&(h=i.apply(u,c),u=c=null),h};return p.clear=function(){l&&(clearTimeout(l),l=null)},p.flush=function(){l&&(h=i.apply(u,c),u=c=null,clearTimeout(l),l=null)},p}o.debounce=o,n.exports=o},function(n,r){n.exports=function(o){if(Array.isArray(o))return o}},function(n,r){n.exports=function(o,i){if(typeof Symbol<"u"&&Symbol.iterator in Object(o)){var s=[],a=!0,l=!1,c=void 0;try{for(var u,d=o[Symbol.iterator]();!(a=(u=d.next()).done)&&(s.push(u.value),!i||s.length!==i);a=!0);}catch(h){l=!0,c=h}finally{try{a||d.return==null||d.return()}finally{if(l)throw c}}return s}}},function(n,r,o){var i=o(8);n.exports=function(s,a){if(s){if(typeof s=="string")return i(s,a);var l=Object.prototype.toString.call(s).slice(8,-1);return l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set"?Array.from(l):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?i(s,a):void 0}}},function(n,r){n.exports=function(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,o){var i=o(11),s=o(12);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};i(s,a),n.exports=s.locals||{}},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var f={};return function(w){if(f[w]===void 0){var S=document.querySelector(w);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}f[w]=S}return f[w]}}(),l=[];function c(f){for(var w=-1,S=0;S<l.length;S++)if(l[S].identifier===f){w=S;break}return w}function u(f,w){for(var S={},_=[],P=0;P<f.length;P++){var y=f[P],x=w.base?y[0]+w.base:y[0],T=S[x]||0,C="".concat(x," ").concat(T);S[x]=T+1;var A=c(C),R={css:y[1],media:y[2],sourceMap:y[3]};A!==-1?(l[A].references++,l[A].updater(R)):l.push({identifier:C,updater:g(R,w),references:1}),_.push(C)}return _}function d(f){var w=document.createElement("style"),S=f.attributes||{};if(S.nonce===void 0){var _=o.nc;_&&(S.nonce=_)}if(Object.keys(S).forEach(function(y){w.setAttribute(y,S[y])}),typeof f.insert=="function")f.insert(w);else{var P=a(f.insert||"head");if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");P.appendChild(w)}return w}var h,m=(h=[],function(f,w){return h[f]=w,h.filter(Boolean).join(`
`)});function p(f,w,S,_){var P=S?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(f.styleSheet)f.styleSheet.cssText=m(w,P);else{var y=document.createTextNode(P),x=f.childNodes;x[w]&&f.removeChild(x[w]),x.length?f.insertBefore(y,x[w]):f.appendChild(y)}}function v(f,w,S){var _=S.css,P=S.media,y=S.sourceMap;if(P?f.setAttribute("media",P):f.removeAttribute("media"),y&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(y))))," */")),f.styleSheet)f.styleSheet.cssText=_;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(_))}}var E=null,k=0;function g(f,w){var S,_,P;if(w.singleton){var y=k++;S=E||(E=d(w)),_=p.bind(null,S,y,!1),P=p.bind(null,S,y,!0)}else S=d(w),_=v.bind(null,S,w),P=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(S)};return _(f),function(x){if(x){if(x.css===f.css&&x.media===f.media&&x.sourceMap===f.sourceMap)return;_(f=x)}else P()}}n.exports=function(f,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var S=u(f=f||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var P=0;P<S.length;P++){var y=c(S[P]);l[y].references--}for(var x=u(_,w),T=0;T<S.length;T++){var C=c(S[T]);l[C].references===0&&(l[C].updater(),l.splice(C,1))}S=x}}}},function(n,r,o){(r=o(13)(!1)).push([n.i,`.embed-tool--loading .embed-tool__caption {
      display: none;
    }

    .embed-tool--loading .embed-tool__preloader {
      display: block;
    }

    .embed-tool--loading .embed-tool__content {
      display: none;
    }
  .embed-tool__preloader {
    display: none;
    position: relative;
    height: 200px;
    box-sizing: border-box;
    border-radius: 5px;
    border: 1px solid #e6e9eb;
  }
  .embed-tool__preloader::before {
      content: '';
      position: absolute;
      z-index: 3;
      left: 50%;
      top: 50%;
      width: 30px;
      height: 30px;
      margin-top: -25px;
      margin-left: -15px;
      border-radius: 50%;
      border: 2px solid #cdd1e0;
      border-top-color: #388ae5;
      box-sizing: border-box;
      animation: embed-preloader-spin 2s infinite linear;
    }
  .embed-tool__url {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 250px;
    color: #7b7e89;
    font-size: 11px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .embed-tool__content {
    width: 100%;
  }
  .embed-tool__caption {
    margin-top: 7px;
  }
  .embed-tool__caption[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {
         opacity: 1;
      }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {
        opacity: 0;
      }

@keyframes embed-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var m=(v=h,E=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),k="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(E),"/*# ".concat(k," */")),p=h.sources.map(function(g){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(g," */")});return[d].concat(p).concat([m]).join(`
`)}var v,E,k;return[d].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var m=0;m<a.length;m++){var p=[].concat(a[m]);c&&u[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,r,o){o.r(r),o.d(r,"default",function(){return v});var i=o(1),s=o.n(i),a=o(0),l=o.n(a),c=o(2),u=o.n(c),d=o(3),h=o.n(d),m={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(E){var k=l()(E,2),g=k[0],f=k[1];if(!f&&g)return g;var w={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return f=f.slice(1).split("&").map(function(S){var _=S.split("="),P=l()(_,2),y=P[0],x=P[1];return g||y!=="v"?w[y]?x==="LL"||x.startsWith("RDMM")||x.startsWith("FL")?null:"".concat(w[y],"=").concat(x):null:(g=x,null)}).filter(function(S){return!!S}),g+"?"+f.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(E){return E.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(E){return E.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(E){return E.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(E){return E.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(E){return E[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(E){return E.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}},p=(o(10),o(4)),v=function(){function E(k){var g=k.data,f=k.api,w=k.readOnly;u()(this,E),this.api=f,this._data={},this.element=null,this.readOnly=w,this.data=g}return h()(E,[{key:"render",value:function(){var k=this;if(!this.data.service){var g=document.createElement("div");return this.element=g,g}var f=E.services[this.data.service].html,w=document.createElement("div"),S=document.createElement("div"),_=document.createElement("template"),P=this.createPreloader();w.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),S.classList.add(this.CSS.input,this.CSS.caption),w.appendChild(P),S.contentEditable=!this.readOnly,S.dataset.placeholder=this.api.i18n.t("Enter a caption"),S.innerHTML=this.data.caption||"",_.innerHTML=f,_.content.firstChild.setAttribute("src",this.data.embed),_.content.firstChild.classList.add(this.CSS.content);var y=this.embedIsReady(w);return w.appendChild(_.content.firstChild),w.appendChild(S),y.then(function(){w.classList.remove(k.CSS.containerLoading)}),this.element=w,w}},{key:"createPreloader",value:function(){var k=document.createElement("preloader"),g=document.createElement("div");return g.textContent=this.data.source,k.classList.add(this.CSS.preloader),g.classList.add(this.CSS.url),k.appendChild(g),k}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(k){var g=k.detail,f=g.key,w=g.data,S=E.services[f],_=S.regex,P=S.embedUrl,y=S.width,x=S.height,T=S.id,C=T===void 0?function(O){return O.shift()}:T,A=_.exec(w).slice(1),R=P.replace(/<%= remote_id %>/g,C(A));this.data={service:f,source:w,embed:R,width:y,height:x}}},{key:"embedIsReady",value:function(k){var g=null;return new Promise(function(f,w){(g=new MutationObserver(Object(p.debounce)(f,450))).observe(k,{childList:!0,subtree:!0})}).then(function(){g.disconnect()})}},{key:"data",set:function(k){if(!(k instanceof Object))throw Error("Embed Tool data should be object");var g=k.service,f=k.source,w=k.embed,S=k.width,_=k.height,P=k.caption,y=P===void 0?"":P;this._data={service:g||this.data.service,source:f||this.data.source,embed:w||this.data.embed,width:S||this.data.width,height:_||this.data.height,caption:y||this.data.caption||""};var x=this.element;x&&x.parentNode.replaceChild(this.render(),x)},get:function(){if(this.element){var k=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=k?k.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(k){var g=k.config,f=(g===void 0?{}:g).services,w=f===void 0?{}:f,S=Object.entries(m),_=Object.entries(w).filter(function(y){var x=l()(y,2),T=(x[0],x[1]);return typeof T=="boolean"&&T===!0}).map(function(y){return l()(y,1)[0]}),P=Object.entries(w).filter(function(y){var x=l()(y,2),T=(x[0],x[1]);return s()(T)==="object"}).filter(function(y){var x=l()(y,2),T=(x[0],x[1]);return E.checkServiceConfig(T)}).map(function(y){var x=l()(y,2),T=x[0],C=x[1];return[T,{regex:C.regex,embedUrl:C.embedUrl,html:C.html,height:C.height,width:C.width,id:C.id}]});_.length&&(S=S.filter(function(y){var x=l()(y,1)[0];return _.includes(x)})),S=S.concat(P),E.services=S.reduce(function(y,x){var T=l()(x,2),C=T[0],A=T[1];return C in y?(y[C]=Object.assign({},y[C],A),y):(y[C]=A,y)},{}),E.patterns=S.reduce(function(y,x){var T=l()(x,2),C=T[0],A=T[1];return y[C]=A.regex,y},{})}},{key:"checkServiceConfig",value:function(k){var g=k.regex,f=k.embedUrl,w=k.html,S=k.height,_=k.width,P=k.id,y=g&&g instanceof RegExp&&f&&typeof f=="string"&&w&&typeof w=="string";return y=(y=(y=y&&(P===void 0||P instanceof Function))&&(S===void 0||Number.isFinite(S)))&&(_===void 0||Number.isFinite(_))}},{key:"pasteConfig",get:function(){return{patterns:E.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),E}()}]).default})})(Dx);var Pj=Dx.exports;const Nj=mr(Pj);var Ux={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=4)}([function(n,r,o){var i=o(1),s=o(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};i(s,a),n.exports=s.locals||{}},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var f={};return function(w){if(f[w]===void 0){var S=document.querySelector(w);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}f[w]=S}return f[w]}}(),l=[];function c(f){for(var w=-1,S=0;S<l.length;S++)if(l[S].identifier===f){w=S;break}return w}function u(f,w){for(var S={},_=[],P=0;P<f.length;P++){var y=f[P],x=w.base?y[0]+w.base:y[0],T=S[x]||0,C="".concat(x," ").concat(T);S[x]=T+1;var A=c(C),R={css:y[1],media:y[2],sourceMap:y[3]};A!==-1?(l[A].references++,l[A].updater(R)):l.push({identifier:C,updater:g(R,w),references:1}),_.push(C)}return _}function d(f){var w=document.createElement("style"),S=f.attributes||{};if(S.nonce===void 0){var _=o.nc;_&&(S.nonce=_)}if(Object.keys(S).forEach(function(y){w.setAttribute(y,S[y])}),typeof f.insert=="function")f.insert(w);else{var P=a(f.insert||"head");if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");P.appendChild(w)}return w}var h,m=(h=[],function(f,w){return h[f]=w,h.filter(Boolean).join(`
`)});function p(f,w,S,_){var P=S?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(f.styleSheet)f.styleSheet.cssText=m(w,P);else{var y=document.createTextNode(P),x=f.childNodes;x[w]&&f.removeChild(x[w]),x.length?f.insertBefore(y,x[w]):f.appendChild(y)}}function v(f,w,S){var _=S.css,P=S.media,y=S.sourceMap;if(P?f.setAttribute("media",P):f.removeAttribute("media"),y&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(y))))," */")),f.styleSheet)f.styleSheet.cssText=_;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(_))}}var E=null,k=0;function g(f,w){var S,_,P;if(w.singleton){var y=k++;S=E||(E=d(w)),_=p.bind(null,S,y,!1),P=p.bind(null,S,y,!0)}else S=d(w),_=v.bind(null,S,w),P=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(S)};return _(f),function(x){if(x){if(x.css===f.css&&x.media===f.media&&x.sourceMap===f.sourceMap)return;_(f=x)}else P()}}n.exports=function(f,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var S=u(f=f||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var P=0;P<S.length;P++){var y=c(S[P]);l[y].references--}for(var x=u(_,w),T=0;T<S.length;T++){var C=c(S[T]);l[C].references===0&&(l[C].updater(),l.splice(C,1))}S=x}}}},function(n,r,o){(r=o(3)(!1)).push([n.i,`.cdx-list {
    margin: 0;
    padding-left: 40px;
    outline: none;
}

    .cdx-list__item {
        padding: 5.5px 0 5.5px 3px;
        line-height: 1.6em;
    }

    .cdx-list--unordered {
        list-style: disc;
    }

    .cdx-list--ordered {
        list-style: decimal;
    }

    .cdx-list-settings {
        display: flex;
    }

    .cdx-list-settings .cdx-settings-button {
            width: 50%;
        }
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var m=(v=h,E=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),k="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(E),"/*# ".concat(k," */")),p=h.sources.map(function(g){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(g," */")});return[d].concat(p).concat([m]).join(`
`)}var v,E,k;return[d].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var m=0;m<a.length;m++){var p=[].concat(a[m]);c&&u[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,r,o){o.r(r),o.d(r,"default",function(){return m}),o(0);const i='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>';function s(p){return function(v){if(Array.isArray(v))return a(v)}(p)||function(v){if(typeof Symbol<"u"&&Symbol.iterator in Object(v))return Array.from(v)}(p)||function(v,E){if(v){if(typeof v=="string")return a(v,E);var k=Object.prototype.toString.call(v).slice(8,-1);if(k==="Object"&&v.constructor&&(k=v.constructor.name),k==="Map"||k==="Set")return Array.from(v);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return a(v,E)}}(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(p,v){(v==null||v>p.length)&&(v=p.length);for(var E=0,k=new Array(v);E<v;E++)k[E]=p[E];return k}function l(p,v){var E=Object.keys(p);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(p);v&&(k=k.filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable})),E.push.apply(E,k)}return E}function c(p){for(var v=1;v<arguments.length;v++){var E=arguments[v]!=null?arguments[v]:{};v%2?l(Object(E),!0).forEach(function(k){u(p,k,E[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(E)):l(Object(E)).forEach(function(k){Object.defineProperty(p,k,Object.getOwnPropertyDescriptor(E,k))})}return p}function u(p,v,E){return v in p?Object.defineProperty(p,v,{value:E,enumerable:!0,configurable:!0,writable:!0}):p[v]=E,p}function d(p,v){for(var E=0;E<v.length;E++){var k=v[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(p,k.key,k)}}function h(p,v,E){return v&&d(p.prototype,v),E&&d(p,E),p}var m=function(){function p(v){var E=v.data,k=v.config,g=v.api,f=v.readOnly;(function(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")})(this,p),this._elements={wrapper:null},this.api=g,this.readOnly=f,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:i,default:k.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',default:k.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(function(w){return w.default===!0}).name,items:[]},this.data=E}return h(p,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:i,title:"List"}}}]),h(p,[{key:"render",value:function(){var v=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(function(E){v._elements.wrapper.appendChild(v._make("li",v.CSS.item,{innerHTML:E}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",function(E){switch(E.keyCode){case 13:v.getOutofList(E);break;case 8:v.backspace(E)}},!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var v=this;return this.settings.map(function(E){return c(c({},E),{},{isActive:v._data.style===E.name,closeOnActivate:!0,onActivate:function(){return v.toggleTune(E.name)}})})}},{key:"onPaste",value:function(v){var E=v.detail.data;this.data=this.pasteHandler(E)}},{key:"makeMainTag",value:function(v){var E=v==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,k=v==="ordered"?"ol":"ul";return this._make(k,[this.CSS.baseBlock,this.CSS.wrapper,E],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(v){for(var E=this.makeMainTag(v);this._elements.wrapper.hasChildNodes();)E.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(E),this._elements.wrapper=E,this._data.style=v}},{key:"_make",value:function(v){var E,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=document.createElement(v);Array.isArray(k)?(E=f.classList).add.apply(E,s(k)):k&&f.classList.add(k);for(var w in g)f[w]=g[w];return f}},{key:"getOutofList",value:function(v){var E=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(E.length<2)){var k=E[E.length-1],g=this.currentItem;g!==k||k.textContent.trim().length||(g.parentElement.removeChild(g),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),v.preventDefault(),v.stopPropagation())}}},{key:"backspace",value:function(v){var E=this._elements.wrapper.querySelectorAll("."+this.CSS.item),k=E[0];k&&E.length<2&&!k.innerHTML.replace("<br>"," ").trim()&&v.preventDefault()}},{key:"selectItem",value:function(v){v.preventDefault();var E=window.getSelection(),k=E.anchorNode.parentNode.closest("."+this.CSS.item),g=new Range;g.selectNodeContents(k),E.removeAllRanges(),E.addRange(g)}},{key:"pasteHandler",value:function(v){var E,k=v.tagName;switch(k){case"OL":E="ordered";break;case"UL":case"LI":E="unordered"}var g={style:E,items:[]};if(k==="LI")g.items=[v.innerHTML];else{var f=Array.from(v.querySelectorAll("LI"));g.items=f.map(function(w){return w.innerHTML}).filter(function(w){return!!w.trim()})}return g}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}},{key:"data",set:function(v){v||(v={}),this._data.style=v.style||this.settings.find(function(k){return k.default===!0}).name,this._data.items=v.items||[];var E=this._elements.wrapper;E&&E.parentNode.replaceChild(this.render(),E)},get:function(){this._data.items=[];for(var v=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),E=0;E<v.length;E++)v[E].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(v[E].innerHTML);return this._data}},{key:"currentItem",get:function(){var v=window.getSelection().anchorNode;return v.nodeType!==Node.ELEMENT_NODE&&(v=v.parentNode),v.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(v){return v.items.join(". ")},import:function(v){return{items:[v],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),p}()}]).default})})(Ux);var Rj=Ux.exports;const Bj=mr(Rj);var Fx={exports:{}};/*!
 * Image tool
 * 
 * @version 2.8.1
 * 
 * @package https://github.com/editor-js/image
 * @licence MIT
 * @author CodeX <https://codex.so>
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=9)}([function(n,r){function o(i,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}n.exports=function(i,s,a){return s&&o(i.prototype,s),a&&o(i,a),i}},function(n,r,o){n.exports=function(i){var s={};function a(l){if(s[l])return s[l].exports;var c=s[l]={i:l,l:!1,exports:{}};return i[l].call(c.exports,c,c.exports,a),c.l=!0,c.exports}return a.m=i,a.c=s,a.d=function(l,c,u){a.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:u})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,c){if(1&c&&(l=a(l)),8&c||4&c&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),2&c&&typeof l!="string")for(var d in l)a.d(u,d,(function(h){return l[h]}).bind(null,d));return u},a.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(c,"a",c),c},a.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},a.p="",a(a.s=3)}([function(i,s){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}i.exports=a},function(i,s,a){(function(l){var c=a(2),u=setTimeout;function d(){}function h(f){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if(typeof f!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(f,this)}function m(f,w){for(;f._state===3;)f=f._value;f._state!==0?(f._handled=!0,h._immediateFn(function(){var S=f._state===1?w.onFulfilled:w.onRejected;if(S!==null){var _;try{_=S(f._value)}catch(P){return void v(w.promise,P)}p(w.promise,_)}else(f._state===1?p:v)(w.promise,f._value)})):f._deferreds.push(w)}function p(f,w){try{if(w===f)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var S=w.then;if(w instanceof h)return f._state=3,f._value=w,void E(f);if(typeof S=="function")return void g((_=S,P=w,function(){_.apply(P,arguments)}),f)}f._state=1,f._value=w,E(f)}catch(y){v(f,y)}var _,P}function v(f,w){f._state=2,f._value=w,E(f)}function E(f){f._state===2&&f._deferreds.length===0&&h._immediateFn(function(){f._handled||h._unhandledRejectionFn(f._value)});for(var w=0,S=f._deferreds.length;w<S;w++)m(f,f._deferreds[w]);f._deferreds=null}function k(f,w,S){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof w=="function"?w:null,this.promise=S}function g(f,w){var S=!1;try{f(function(_){S||(S=!0,p(w,_))},function(_){S||(S=!0,v(w,_))})}catch(_){if(S)return;S=!0,v(w,_)}}h.prototype.catch=function(f){return this.then(null,f)},h.prototype.then=function(f,w){var S=new this.constructor(d);return m(this,new k(f,w,S)),S},h.prototype.finally=c.a,h.all=function(f){return new h(function(w,S){if(!f||f.length===void 0)throw new TypeError("Promise.all accepts an array");var _=Array.prototype.slice.call(f);if(_.length===0)return w([]);var P=_.length;function y(T,C){try{if(C&&(typeof C=="object"||typeof C=="function")){var A=C.then;if(typeof A=="function")return void A.call(C,function(R){y(T,R)},S)}_[T]=C,--P==0&&w(_)}catch(R){S(R)}}for(var x=0;x<_.length;x++)y(x,_[x])})},h.resolve=function(f){return f&&typeof f=="object"&&f.constructor===h?f:new h(function(w){w(f)})},h.reject=function(f){return new h(function(w,S){S(f)})},h.race=function(f){return new h(function(w,S){for(var _=0,P=f.length;_<P;_++)f[_].then(w,S)})},h._immediateFn=typeof l=="function"&&function(f){l(f)}||function(f){u(f,0)},h._unhandledRejectionFn=function(f){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",f)},s.a=h}).call(this,a(5).setImmediate)},function(i,s,a){s.a=function(l){var c=this.constructor;return this.then(function(u){return c.resolve(l()).then(function(){return u})},function(u){return c.resolve(l()).then(function(){return c.reject(u)})})}},function(i,s,a){function l(g){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(g)}a(4);var c,u,d,h,m,p,v,E=a(8),k=(u=function(g){return new Promise(function(f,w){g=h(g),(g=m(g)).beforeSend&&g.beforeSend();var S=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");S.open(g.method,g.url),S.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(g.headers).forEach(function(P){var y=g.headers[P];S.setRequestHeader(P,y)});var _=g.ratio;S.upload.addEventListener("progress",function(P){var y=Math.round(P.loaded/P.total*100),x=Math.ceil(y*_/100);g.progress(Math.min(x,100))},!1),S.addEventListener("progress",function(P){var y=Math.round(P.loaded/P.total*100),x=Math.ceil(y*(100-_)/100)+_;g.progress(Math.min(x,100))},!1),S.onreadystatechange=function(){if(S.readyState===4){var P=S.response;try{P=JSON.parse(P)}catch{}var y=E.parseHeaders(S.getAllResponseHeaders()),x={body:P,code:S.status,headers:y};v(S.status)?f(x):w(x)}},S.send(g.data)})},d=function(g){return g.method="POST",u(g)},h=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g.url&&typeof g.url!="string")throw new Error("Url must be a string");if(g.url=g.url||"",g.method&&typeof g.method!="string")throw new Error("`method` must be a string or null");if(g.method=g.method?g.method.toUpperCase():"GET",g.headers&&l(g.headers)!=="object")throw new Error("`headers` must be an object or null");if(g.headers=g.headers||{},g.type&&(typeof g.type!="string"||!Object.values(c).includes(g.type)))throw new Error("`type` must be taken from module's «contentType» library");if(g.progress&&typeof g.progress!="function")throw new Error("`progress` must be a function or null");if(g.progress=g.progress||function(f){},g.beforeSend=g.beforeSend||function(f){},g.ratio&&typeof g.ratio!="number")throw new Error("`ratio` must be a number");if(g.ratio<0||g.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(g.ratio=g.ratio||90,g.accept&&typeof g.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(g.accept=g.accept||"*/*",g.multiple&&typeof g.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(g.multiple=g.multiple||!1,g.fieldName&&typeof g.fieldName!="string")throw new Error("`fieldName` must be a string");return g.fieldName=g.fieldName||"files",g},m=function(g){switch(g.method){case"GET":var f=p(g.data,c.URLENCODED);delete g.data,g.url=/\?/.test(g.url)?g.url+"&"+f:g.url+"?"+f;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var w=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||c.JSON}(g);(E.isFormData(g.data)||E.isFormElement(g.data))&&(w=c.FORM),g.data=p(g.data,w),w!==k.contentType.FORM&&(g.headers["content-type"]=w)}return g},p=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case c.URLENCODED:return E.urlEncode(g);case c.JSON:return E.jsonEncode(g);case c.FORM:return E.formEncode(g);default:return g}},v=function(g){return g>=200&&g<300},{contentType:c={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(g){return g.method="GET",u(g)},post:d,transport:function(g){return g=h(g),E.selectFiles(g).then(function(f){for(var w=new FormData,S=0;S<f.length;S++)w.append(g.fieldName,f[S],f[S].name);E.isObject(g.data)&&Object.keys(g.data).forEach(function(P){var y=g.data[P];w.append(P,y)});var _=g.beforeSend;return g.beforeSend=function(){return _(f)},g.data=w,d(g)})},selectFiles:function(g){return delete(g=h(g)).beforeSend,E.selectFiles(g)}});i.exports=k},function(i,s,a){a.r(s);var l=a(1);window.Promise=window.Promise||l.a},function(i,s,a){(function(l){var c=l!==void 0&&l||typeof self<"u"&&self||window,u=Function.prototype.apply;function d(h,m){this._id=h,this._clearFn=m}s.setTimeout=function(){return new d(u.call(setTimeout,c,arguments),clearTimeout)},s.setInterval=function(){return new d(u.call(setInterval,c,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(h){h&&h.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(c,this._id)},s.enroll=function(h,m){clearTimeout(h._idleTimeoutId),h._idleTimeout=m},s.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},s._unrefActive=s.active=function(h){clearTimeout(h._idleTimeoutId);var m=h._idleTimeout;m>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},m))},a(6),s.setImmediate=typeof self<"u"&&self.setImmediate||l!==void 0&&l.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self<"u"&&self.clearImmediate||l!==void 0&&l.clearImmediate||this&&this.clearImmediate}).call(this,a(0))},function(i,s,a){(function(l,c){(function(u,d){if(!u.setImmediate){var h,m,p,v,E,k=1,g={},f=!1,w=u.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(u);S=S&&S.setTimeout?S:u,{}.toString.call(u.process)==="[object process]"?h=function(y){c.nextTick(function(){P(y)})}:function(){if(u.postMessage&&!u.importScripts){var y=!0,x=u.onmessage;return u.onmessage=function(){y=!1},u.postMessage("","*"),u.onmessage=x,y}}()?(v="setImmediate$"+Math.random()+"$",E=function(y){y.source===u&&typeof y.data=="string"&&y.data.indexOf(v)===0&&P(+y.data.slice(v.length))},u.addEventListener?u.addEventListener("message",E,!1):u.attachEvent("onmessage",E),h=function(y){u.postMessage(v+y,"*")}):u.MessageChannel?((p=new MessageChannel).port1.onmessage=function(y){P(y.data)},h=function(y){p.port2.postMessage(y)}):w&&"onreadystatechange"in w.createElement("script")?(m=w.documentElement,h=function(y){var x=w.createElement("script");x.onreadystatechange=function(){P(y),x.onreadystatechange=null,m.removeChild(x),x=null},m.appendChild(x)}):h=function(y){setTimeout(P,0,y)},S.setImmediate=function(y){typeof y!="function"&&(y=new Function(""+y));for(var x=new Array(arguments.length-1),T=0;T<x.length;T++)x[T]=arguments[T+1];var C={callback:y,args:x};return g[k]=C,h(k),k++},S.clearImmediate=_}function _(y){delete g[y]}function P(y){if(f)setTimeout(P,0,y);else{var x=g[y];if(x){f=!0;try{(function(T){var C=T.callback,A=T.args;switch(A.length){case 0:C();break;case 1:C(A[0]);break;case 2:C(A[0],A[1]);break;case 3:C(A[0],A[1],A[2]);break;default:C.apply(void 0,A)}})(x)}finally{_(y),f=!1}}}}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,a(0),a(7))},function(i,s){var a,l,c=i.exports={};function u(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function h(S){if(a===setTimeout)return setTimeout(S,0);if((a===u||!a)&&setTimeout)return a=setTimeout,setTimeout(S,0);try{return a(S,0)}catch{try{return a.call(null,S,0)}catch{return a.call(this,S,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:u}catch{a=u}try{l=typeof clearTimeout=="function"?clearTimeout:d}catch{l=d}})();var m,p=[],v=!1,E=-1;function k(){v&&m&&(v=!1,m.length?p=m.concat(p):E=-1,p.length&&g())}function g(){if(!v){var S=h(k);v=!0;for(var _=p.length;_;){for(m=p,p=[];++E<_;)m&&m[E].run();E=-1,_=p.length}m=null,v=!1,function(P){if(l===clearTimeout)return clearTimeout(P);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(P);try{l(P)}catch{try{return l.call(null,P)}catch{return l.call(this,P)}}}(S)}}function f(S,_){this.fun=S,this.array=_}function w(){}c.nextTick=function(S){var _=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)_[P-1]=arguments[P];p.push(new f(S,_)),p.length!==1||v||h(g)},f.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=w,c.addListener=w,c.once=w,c.off=w,c.removeListener=w,c.removeAllListeners=w,c.emit=w,c.prependListener=w,c.prependOnceListener=w,c.listeners=function(S){return[]},c.binding=function(S){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(S){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(i,s,a){function l(u,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}var c=a(9);i.exports=function(){function u(){(function(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}var d,h;return d=u,(h=[{key:"urlEncode",value:function(m){return c(m)}},{key:"jsonEncode",value:function(m){return JSON.stringify(m)}},{key:"formEncode",value:function(m){if(this.isFormData(m))return m;if(this.isFormElement(m))return new FormData(m);if(this.isObject(m)){var p=new FormData;return Object.keys(m).forEach(function(v){var E=m[v];p.append(v,E)}),p}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(m){return Object.prototype.toString.call(m)==="[object Object]"}},{key:"isFormData",value:function(m){return m instanceof FormData}},{key:"isFormElement",value:function(m){return m instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(p,v){var E=document.createElement("INPUT");E.type="file",m.multiple&&E.setAttribute("multiple","multiple"),m.accept&&E.setAttribute("accept",m.accept),E.style.display="none",document.body.appendChild(E),E.addEventListener("change",function(k){var g=k.target.files;p(g),document.body.removeChild(E)},!1),E.click()})}},{key:"parseHeaders",value:function(m){var p=m.trim().split(/[\r\n]+/),v={};return p.forEach(function(E){var k=E.split(": "),g=k.shift(),f=k.join(": ");g&&(v[g]=f)}),v}}])&&l(d,h),u}()},function(i,s){var a=function(c){return encodeURIComponent(c).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},l=function(c,u,d,h){return u=u||null,d=d||"&",h=h||null,c?function(m){for(var p=new Array,v=0;v<m.length;v++)m[v]&&p.push(m[v]);return p}(Object.keys(c).map(function(m){var p,v,E=m;if(h&&(E=h+"["+E+"]"),typeof c[m]=="object"&&c[m]!==null)p=l(c[m],null,d,E);else{u&&(v=E,E=!isNaN(parseFloat(v))&&isFinite(v)?u+Number(E):E);var k=c[m];k=(k=(k=(k=k===!0?"1":k)===!1?"0":k)===0?"0":k)||"",p=a(E)+"="+a(k)}return p})).join(d).replace(/[!'()*]/g,""):""};i.exports=l}])},function(n,r){n.exports=function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}},function(n,r,o){n.exports=o(10)},function(n,r){n.exports=function(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}},function(n,r,o){var i=o(4);n.exports=function(s,a){if(s){if(typeof s=="string")return i(s,a);var l=Object.prototype.toString.call(s).slice(8,-1);return l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set"?Array.from(l):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?i(s,a):void 0}}},function(n,r){function o(i,s,a,l,c,u,d){try{var h=i[u](d),m=h.value}catch(p){return void a(p)}h.done?s(m):Promise.resolve(m).then(l,c)}n.exports=function(i){return function(){var s=this,a=arguments;return new Promise(function(l,c){var u=i.apply(s,a);function d(m){o(u,l,c,d,h,"next",m)}function h(m){o(u,l,c,d,h,"throw",m)}d(void 0)})}}},function(n,r,o){var i=o(15),s=o(16),a=o(5),l=o(17);n.exports=function(c){return i(c)||s(c)||a(c)||l()}},function(n,r,o){var i=o(18),s=o(19),a=o(5),l=o(20);n.exports=function(c,u){return i(c)||s(c,u)||a(c,u)||l()}},function(n,r,o){n.exports=o(21)},function(n,r,o){var i=function(s){var a=Object.prototype,l=a.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function m(I,B,D,L){var j=B&&B.prototype instanceof E?B:E,H=Object.create(j.prototype),z=new A(L||[]);return H._invoke=function(Y,Ye,J){var Fe="suspendedStart";return function(be,Xe){if(Fe==="executing")throw new Error("Generator is already running");if(Fe==="completed"){if(be==="throw")throw Xe;return O()}for(J.method=be,J.arg=Xe;;){var Nn=J.delegate;if(Nn){var Nt=x(Nn,J);if(Nt){if(Nt===v)continue;return Nt}}if(J.method==="next")J.sent=J._sent=J.arg;else if(J.method==="throw"){if(Fe==="suspendedStart")throw Fe="completed",J.arg;J.dispatchException(J.arg)}else J.method==="return"&&J.abrupt("return",J.arg);Fe="executing";var He=p(Y,Ye,J);if(He.type==="normal"){if(Fe=J.done?"completed":"suspendedYield",He.arg===v)continue;return{value:He.arg,done:J.done}}He.type==="throw"&&(Fe="completed",J.method="throw",J.arg=He.arg)}}}(I,D,z),H}function p(I,B,D){try{return{type:"normal",arg:I.call(B,D)}}catch(L){return{type:"throw",arg:L}}}s.wrap=m;var v={};function E(){}function k(){}function g(){}var f={};f[u]=function(){return this};var w=Object.getPrototypeOf,S=w&&w(w(R([])));S&&S!==a&&l.call(S,u)&&(f=S);var _=g.prototype=E.prototype=Object.create(f);function P(I){["next","throw","return"].forEach(function(B){I[B]=function(D){return this._invoke(B,D)}})}function y(I,B){var D;this._invoke=function(L,j){function H(){return new B(function(z,Y){(function Ye(J,Fe,be,Xe){var Nn=p(I[J],I,Fe);if(Nn.type!=="throw"){var Nt=Nn.arg,He=Nt.value;return He&&typeof He=="object"&&l.call(He,"__await")?B.resolve(He.__await).then(function(Je){Ye("next",Je,be,Xe)},function(Je){Ye("throw",Je,be,Xe)}):B.resolve(He).then(function(Je){Nt.value=Je,be(Nt)},function(Je){return Ye("throw",Je,be,Xe)})}Xe(Nn.arg)})(L,j,z,Y)})}return D=D?D.then(H,H):H()}}function x(I,B){var D=I.iterator[B.method];if(D===void 0){if(B.delegate=null,B.method==="throw"){if(I.iterator.return&&(B.method="return",B.arg=void 0,x(I,B),B.method==="throw"))return v;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var L=p(D,I.iterator,B.arg);if(L.type==="throw")return B.method="throw",B.arg=L.arg,B.delegate=null,v;var j=L.arg;return j?j.done?(B[I.resultName]=j.value,B.next=I.nextLoc,B.method!=="return"&&(B.method="next",B.arg=void 0),B.delegate=null,v):j:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,v)}function T(I){var B={tryLoc:I[0]};1 in I&&(B.catchLoc=I[1]),2 in I&&(B.finallyLoc=I[2],B.afterLoc=I[3]),this.tryEntries.push(B)}function C(I){var B=I.completion||{};B.type="normal",delete B.arg,I.completion=B}function A(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(T,this),this.reset(!0)}function R(I){if(I){var B=I[u];if(B)return B.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var D=-1,L=function j(){for(;++D<I.length;)if(l.call(I,D))return j.value=I[D],j.done=!1,j;return j.value=void 0,j.done=!0,j};return L.next=L}}return{next:O}}function O(){return{value:void 0,done:!0}}return k.prototype=_.constructor=g,g.constructor=k,g[h]=k.displayName="GeneratorFunction",s.isGeneratorFunction=function(I){var B=typeof I=="function"&&I.constructor;return!!B&&(B===k||(B.displayName||B.name)==="GeneratorFunction")},s.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,g):(I.__proto__=g,h in I||(I[h]="GeneratorFunction")),I.prototype=Object.create(_),I},s.awrap=function(I){return{__await:I}},P(y.prototype),y.prototype[d]=function(){return this},s.AsyncIterator=y,s.async=function(I,B,D,L,j){j===void 0&&(j=Promise);var H=new y(m(I,B,D,L),j);return s.isGeneratorFunction(B)?H:H.next().then(function(z){return z.done?z.value:H.next()})},P(_),_[h]="Generator",_[u]=function(){return this},_.toString=function(){return"[object Generator]"},s.keys=function(I){var B=[];for(var D in I)B.push(D);return B.reverse(),function L(){for(;B.length;){var j=B.pop();if(j in I)return L.value=j,L.done=!1,L}return L.done=!0,L}},s.values=R,A.prototype={constructor:A,reset:function(I){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!I)for(var B in this)B.charAt(0)==="t"&&l.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=void 0)},stop:function(){this.done=!0;var I=this.tryEntries[0].completion;if(I.type==="throw")throw I.arg;return this.rval},dispatchException:function(I){if(this.done)throw I;var B=this;function D(Ye,J){return H.type="throw",H.arg=I,B.next=Ye,J&&(B.method="next",B.arg=void 0),!!J}for(var L=this.tryEntries.length-1;L>=0;--L){var j=this.tryEntries[L],H=j.completion;if(j.tryLoc==="root")return D("end");if(j.tryLoc<=this.prev){var z=l.call(j,"catchLoc"),Y=l.call(j,"finallyLoc");if(z&&Y){if(this.prev<j.catchLoc)return D(j.catchLoc,!0);if(this.prev<j.finallyLoc)return D(j.finallyLoc)}else if(z){if(this.prev<j.catchLoc)return D(j.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<j.finallyLoc)return D(j.finallyLoc)}}}},abrupt:function(I,B){for(var D=this.tryEntries.length-1;D>=0;--D){var L=this.tryEntries[D];if(L.tryLoc<=this.prev&&l.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var j=L;break}}j&&(I==="break"||I==="continue")&&j.tryLoc<=B&&B<=j.finallyLoc&&(j=null);var H=j?j.completion:{};return H.type=I,H.arg=B,j?(this.method="next",this.next=j.finallyLoc,v):this.complete(H)},complete:function(I,B){if(I.type==="throw")throw I.arg;return I.type==="break"||I.type==="continue"?this.next=I.arg:I.type==="return"?(this.rval=this.arg=I.arg,this.method="return",this.next="end"):I.type==="normal"&&B&&(this.next=B),v},finish:function(I){for(var B=this.tryEntries.length-1;B>=0;--B){var D=this.tryEntries[B];if(D.finallyLoc===I)return this.complete(D.completion,D.afterLoc),C(D),v}},catch:function(I){for(var B=this.tryEntries.length-1;B>=0;--B){var D=this.tryEntries[B];if(D.tryLoc===I){var L=D.completion;if(L.type==="throw"){var j=L.arg;C(D)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(I,B,D){return this.delegate={iterator:R(I),resultName:B,nextLoc:D},this.method==="next"&&(this.arg=void 0),v}},s}(n.exports);try{regeneratorRuntime=i}catch{Function("r","regeneratorRuntime = r")(i)}},function(n,r,o){var i=o(12),s=o(13);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1},l=(i(s,a),s.locals?s.locals:{});n.exports=l},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var f={};return function(w){if(f[w]===void 0){var S=document.querySelector(w);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}f[w]=S}return f[w]}}(),l=[];function c(f){for(var w=-1,S=0;S<l.length;S++)if(l[S].identifier===f){w=S;break}return w}function u(f,w){for(var S={},_=[],P=0;P<f.length;P++){var y=f[P],x=w.base?y[0]+w.base:y[0],T=S[x]||0,C="".concat(x," ").concat(T);S[x]=T+1;var A=c(C),R={css:y[1],media:y[2],sourceMap:y[3]};A!==-1?(l[A].references++,l[A].updater(R)):l.push({identifier:C,updater:g(R,w),references:1}),_.push(C)}return _}function d(f){var w=document.createElement("style"),S=f.attributes||{};if(S.nonce===void 0){var _=o.nc;_&&(S.nonce=_)}if(Object.keys(S).forEach(function(y){w.setAttribute(y,S[y])}),typeof f.insert=="function")f.insert(w);else{var P=a(f.insert||"head");if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");P.appendChild(w)}return w}var h,m=(h=[],function(f,w){return h[f]=w,h.filter(Boolean).join(`
`)});function p(f,w,S,_){var P=S?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(f.styleSheet)f.styleSheet.cssText=m(w,P);else{var y=document.createTextNode(P),x=f.childNodes;x[w]&&f.removeChild(x[w]),x.length?f.insertBefore(y,x[w]):f.appendChild(y)}}function v(f,w,S){var _=S.css,P=S.media,y=S.sourceMap;if(P?f.setAttribute("media",P):f.removeAttribute("media"),y&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(y))))," */")),f.styleSheet)f.styleSheet.cssText=_;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(_))}}var E=null,k=0;function g(f,w){var S,_,P;if(w.singleton){var y=k++;S=E||(E=d(w)),_=p.bind(null,S,y,!1),P=p.bind(null,S,y,!0)}else S=d(w),_=v.bind(null,S,w),P=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(S)};return _(f),function(x){if(x){if(x.css===f.css&&x.media===f.media&&x.sourceMap===f.sourceMap)return;_(f=x)}else P()}}n.exports=function(f,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var S=u(f=f||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var P=0;P<S.length;P++){var y=c(S[P]);l[y].references--}for(var x=u(_,w),T=0;T<S.length;T++){var C=c(S[T]);l[C].references===0&&(l[C].updater(),l.splice(C,1))}S=x}}}},function(n,r,o){(r=o(14)(!1)).push([n.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;

}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool .cdx-button {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-tool .cdx-button svg {
      height: auto;
      margin: 0 6px 0 0;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var m=(v=h,E=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),k="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(E),"/*# ".concat(k," */")),p=h.sources.map(function(g){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(g," */")});return[d].concat(p).concat([m]).join(`
`)}var v,E,k;return[d].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var m=0;m<a.length;m++){var p=[].concat(a[m]);c&&u[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,r,o){var i=o(4);n.exports=function(s){if(Array.isArray(s))return i(s)}},function(n,r){n.exports=function(o){if(typeof Symbol<"u"&&Symbol.iterator in Object(o))return Array.from(o)}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r){n.exports=function(o){if(Array.isArray(o))return o}},function(n,r){n.exports=function(o,i){if(typeof Symbol<"u"&&Symbol.iterator in Object(o)){var s=[],a=!0,l=!1,c=void 0;try{for(var u,d=o[Symbol.iterator]();!(a=(u=d.next()).done)&&(s.push(u.value),!i||s.length!==i);a=!0);}catch(h){l=!0,c=h}finally{try{a||d.return==null||d.return()}finally{if(l)throw c}}return s}}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,o){o.r(r),o.d(r,"default",function(){return y});var i=o(3),s=o.n(i),a=o(6),l=o.n(a),c=o(2),u=o.n(c),d=o(0),h=o.n(d);o(11);const m='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';var p=o(7),v=o.n(p);function E(x){var T,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=document.createElement(x);Array.isArray(C)?(T=R.classList).add.apply(T,v()(C)):C&&R.classList.add(C);for(var O in A)R[O]=A[O];return R}var k=function(){function x(T){var C=T.api,A=T.config,R=T.onSelectFile,O=T.readOnly;u()(this,x),this.api=C,this.config=A,this.onSelectFile=R,this.readOnly=O,this.nodes={wrapper:E("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:E("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:E("div",this.CSS.imagePreloader),caption:E("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return h()(x,[{key:"render",value:function(T){return T.file&&Object.keys(T.file).length!==0?this.toggleStatus(x.status.UPLOADING):this.toggleStatus(x.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var T=this,C=E("div",[this.CSS.button]);return C.innerHTML=this.config.buttonContent||"".concat(m," ").concat(this.api.i18n.t("Select an Image")),C.addEventListener("click",function(){T.onSelectFile()}),C}},{key:"showPreloader",value:function(T){this.nodes.imagePreloader.style.backgroundImage="url(".concat(T,")"),this.toggleStatus(x.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(x.status.EMPTY)}},{key:"fillImage",value:function(T){var C=this,A=/\.mp4$/.test(T)?"VIDEO":"IMG",R={src:T},O="load";A==="VIDEO"&&(R.autoplay=!0,R.loop=!0,R.muted=!0,R.playsinline=!0,O="loadeddata"),this.nodes.imageEl=E(A,this.CSS.imageEl,R),this.nodes.imageEl.addEventListener(O,function(){C.toggleStatus(x.status.FILLED),C.nodes.imagePreloader&&(C.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(T){this.nodes.caption&&(this.nodes.caption.innerHTML=T)}},{key:"toggleStatus",value:function(T){for(var C in x.status)Object.prototype.hasOwnProperty.call(x.status,C)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(x.status[C]),T===x.status[C])}},{key:"applyTune",value:function(T,C){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(T),C)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),x}(),g=o(8),f=o.n(g),w=o(1),S=o.n(w);function _(x){return x&&typeof x.then=="function"}var P=function(){function x(T){var C=T.config,A=T.onUpload,R=T.onError;u()(this,x),this.config=C,this.onUpload=A,this.onError=R}return h()(x,[{key:"uploadSelectedFile",value:function(T){var C=this,A=T.onPreview,R=function(O){var I=new FileReader;I.readAsDataURL(O),I.onload=function(B){A(B.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?S.a.selectFiles({accept:this.config.types}).then(function(O){R(O[0]);var I=C.config.uploader.uploadByFile(O[0]);return _(I)||console.warn("Custom uploader method uploadByFile should return a Promise"),I}):S.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(O){R(O[0])},fieldName:this.config.field}).then(function(O){return O.body})).then(function(O){C.onUpload(O)}).catch(function(O){C.onError(O)})}},{key:"uploadByUrl",value:function(T){var C,A=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?_(C=this.config.uploader.uploadByUrl(T))||console.warn("Custom uploader method uploadByUrl should return a Promise"):C=S.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:T},this.config.additionalRequestData),type:S.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(R){return R.body}),C.then(function(R){A.onUpload(R)}).catch(function(R){A.onError(R)})}},{key:"uploadByFile",value:function(T,C){var A,R=this,O=C.onPreview,I=new FileReader;if(I.readAsDataURL(T),I.onload=function(D){O(D.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")_(A=this.config.uploader.uploadByFile(T))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var B=new FormData;B.append(this.config.field,T),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(D){var L=f()(D,2),j=L[0],H=L[1];B.append(j,H)}),A=S.a.post({url:this.config.endpoints.byFile,data:B,type:S.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(D){return D.body})}A.then(function(D){R.onUpload(D)}).catch(function(D){R.onError(D)})}}]),x}(),y=function(){function x(C){var A=this,R=C.data,O=C.config,I=C.api,B=C.readOnly;u()(this,x),this.api=I,this.readOnly=B,this.config={endpoints:O.endpoints||"",additionalRequestData:O.additionalRequestData||{},additionalRequestHeaders:O.additionalRequestHeaders||{},field:O.field||"image",types:O.types||"image/*",captionPlaceholder:this.api.i18n.t(O.captionPlaceholder||"Caption"),buttonContent:O.buttonContent||"",uploader:O.uploader||void 0,actions:O.actions||[]},this.uploader=new P({config:this.config,onUpload:function(D){return A.onUpload(D)},onError:function(D){return A.uploadingFailed(D)}}),this.ui=new k({api:I,config:this.config,onSelectFile:function(){A.uploader.uploadSelectedFile({onPreview:function(D){A.ui.showPreloader(D)}})},readOnly:B}),this._data={},this.data=R}var T;return h()(x,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:m,title:"Image"}}},{key:"tunes",get:function(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}}]),h()(x,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(C){return C.file&&C.file.url}},{key:"save",value:function(){var C=this.ui.nodes.caption;return this._data.caption=C.innerHTML,this.data}},{key:"renderSettings",value:function(){var C=this;return x.tunes.concat(this.config.actions).map(function(A){return{icon:A.icon,label:C.api.i18n.t(A.title),name:A.name,toggle:A.toggle,isActive:C.data[A.name],onActivate:function(){typeof A.action!="function"?C.tuneToggled(A.name):A.action(A.name)}}})}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(T=l()(s.a.mark(function C(A){var R,O,I,B,D;return s.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:L.t0=A.type,L.next=L.t0==="tag"?3:L.t0==="pattern"?15:L.t0==="file"?18:21;break;case 3:if(R=A.detail.data,!/^blob:/.test(R.src)){L.next=13;break}return L.next=7,fetch(R.src);case 7:return O=L.sent,L.next=10,O.blob();case 10:return I=L.sent,this.uploadFile(I),L.abrupt("break",21);case 13:return this.uploadUrl(R.src),L.abrupt("break",21);case 15:return B=A.detail.data,this.uploadUrl(B),L.abrupt("break",21);case 18:return D=A.detail.file,this.uploadFile(D),L.abrupt("break",21);case 21:case"end":return L.stop()}},C,this)})),function(C){return T.apply(this,arguments)})},{key:"onUpload",value:function(C){C.success&&C.file?this.image=C.file:this.uploadingFailed("incorrect response: "+JSON.stringify(C))}},{key:"uploadingFailed",value:function(C){console.log("Image Tool: uploading failed because of",C),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(C){this.setTune(C,!this._data[C])}},{key:"setTune",value:function(C,A){var R=this;this._data[C]=A,this.ui.applyTune(C,A),C==="stretched"&&Promise.resolve().then(function(){var O=R.api.blocks.getCurrentBlockIndex();R.api.blocks.stretchBlock(O,A)}).catch(function(O){console.error(O)})}},{key:"uploadFile",value:function(C){var A=this;this.uploader.uploadByFile(C,{onPreview:function(R){A.ui.showPreloader(R)}})}},{key:"uploadUrl",value:function(C){this.ui.showPreloader(C),this.uploader.uploadByUrl(C)}},{key:"data",set:function(C){var A=this;this.image=C.file,this._data.caption=C.caption||"",this.ui.fillCaption(this._data.caption),x.tunes.forEach(function(R){var O=R.name,I=C[O]!==void 0&&(C[O]===!0||C[O]==="true");A.setTune(O,I)})},get:function(){return this._data}},{key:"image",set:function(C){this._data.file=C||{},C&&C.url&&this.ui.fillImage(C.url)}}],[{key:"pasteConfig",get:function(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}}]),x}();/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */}]).default})})(Fx);var Oj=Fx.exports;const Lj=mr(Oj);var Hx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(n,r,o){var i=o(1);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),m=d.sources.map(function(v){return"/*# sourceURL="+d.sourceRoot+v+" */"});return[u].concat(m).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),i.push(d))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(C){return document.querySelector(C)},u=function(C){var A={};return function(R){if(typeof R=="function")return R();if(A[R]===void 0){var O=c.call(this,R);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch{O=null}A[R]=O}return A[R]}}(),d=null,h=0,m=[],p=o(4);function v(C,A){for(var R=0;R<C.length;R++){var O=C[R],I=a[O.id];if(I){I.refs++;for(var B=0;B<I.parts.length;B++)I.parts[B](O.parts[B]);for(;B<O.parts.length;B++)I.parts.push(S(O.parts[B],A))}else{var D=[];for(B=0;B<O.parts.length;B++)D.push(S(O.parts[B],A));a[O.id]={id:O.id,refs:1,parts:D}}}}function E(C,A){for(var R=[],O={},I=0;I<C.length;I++){var B=C[I],D=A.base?B[0]+A.base:B[0],L={css:B[1],media:B[2],sourceMap:B[3]};O[D]?O[D].parts.push(L):R.push(O[D]={id:D,parts:[L]})}return R}function k(C,A){var R=u(C.insertInto);if(!R)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var O=m[m.length-1];if(C.insertAt==="top")O?O.nextSibling?R.insertBefore(A,O.nextSibling):R.appendChild(A):R.insertBefore(A,R.firstChild),m.push(A);else if(C.insertAt==="bottom")R.appendChild(A);else{if(typeof C.insertAt!="object"||!C.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=u(C.insertInto+" "+C.insertAt.before);R.insertBefore(A,I)}}function g(C){if(C.parentNode===null)return!1;C.parentNode.removeChild(C);var A=m.indexOf(C);A>=0&&m.splice(A,1)}function f(C){var A=document.createElement("style");return C.attrs.type===void 0&&(C.attrs.type="text/css"),w(A,C.attrs),k(C,A),A}function w(C,A){Object.keys(A).forEach(function(R){C.setAttribute(R,A[R])})}function S(C,A){var R,O,I,B;if(A.transform&&C.css){if(!(B=A.transform(C.css)))return function(){};C.css=B}if(A.singleton){var D=h++;R=d||(d=f(A)),O=y.bind(null,R,D,!1),I=y.bind(null,R,D,!0)}else C.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(R=function(L){var j=document.createElement("link");return L.attrs.type===void 0&&(L.attrs.type="text/css"),L.attrs.rel="stylesheet",w(j,L.attrs),k(L,j),j}(A),O=T.bind(null,R,A),I=function(){g(R),R.href&&URL.revokeObjectURL(R.href)}):(R=f(A),O=x.bind(null,R),I=function(){g(R)});return O(C),function(L){if(L){if(L.css===C.css&&L.media===C.media&&L.sourceMap===C.sourceMap)return;O(C=L)}else I()}}n.exports=function(C,A){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(A=A||{}).attrs=typeof A.attrs=="object"?A.attrs:{},A.singleton||typeof A.singleton=="boolean"||(A.singleton=l()),A.insertInto||(A.insertInto="head"),A.insertAt||(A.insertAt="bottom");var R=E(C,A);return v(R,A),function(O){for(var I=[],B=0;B<R.length;B++){var D=R[B];(L=a[D.id]).refs--,I.push(L)}for(O&&v(E(O,A),A),B=0;B<I.length;B++){var L;if((L=I[B]).refs===0){for(var j=0;j<L.parts.length;j++)L.parts[j]();delete a[L.id]}}}};var _,P=(_=[],function(C,A){return _[C]=A,_.filter(Boolean).join(`
`)});function y(C,A,R,O){var I=R?"":O.css;if(C.styleSheet)C.styleSheet.cssText=P(A,I);else{var B=document.createTextNode(I),D=C.childNodes;D[A]&&C.removeChild(D[A]),D.length?C.insertBefore(B,D[A]):C.appendChild(B)}}function x(C,A){var R=A.css,O=A.media;if(O&&C.setAttribute("media",O),C.styleSheet)C.styleSheet.cssText=R;else{for(;C.firstChild;)C.removeChild(C.firstChild);C.appendChild(document.createTextNode(R))}}function T(C,A,R){var O=R.css,I=R.sourceMap,B=A.convertToAbsoluteUrls===void 0&&I;(A.convertToAbsoluteUrls||B)&&(O=p(O)),I&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(I))))+" */");var D=new Blob([O],{type:"text/css"}),L=C.href;C.href=URL.createObjectURL(D),L&&URL.revokeObjectURL(L)}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,m){return m}).replace(/^'(.*)'$/,function(h,m){return m});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o.d(r,"default",function(){return a}),o(0);function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function s(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var a=function(){function l(h){var m=h.data,p=h.config,v=h.api,E=h.readOnly;(function(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=v,this.readOnly=E,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=p,this._data=this.normalizeData(m),this._element=this.getTag()}var c,u,d;return c=l,d=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(u=[{key:"normalizeData",value:function(h){var m={};return i(h)!=="object"&&(h={}),m.text=h.text||"",m.level=parseInt(h.level)||this.defaultLevel.number,m}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var h=this;return this.levels.map(function(m){return{icon:m.svg,label:h.api.i18n.t("Heading ".concat(m.number)),onActivate:function(){return h.setLevel(m.number)},closeOnActivate:!0,isActive:h.currentLevel.number===m.number}})}},{key:"setLevel",value:function(h){this.data={level:h,text:this.data.text}}},{key:"merge",value:function(h){var m={text:this.data.text+h.text,level:this.data.level};this.data=m}},{key:"validate",value:function(h){return h.text.trim()!==""}},{key:"save",value:function(h){return{text:h.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var h=document.createElement(this.currentLevel.tag);return h.innerHTML=this._data.text||"",h.classList.add(this._CSS.wrapper),h.contentEditable=this.readOnly?"false":"true",h.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),h}},{key:"onPaste",value:function(h){var m=h.detail.data,p=this.defaultLevel.number;switch(m.tagName){case"H1":p=1;break;case"H2":p=2;break;case"H3":p=3;break;case"H4":p=4;break;case"H5":p=5;break;case"H6":p=6}this._settings.levels&&(p=this._settings.levels.reduce(function(v,E){return Math.abs(E-p)<Math.abs(v-p)?E:v})),this.data={level:p,text:m.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(h){if(this._data=this.normalizeData(h),h.level!==void 0&&this._element.parentNode){var m=this.getTag();m.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(m,this._element),this._element=m}h.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var h=this,m=this.levels.find(function(p){return p.number===h._data.level});return m||(m=this.defaultLevel),m}},{key:"defaultLevel",get:function(){var h=this;if(this._settings.defaultLevel){var m=this.levels.find(function(p){return p.number===h._settings.defaultLevel});if(m)return m;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var h=this,m=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?m.filter(function(p){return h._settings.levels.includes(p.number)}):m}}])&&s(c.prototype,u),d&&s(c,d),l}()}]).default})})(Hx);var Mj=Hx.exports;const jj=mr(Mj);var zx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(n,r,o){var i=o(1);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),m=d.sources.map(function(v){return"/*# sourceURL="+d.sourceRoot+v+" */"});return[u].concat(m).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),i.push(d))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(y){var x={};return function(T){if(typeof T=="function")return T();if(x[T]===void 0){var C=(function(A){return document.querySelector(A)}).call(this,T);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}x[T]=C}return x[T]}}(),u=null,d=0,h=[],m=o(4);function p(y,x){for(var T=0;T<y.length;T++){var C=y[T],A=a[C.id];if(A){A.refs++;for(var R=0;R<A.parts.length;R++)A.parts[R](C.parts[R]);for(;R<C.parts.length;R++)A.parts.push(w(C.parts[R],x))}else{var O=[];for(R=0;R<C.parts.length;R++)O.push(w(C.parts[R],x));a[C.id]={id:C.id,refs:1,parts:O}}}}function v(y,x){for(var T=[],C={},A=0;A<y.length;A++){var R=y[A],O=x.base?R[0]+x.base:R[0],I={css:R[1],media:R[2],sourceMap:R[3]};C[O]?C[O].parts.push(I):T.push(C[O]={id:O,parts:[I]})}return T}function E(y,x){var T=c(y.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=h[h.length-1];if(y.insertAt==="top")C?C.nextSibling?T.insertBefore(x,C.nextSibling):T.appendChild(x):T.insertBefore(x,T.firstChild),h.push(x);else if(y.insertAt==="bottom")T.appendChild(x);else{if(typeof y.insertAt!="object"||!y.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var A=c(y.insertInto+" "+y.insertAt.before);T.insertBefore(x,A)}}function k(y){if(y.parentNode===null)return!1;y.parentNode.removeChild(y);var x=h.indexOf(y);x>=0&&h.splice(x,1)}function g(y){var x=document.createElement("style");return y.attrs.type===void 0&&(y.attrs.type="text/css"),f(x,y.attrs),E(y,x),x}function f(y,x){Object.keys(x).forEach(function(T){y.setAttribute(T,x[T])})}function w(y,x){var T,C,A,R;if(x.transform&&y.css){if(!(R=x.transform(y.css)))return function(){};y.css=R}if(x.singleton){var O=d++;T=u||(u=g(x)),C=P.bind(null,T,O,!1),A=P.bind(null,T,O,!0)}else y.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(I){var B=document.createElement("link");return I.attrs.type===void 0&&(I.attrs.type="text/css"),I.attrs.rel="stylesheet",f(B,I.attrs),E(I,B),B}(x),C=(function(I,B,D){var L=D.css,j=D.sourceMap,H=B.convertToAbsoluteUrls===void 0&&j;(B.convertToAbsoluteUrls||H)&&(L=m(L)),j&&(L+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(j))))+" */");var z=new Blob([L],{type:"text/css"}),Y=I.href;I.href=URL.createObjectURL(z),Y&&URL.revokeObjectURL(Y)}).bind(null,T,x),A=function(){k(T),T.href&&URL.revokeObjectURL(T.href)}):(T=g(x),C=(function(I,B){var D=B.css,L=B.media;if(L&&I.setAttribute("media",L),I.styleSheet)I.styleSheet.cssText=D;else{for(;I.firstChild;)I.removeChild(I.firstChild);I.appendChild(document.createTextNode(D))}}).bind(null,T),A=function(){k(T)});return C(y),function(I){if(I){if(I.css===y.css&&I.media===y.media&&I.sourceMap===y.sourceMap)return;C(y=I)}else A()}}n.exports=function(y,x){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(x=x||{}).attrs=typeof x.attrs=="object"?x.attrs:{},x.singleton||typeof x.singleton=="boolean"||(x.singleton=l()),x.insertInto||(x.insertInto="head"),x.insertAt||(x.insertAt="bottom");var T=v(y,x);return p(T,x),function(C){for(var A=[],R=0;R<T.length;R++){var O=T[R];(I=a[O.id]).refs--,A.push(I)}for(C&&p(v(C,x),x),R=0;R<A.length;R++){var I;if((I=A[R]).refs===0){for(var B=0;B<I.parts.length;B++)I.parts[B]();delete a[I.id]}}}};var S,_=(S=[],function(y,x){return S[y]=x,S.filter(Boolean).join(`
`)});function P(y,x,T,C){var A=T?"":C.css;if(y.styleSheet)y.styleSheet.cssText=_(x,A);else{var R=document.createTextNode(A),O=y.childNodes;O[x]&&y.removeChild(O[x]),O.length?y.insertBefore(R,O[x]):y.appendChild(R)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,m){return m}).replace(/^'(.*)'$/,function(h,m){return m});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o(0);function i(c){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(c)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(c,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function a(c,u,d){return u&&s(c.prototype,u),d&&s(c,d),c}o.d(r,"default",function(){return l});var l=function(){function c(u){var d=u.data,h=u.config,m=u.api,p=u.readOnly;(function(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")})(this,c);var v=c.ALIGNMENTS,E=c.DEFAULT_ALIGNMENT;this.api=m,this.readOnly=p,this.quotePlaceholder=h.quotePlaceholder||c.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=h.captionPlaceholder||c.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:d.text||"",caption:d.caption||"",alignment:Object.values(v).includes(d.alignment)&&d.alignment||h.defaultAlignment||E}}return a(c,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return c.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(u){return u.caption?"".concat(u.text," — ").concat(u.caption):u.text}}}}]),a(c,[{key:"render",value:function(){var u=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),d=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),h=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return d.dataset.placeholder=this.quotePlaceholder,h.dataset.placeholder=this.captionPlaceholder,u.appendChild(d),u.appendChild(h),u}},{key:"save",value:function(u){var d=u.querySelector(".".concat(this.CSS.text)),h=u.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:d.innerHTML,caption:h.innerHTML})}},{key:"renderSettings",value:function(){var u=this;return this.settings.map(function(d){return{icon:d.icon,label:u.api.i18n.t("Align ".concat((h=d.name,h[0].toUpperCase()+h.substr(1)))),onActivate:function(){return u._toggleTune(d.name)},isActive:u.data.alignment===d.name,closeOnActivate:!0};var h})}},{key:"_toggleTune",value:function(u){this.data.alignment=u}},{key:"_make",value:function(u){var d,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=document.createElement(u);Array.isArray(h)?(d=p.classList).add.apply(d,i(h)):h&&p.classList.add(h);for(var v in m)p[v]=m[v];return p}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),c}()}]).default})})(zx);var Dj=zx.exports;const Uj=mr(Dj);var Vx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(n,r,o){var i=o(1);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.cdx-marker {
  background: rgba(245,235,111,0.29);
  padding: 3px 0;
}`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),m=d.sources.map(function(v){return"/*# sourceURL="+d.sourceRoot+v+" */"});return[u].concat(m).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),i.push(d))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(y){var x={};return function(T){if(typeof T=="function")return T();if(x[T]===void 0){var C=(function(A){return document.querySelector(A)}).call(this,T);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}x[T]=C}return x[T]}}(),u=null,d=0,h=[],m=o(4);function p(y,x){for(var T=0;T<y.length;T++){var C=y[T],A=a[C.id];if(A){A.refs++;for(var R=0;R<A.parts.length;R++)A.parts[R](C.parts[R]);for(;R<C.parts.length;R++)A.parts.push(w(C.parts[R],x))}else{var O=[];for(R=0;R<C.parts.length;R++)O.push(w(C.parts[R],x));a[C.id]={id:C.id,refs:1,parts:O}}}}function v(y,x){for(var T=[],C={},A=0;A<y.length;A++){var R=y[A],O=x.base?R[0]+x.base:R[0],I={css:R[1],media:R[2],sourceMap:R[3]};C[O]?C[O].parts.push(I):T.push(C[O]={id:O,parts:[I]})}return T}function E(y,x){var T=c(y.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=h[h.length-1];if(y.insertAt==="top")C?C.nextSibling?T.insertBefore(x,C.nextSibling):T.appendChild(x):T.insertBefore(x,T.firstChild),h.push(x);else if(y.insertAt==="bottom")T.appendChild(x);else{if(typeof y.insertAt!="object"||!y.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var A=c(y.insertInto+" "+y.insertAt.before);T.insertBefore(x,A)}}function k(y){if(y.parentNode===null)return!1;y.parentNode.removeChild(y);var x=h.indexOf(y);x>=0&&h.splice(x,1)}function g(y){var x=document.createElement("style");return y.attrs.type===void 0&&(y.attrs.type="text/css"),f(x,y.attrs),E(y,x),x}function f(y,x){Object.keys(x).forEach(function(T){y.setAttribute(T,x[T])})}function w(y,x){var T,C,A,R;if(x.transform&&y.css){if(!(R=x.transform(y.css)))return function(){};y.css=R}if(x.singleton){var O=d++;T=u||(u=g(x)),C=P.bind(null,T,O,!1),A=P.bind(null,T,O,!0)}else y.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(I){var B=document.createElement("link");return I.attrs.type===void 0&&(I.attrs.type="text/css"),I.attrs.rel="stylesheet",f(B,I.attrs),E(I,B),B}(x),C=(function(I,B,D){var L=D.css,j=D.sourceMap,H=B.convertToAbsoluteUrls===void 0&&j;(B.convertToAbsoluteUrls||H)&&(L=m(L)),j&&(L+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(j))))+" */");var z=new Blob([L],{type:"text/css"}),Y=I.href;I.href=URL.createObjectURL(z),Y&&URL.revokeObjectURL(Y)}).bind(null,T,x),A=function(){k(T),T.href&&URL.revokeObjectURL(T.href)}):(T=g(x),C=(function(I,B){var D=B.css,L=B.media;if(L&&I.setAttribute("media",L),I.styleSheet)I.styleSheet.cssText=D;else{for(;I.firstChild;)I.removeChild(I.firstChild);I.appendChild(document.createTextNode(D))}}).bind(null,T),A=function(){k(T)});return C(y),function(I){if(I){if(I.css===y.css&&I.media===y.media&&I.sourceMap===y.sourceMap)return;C(y=I)}else A()}}n.exports=function(y,x){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(x=x||{}).attrs=typeof x.attrs=="object"?x.attrs:{},x.singleton||typeof x.singleton=="boolean"||(x.singleton=l()),x.insertInto||(x.insertInto="head"),x.insertAt||(x.insertAt="bottom");var T=v(y,x);return p(T,x),function(C){for(var A=[],R=0;R<T.length;R++){var O=T[R];(I=a[O.id]).refs--,A.push(I)}for(C&&p(v(C,x),x),R=0;R<A.length;R++){var I;if((I=A[R]).refs===0){for(var B=0;B<I.parts.length;B++)I.parts[B]();delete a[I.id]}}}};var S,_=(S=[],function(y,x){return S[y]=x,S.filter(Boolean).join(`
`)});function P(y,x,T,C){var A=T?"":C.css;if(y.styleSheet)y.styleSheet.cssText=_(x,A);else{var R=document.createTextNode(A),O=y.childNodes;O[x]&&y.removeChild(O[x]),O.length?y.insertBefore(R,O[x]):y.appendChild(R)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,m){return m}).replace(/^'(.*)'$/,function(h,m){return m});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o(0);function i(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&i(l.prototype,c),u&&i(l,u),l}o.d(r,"default",function(){return a});var a=function(){function l(c){var u=c.api;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=u,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(l,null,[{key:"CSS",get:function(){return"cdx-marker"}}]),s(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var u=this.api.selection.findParentTag(this.tag,l.CSS);u?this.unwrap(u):this.wrap(c)}}},{key:"wrap",value:function(c){var u=document.createElement(this.tag);u.classList.add(l.CSS),u.appendChild(c.extractContents()),c.insertNode(u),this.api.selection.expandToTag(u)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var u=window.getSelection(),d=u.getRangeAt(0),h=d.extractContents();c.parentNode.removeChild(c),d.insertNode(h),u.removeAllRanges(),u.addRange(d)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{mark:{class:l.CSS}}}}]),l}()}]).default})})(Vx);var Fj=Vx.exports;const Hj=mr(Fj);var $x={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(n,r,o){var i=o(1);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.inline-code {
  background: rgba(250, 239, 240, 0.78);
  color: #b44437;
  padding: 3px 4px;
  border-radius: 5px;
  margin: 0 1px;
  font-family: inherit;
  font-size: 0.86em;
  font-weight: 500;
  letter-spacing: 0.3px;
}
`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),m=d.sources.map(function(v){return"/*# sourceURL="+d.sourceRoot+v+" */"});return[u].concat(m).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),i.push(d))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(y){var x={};return function(T){if(typeof T=="function")return T();if(x[T]===void 0){var C=(function(A){return document.querySelector(A)}).call(this,T);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}x[T]=C}return x[T]}}(),u=null,d=0,h=[],m=o(4);function p(y,x){for(var T=0;T<y.length;T++){var C=y[T],A=a[C.id];if(A){A.refs++;for(var R=0;R<A.parts.length;R++)A.parts[R](C.parts[R]);for(;R<C.parts.length;R++)A.parts.push(w(C.parts[R],x))}else{var O=[];for(R=0;R<C.parts.length;R++)O.push(w(C.parts[R],x));a[C.id]={id:C.id,refs:1,parts:O}}}}function v(y,x){for(var T=[],C={},A=0;A<y.length;A++){var R=y[A],O=x.base?R[0]+x.base:R[0],I={css:R[1],media:R[2],sourceMap:R[3]};C[O]?C[O].parts.push(I):T.push(C[O]={id:O,parts:[I]})}return T}function E(y,x){var T=c(y.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=h[h.length-1];if(y.insertAt==="top")C?C.nextSibling?T.insertBefore(x,C.nextSibling):T.appendChild(x):T.insertBefore(x,T.firstChild),h.push(x);else if(y.insertAt==="bottom")T.appendChild(x);else{if(typeof y.insertAt!="object"||!y.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var A=c(y.insertInto+" "+y.insertAt.before);T.insertBefore(x,A)}}function k(y){if(y.parentNode===null)return!1;y.parentNode.removeChild(y);var x=h.indexOf(y);x>=0&&h.splice(x,1)}function g(y){var x=document.createElement("style");return y.attrs.type===void 0&&(y.attrs.type="text/css"),f(x,y.attrs),E(y,x),x}function f(y,x){Object.keys(x).forEach(function(T){y.setAttribute(T,x[T])})}function w(y,x){var T,C,A,R;if(x.transform&&y.css){if(!(R=x.transform(y.css)))return function(){};y.css=R}if(x.singleton){var O=d++;T=u||(u=g(x)),C=P.bind(null,T,O,!1),A=P.bind(null,T,O,!0)}else y.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(I){var B=document.createElement("link");return I.attrs.type===void 0&&(I.attrs.type="text/css"),I.attrs.rel="stylesheet",f(B,I.attrs),E(I,B),B}(x),C=(function(I,B,D){var L=D.css,j=D.sourceMap,H=B.convertToAbsoluteUrls===void 0&&j;(B.convertToAbsoluteUrls||H)&&(L=m(L)),j&&(L+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(j))))+" */");var z=new Blob([L],{type:"text/css"}),Y=I.href;I.href=URL.createObjectURL(z),Y&&URL.revokeObjectURL(Y)}).bind(null,T,x),A=function(){k(T),T.href&&URL.revokeObjectURL(T.href)}):(T=g(x),C=(function(I,B){var D=B.css,L=B.media;if(L&&I.setAttribute("media",L),I.styleSheet)I.styleSheet.cssText=D;else{for(;I.firstChild;)I.removeChild(I.firstChild);I.appendChild(document.createTextNode(D))}}).bind(null,T),A=function(){k(T)});return C(y),function(I){if(I){if(I.css===y.css&&I.media===y.media&&I.sourceMap===y.sourceMap)return;C(y=I)}else A()}}n.exports=function(y,x){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(x=x||{}).attrs=typeof x.attrs=="object"?x.attrs:{},x.singleton||typeof x.singleton=="boolean"||(x.singleton=l()),x.insertInto||(x.insertInto="head"),x.insertAt||(x.insertAt="bottom");var T=v(y,x);return p(T,x),function(C){for(var A=[],R=0;R<T.length;R++){var O=T[R];(I=a[O.id]).refs--,A.push(I)}for(C&&p(v(C,x),x),R=0;R<A.length;R++){var I;if((I=A[R]).refs===0){for(var B=0;B<I.parts.length;B++)I.parts[B]();delete a[I.id]}}}};var S,_=(S=[],function(y,x){return S[y]=x,S.filter(Boolean).join(`
`)});function P(y,x,T,C){var A=T?"":C.css;if(y.styleSheet)y.styleSheet.cssText=_(x,A);else{var R=document.createTextNode(A),O=y.childNodes;O[x]&&y.removeChild(O[x]),O.length?y.insertBefore(R,O[x]):y.appendChild(R)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,m){return m}).replace(/^'(.*)'$/,function(h,m){return m});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o(0);function i(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&i(l.prototype,c),u&&i(l,u),l}o.d(r,"default",function(){return a});var a=function(){function l(c){var u=c.api;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=u,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(l,null,[{key:"CSS",get:function(){return"inline-code"}}]),s(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var u=this.api.selection.findParentTag(this.tag,l.CSS);u?this.unwrap(u):this.wrap(c)}}},{key:"wrap",value:function(c){var u=document.createElement(this.tag);u.classList.add(l.CSS),u.appendChild(c.extractContents()),c.insertNode(u),this.api.selection.expandToTag(u)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var u=window.getSelection(),d=u.getRangeAt(0),h=d.extractContents();c.parentNode.removeChild(c),d.insertNode(h),u.removeAllRanges(),u.addRange(d)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{code:{class:l.CSS}}}}]),l}()}]).default})})($x);var zj=$x.exports;const Vj=mr(zj),$j=t=>Promise((e,n)=>{try{e(t)}catch(r){n(r)}}).then(e=>({success:1,file:{url:e}})),Wj=t=>tp(t).then(e=>{if(e)return{success:1,file:{url:e}}}),Kj={embed:Nj,list:{class:Bj,inlineToolbar:!0},image:{class:Lj,config:{uploader:{uploadByUrl:$j,uploadByFile:Wj}}},header:{class:jj,config:{placeholder:"Type Heading...",levels:[2,3],defaultLevel:2}},quote:{class:Uj,inlineToolbar:!0},marker:Hj,inlineCode:Vj};cx(zw);const qj=()=>{let{blog:t,blog:{title:e,banner:n,content:r,tags:o,des:i,author:s},setBlog:a,textEditor:l,setTextEditor:c,setEditorState:u}=N.useContext(Sc),{userAuth:{access_token:d}}=N.useContext(Be),{theme:h}=N.useContext(_c),{blog_id:m}=ti(),p=ei();N.useEffect(()=>{l.isReady||c(new Aj({holderId:"textEditor",data:Array.isArray(r)?r[0]:r,tools:Kj,placeholder:"Let's write an awesome story"}))},[]);const v=async S=>{let _=S.target.files[0];if(_){let P=W.loading("Uploading....");tp(_).then(y=>{y&&(W.dismiss(P),W.success("Uploaded 👍"),a({...t,banner:y}))}).catch(y=>(W.dismiss(P),W.error(y)))}},E=S=>{S.keyCode==13&&S.preventDefault()},k=S=>{let _=S.target;console.log(_.scrollHeight),_.style.height="auto",_.style.height=_.scrollHeight+"px",a({...t,title:_.value})},g=S=>{let _=S.target;_.src=h=="light"?PO:AO},f=()=>{if(!n)return W.error("Upload a blog banner to publish it");if(!e)return W.error("Write blog title to publish it");l.isReady&&l.save().then(S=>{if(S.blocks.length)a({...t,content:S}),u("publish");else return W.error("Write something in your blog to publish it")}).catch(S=>{console.log(S)})},w=S=>{if(S.target.className.includes("disable"))return;if(!e.length)return W.error("Write blog title before saving it as draft");let _=W.loading("Saving Draft....");S.target.classList.add("disable"),l.isReady&&l.save().then(P=>{let y={title:e,banner:n,des:i,content:P,tags:o,draft:!0};se.post("https://blogging-website-server-kcx1.onrender.com/create-blog",{...y,id:m},{headers:{Authorization:`Bearer ${d}`}}).then(()=>{S.target.classList.remove("disable"),W.dismiss(_),W.success("Saved 👍"),setTimeout(()=>{p("/dashboard/blogs?tab=draft")},500)}).catch(({response:x})=>(S.target.classList.remove("disable"),W.dismiss(_),W.error(x.data.error)))})};return b.jsxs(b.Fragment,{children:[b.jsxs("nav",{className:"navbar",children:[b.jsx(oe,{to:"/",className:"flex-none w-10",children:b.jsx("img",{src:h=="light"?sb:ab})}),b.jsx("p",{className:"max-md:hidden text-black line-clamp-1 w-full text-2xl",children:e.length?e:"New Blog"}),b.jsxs("div",{className:"flex gap-4 ml-auto ",children:[b.jsx("button",{className:"btn-dark py-2 ",onClick:f,children:"Publish"}),b.jsx("button",{className:"btn-light py-2 ",onClick:w,children:"Save Draft"})]})]}),b.jsx(xr,{}),b.jsx(Te,{children:b.jsx("section",{children:b.jsxs("div",{className:"mx-auto max-w-[900px] w-full",children:[b.jsx("div",{className:"relative aspect-video hover:opacity-80 bg-white border-4 border-grey",children:b.jsxs("label",{htmlFor:"uploadBanner",children:[b.jsx("img",{src:n,className:"z-20",onError:g}),b.jsx("input",{id:"uploadBanner",type:"file",accept:".png, .jpg, .jpeg",hidden:!0,onChange:v})]})}),b.jsx("textarea",{defaultValue:e,placeholder:"Blog Title",className:"text-4xl font-medium w-full h-20 outline-none resize-none mt-10 leading-tight placeholder:opacity-40 bg-white",onKeyDown:E,onChange:k}),b.jsx("hr",{className:"w-full opacity-10 my-5"}),b.jsx("div",{id:"textEditor",className:"font-gelasio "})]})})})]})},Gj=({tag:t,tagIndex:e})=>{let{blog:n,blog:{tags:r},setBlog:o}=N.useContext(Sc);const i=l=>{r=r.filter(c=>c!=t),o({...n,tags:r})},s=l=>{if(l.keyCode==13||l.keycode==188){l.preventDefault();let c=l.target.innerText;r[e]=c,o({...n,tags:r}),l.target.setAttribute("contentEditable",!1)}},a=l=>{l.target.setAttribute("contentEditable",!0),l.target.focus()};return b.jsxs("div",{className:"relative p-2 mt-2 mr-2 px-5 bg-white rounded-full inline-block hover:bg-opacity-50 pr-10",children:[b.jsx("p",{className:"outline-none",onKeyDown:s,onClick:a,children:t}),b.jsx("button",{className:"mt-[2px] rounded-full absolute right-3 top-1/2 -translate-y-1/2",onClick:i,children:b.jsx("i",{className:"fi fi-br-cross text-sm pointer-events-none"})})]})},Yj=()=>{let t=200,e=10,{blog_id:n}=ti(),{blog:r,blog:{title:o,banner:i,tags:s,des:a,content:l},setEditorState:c,setBlog:u}=N.useContext(Sc),{userAuth:{access_token:d}}=N.useContext(Be),h=ei();const m=()=>{c("editor")},p=f=>{let w=f.target;u({...r,title:w.value})},v=f=>{let w=f.target;u({...r,des:w.value})},E=f=>{f.keyCode==13&&f.preventDefault()},k=f=>{if(f.keyCode==13||f.keyCode==188){f.preventDefault();let w=f.target.value;s.length<e?!s.includes(w)&&w.length&&u({...r,tags:[...s,w]}):W.error(`You can add max ${e} tags`),f.target.value=""}},g=f=>{if(f.target.className.includes("disable"))return;if(!o.length)return W.error("Write blog title before publishing");if(a.lenght==0)return W.error(`Write a description about your blog within ${t} characters`);if(s.lenght==0)return W.error("Enter at least 1 tag to help us rank your blog");let w=W.loading("publishing....");f.target.classList.add("disable");let S={title:o,banner:i,des:a,content:l,tags:s,draft:!1};se.post("https://blogging-website-server-kcx1.onrender.com/create-blog",{...S,id:n},{headers:{Authorization:`Bearer ${d}`}}).then(()=>{f.target.classList.remove("disable"),W.dismiss(w),W.success("Published 👍"),setTimeout(()=>{h("/dashboard/blogs")},500)}).catch(({response:_})=>(f.target.classList.remove("disable"),W.dismiss(w),W.error(_.data.error)))};return b.jsx(Te,{children:b.jsxs("section",{className:"w-screen min-h-screen grid items-center lg:grid-cols-2 py-16 lg:gap-4",children:[b.jsx(xr,{}),b.jsx("button",{className:"w-12 h-12 absolute right-[5vw] z-10 top-[5%] lg:top-[10%]",onClick:m,children:b.jsx("i",{className:"fi fi-br-cross"})}),b.jsxs("div",{className:"max-w-[550px] center",children:[b.jsx("p",{className:"text-dark-grey mb-1",children:"Preview"}),b.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden bg-grey mt-4",children:b.jsx("img",{src:i})}),b.jsx("h1",{className:"text-4xl font-medium mt-2 leading-tight line-clamp-2",children:o}),b.jsx("p",{className:" font-gelasio line-clamp-2 text-xl leading-7 mt-4",children:a})]}),b.jsxs("div",{className:"border-grey lg:border-1 lg:pl-8",children:[b.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Blog Title"}),b.jsx("input",{type:"text",placeholder:"Blog Title",defaultValue:o,className:"input-box pl-4",onChange:p}),b.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Short description about your blog"}),b.jsx("textarea",{maxLength:t,defaultValue:a,className:"h-40 resize-none leading-7 input-box pl-4",onChange:v,onKeyDown:E}),b.jsxs("p",{className:"mt-1 text-dark-grey text-sm text-right",children:[t-a.length," character left "]}),b.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Topics - ( Helps in searching and ranking your blog post )"}),b.jsxs("div",{className:"relative input-box pl-2 py-2 pb-4",children:[b.jsx("input",{type:"text",placeholder:"Topic",className:"sticky input-box bg-white top-0 left-0 pl-4 mb-3 focus:bg-white",onKeyDown:k}),s.map((f,w)=>b.jsx(Gj,{tag:f,tagIndex:w},w))]}),b.jsxs("p",{className:"mt-1 mb-4 text-dark-grey text-right",children:[e-s.length," Tags left "]}),b.jsx("button",{className:"btn-dark px-8",onClick:g,children:"Publish"})]})]})})},vt=()=>b.jsx("div",{className:"w-12 mx-auto my-8",children:b.jsxs("svg",{"aria-hidden":"true",className:"w-12 h-12 mr-2 text-white animate-spin fill-dark-grey",viewBox:"0 0 100 101",fill:"none",children:[b.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),b.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}),Xj={title:"",banner:"",content:[],tags:[],des:"",author:{personal_info:{}}},Sc=N.createContext({}),Nv=()=>{let{blog_id:t}=ti();const[e,n]=N.useState(Xj),[r,o]=N.useState("editor"),[i,s]=N.useState({isReady:!1}),[a,l]=N.useState(!0);let{userAuth:{access_token:c}}=N.useContext(Be);return N.useEffect(()=>{if(!t)return l(!1);se.post("https://blogging-website-server-kcx1.onrender.com/get-blog",{blog_id:t,draft:!0,mode:"edit"}).then(({data:{blog:u}})=>{n(u),l(!1)}).catch(u=>{n(null),l(!1)})},[]),b.jsx(Sc.Provider,{value:{blog:e,setBlog:n,editorState:r,setEditorState:o,textEditor:i,setTextEditor:s},children:c===null?b.jsx(pf,{to:"/signin"}):a?b.jsx(vt,{}):r=="editor"?b.jsx(qj,{}):b.jsx(Yj,{})})};let da,Ua;const Ec=({routes:t,defaultHidden:e=[],defaultActiveIndex:n=0,children:r})=>{da=N.useRef(),Ua=N.useRef();let[o,i]=N.useState(n),[s,a]=N.useState(!1),[l,c]=N.useState(window.innerWidth);const u=(d,h)=>{let{offsetWidth:m,offsetLeft:p}=d;da.current.style.width=m+"px",da.current.style.left=p+"px",i(h)};return N.useEffect(()=>{l>766&&o!=n&&u(Ua.current,n),s||window.addEventListener("resize",()=>{s||a(!0),c(window.innerWidth)})},[l]),b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"relative mb-8 bg-white border-b border-grey flex flex-nowrap overflow-x-auto",children:[t.map((d,h)=>b.jsx("button",{ref:h==n?Ua:null,className:"p-4 px-5 capitalize "+(o==h?"text-black ":"text-dark-grey ")+(e.includes(d)?" md:hidden ":""),onClick:m=>{u(m.target,h)},children:d},h)),b.jsx("hr",{ref:da,className:"absolute bottom-0 duration-300"})]}),Array.isArray(r)?r[o]:r]})};let Wx=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];const si=t=>{let e=new Date(t);return`${e.getDate()} ${Wx[e.getMonth()]}`},Jj=t=>{let e=new Date(t);return`${e.getDate()} ${Wx[e.getMonth()]} ${e.getFullYear()}`},Cc=({content:t,author:e})=>{let{publishedAt:n,tags:r,title:o,des:i,banner:s,activity:{total_likes:a},blog_id:l}=t,{fullname:c,profile_img:u,username:d}=e;return b.jsxs(oe,{to:`/blog/${l}`,className:"flex gap-8 items-center border-b border-grey pb-5 mb-4",children:[b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"flex gap-2 items-center mb-7",children:[b.jsx("img",{src:u,className:"w-6 h-6 rounded-full"}),b.jsxs("p",{className:"line-clamp-1",children:[c,"@",d]}),b.jsx("p",{className:"min-w-fit",children:si(n)})]}),b.jsx("h1",{className:"blog-title",children:o}),b.jsx("p",{className:"my-3 text-xl font-gelasio leading-7 max-sm:hidden md:max-[1100px]:hidden line-clamp-2",children:i}),b.jsxs("div",{className:"flex gap-4 mt-7",children:[b.jsx("span",{className:"btn-light py-1 px-4",children:r[0]}),b.jsxs("span",{className:"ml-3 flex items-center gap-2 text-dark-grey",children:[b.jsx("i",{className:"fi fi-rr-heart text-xl"}),a]})]})]}),b.jsx("div",{className:"h-28 aspect-square bg-grey ",children:b.jsx("img",{src:s,className:"w-full h-full aspect-square object-cover rounded-lg"})})]})},Rv=({blog:t,index:e})=>{let{title:n,blog_id:r,author:{personal_info:{fullname:o,username:i,profile_img:s}},publishedAt:a}=t;return b.jsxs(oe,{to:`/blog/${r}`,className:"flex gap-5 mb-8",children:[b.jsx("h1",{className:"blog-index",children:e<10?"0"+(e+1):e}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex gap-2 items-center mb-7",children:[b.jsx("img",{src:s,className:"w-6 h-6 rounded-full"}),b.jsxs("p",{className:"line-clamp-1",children:[o,"@",i]}),b.jsx("p",{className:"min-w-fit",children:si(a)})]}),b.jsx("h1",{className:"blog-title",children:n})]})]})},Zt=({message:t})=>b.jsx("div",{className:"text-center w-full p-4 rounded-full bg-grey/50 mt-4",children:b.jsx("p",{children:t})}),qo=async({create_new_arr:t=!1,state:e,data:n,page:r,countRoute:o,data_to_send:i={},user:s=void 0})=>{let a,l={};return s&&(l.headers={Authorization:`Bearer ${s}`}),e!=null&&!t?a={...e,results:[...e.results,...n],page:r}:await se.post("https://blogging-website-server-kcx1.onrender.com"+o,i,l).then(({data:{totalDocs:c}})=>{a={results:n,page:1,totalDocs:c}}).catch(c=>{console.log(c)}),a},Go=({state:t,fetchDataFun:e,additionalParams:n})=>{if(t!=null&&t.totalDocs>t.results.length)return b.jsx("button",{onClick:()=>e({...n,page:t.page+1}),className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:"Load more"})},Qj=()=>{let[t,e]=N.useState(null),[n,r]=N.useState(null),[o,i]=N.useState("home"),s=["artificial intelligence","cooking","travel","fitness","technology","vr","photography","sustainable","crypto","health","cricket"];const a=({page:d=1})=>{se.post("https://blogging-website-server-kcx1.onrender.com/latest-blogs",{page:d}).then(async({data:h})=>{let m=await qo({state:t,data:h.blogs,page:d,countRoute:"/all-latest-blogs-count"});e(m)}).catch(h=>{console.log(h)})},l=()=>{se.get("https://blogging-website-server-kcx1.onrender.com/tranding-blogs").then(({data:d})=>{r(d.blogs)}).catch(d=>{console.log(d)})},c=d=>{let h=d.target.innerText.toLowerCase();if(e(null),o==h){i("home");return}i(h)},u=({page:d=1})=>{se.post("https://blogging-website-server-kcx1.onrender.com/search-blogs",{tag:o,page:d}).then(async({data:h})=>{let m=await qo({state:t,data:h.blogs,page:d,countRoute:"/search-blogs-count",data_to_send:{tag:o}});e(m)}).catch(h=>{console.log(h)})};return N.useEffect(()=>{Ua.current.click(),o=="home"?a({page:1}):u({page:1}),n||l()},[o]),b.jsx(Te,{children:b.jsxs("section",{className:"h-cover flex justify-center gap-10",children:[b.jsx("div",{className:"w-full",children:b.jsxs(Ec,{routes:[o,"trending blogs"],defaultHidden:["trending blogs"],children:[b.jsxs(b.Fragment,{children:[t==null?b.jsx(vt,{}):t.results.length?t.results.map((d,h)=>b.jsx(Te,{transition:{duration:1,delay:h*.1},children:b.jsx(Cc,{content:d,author:d.author.personal_info})},h)):b.jsx(Zt,{message:"No blogs published"}),b.jsx(Go,{state:t,fetchDataFun:o=="home"?a:u})]}),n==null?b.jsx(vt,{}):n.length?n.map((d,h)=>b.jsx(Te,{transition:{duration:1,delay:h*.1},children:b.jsx(Rv,{blog:d,index:h})},h)):b.jsx(Zt,{message:"No tranding blogs"})]})}),b.jsx("div",{className:"min-w-[40%] lg:min-w-[400px] max-w-min border-l border-grey pl-8 pt-3 max-md:hidden",children:b.jsxs("div",{className:"flex flex-col gap-10",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-medium text-xl mb-8",children:"Stories from all interests"}),b.jsx("div",{className:"flex gap-3 flex-wrap",children:s.map((d,h)=>b.jsx("button",{onClick:c,className:"tag "+(o==d?" bg-black text-white ":" "),children:d},h))})]}),b.jsxs("div",{children:[b.jsxs("h1",{className:"font-medium text-xl mb-8",children:["trending ",b.jsx("i",{className:"fi fi-rr-arrow-trend-up"})]}),n==null?b.jsx(vt,{}):n.length?n.map((d,h)=>b.jsx(Te,{transition:{duration:1,delay:h*.1},children:b.jsx(Rv,{blog:d,index:h})},h)):b.jsx(Zt,{message:"No blogs published"})]})]})})]})})},Zj=({user:t})=>{let{personal_info:{fullname:e,username:n,profile_img:r}}=t;return b.jsxs(oe,{to:`/user/${n}`,className:"flex gap-5 items-center mb-5",children:[b.jsx("img",{src:r,className:"w-14 h-14 rounded-full overflow-hidden"}),b.jsxs("div",{children:[b.jsx("h1",{className:"font-medium text-xl line-clamp-2",children:e}),b.jsxs("p",{className:"text-dark-grey",children:["@",n]})]})]})},eD=()=>{let{query:t}=ti(),[e,n]=N.useState(null),[r,o]=N.useState(null);const i=({page:c=1,create_new_arr:u=!1})=>{se.post("https://blogging-website-server-kcx1.onrender.com/search-blogs",{query:t,page:c}).then(async({data:d})=>{let h=await qo({state:e,data:d.blogs,page:c,countRoute:"/search-blogs-count",data_to_send:{query:t},create_new_arr:u});n(h)}).catch(d=>{console.log(d)})},s=()=>{se.post("https://blogging-website-server-kcx1.onrender.com/search-users",{query:t}).then(({data:{users:c}})=>{o(c)})},a=()=>{n(null),o(null)};N.useEffect(()=>{a(),i({page:1,create_new_arr:!0}),s()},[t]);const l=()=>b.jsx(b.Fragment,{children:r==null?b.jsx(vt,{}):r.length?r.map((c,u)=>b.jsx(Te,{transition:{duration:1,delay:u*.08},children:b.jsx(Zj,{user:c})},u)):b.jsx(Zt,{message:"No user found"})});return b.jsxs("section",{className:"h-cover flex justify-center gap-10",children:[b.jsx("div",{className:"w-full",children:b.jsxs(Ec,{routes:[`Search Reasults from "${t}"`,"Accounts Matched"],defaultHidden:["Accounts Matched"],children:[b.jsxs(b.Fragment,{children:[e==null?b.jsx(vt,{}):e.results.length?e.results.map((c,u)=>b.jsx(Te,{transition:{duration:1,delay:u*.1},children:b.jsx(Cc,{content:c,author:c.author.personal_info})},u)):b.jsx(Zt,{message:"No blogs published"}),b.jsx(Go,{state:e,fetchDataFun:i})]}),b.jsx(l,{})]})}),b.jsxs("div",{className:"min-w-[40%] lg:min-w-[350px] max-w-min border-l border-grey pl-8 pt-3 max-md:hidden",children:[b.jsxs("h1",{className:"font-medium text-xl mb-8",children:["User related to search",b.jsx("i",{className:"fi fi-rr-user mt-1 ml-1"})]}),b.jsx(l,{})]})]})},tD="/assets/404-light-cbeafc35.png",nD="/assets/404-dark-6776bc8a.png",rD="/assets/full-logo-dark-faf49934.png",oD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVkAAABECAYAAAArzUYqAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA8tSURBVHgB7Z3tddy2EoZn77n/s6kgTAVRKjBdQTYVmKnA6wqWqkByBbu3AtsVLF2BdCsgU4GUCiacBeilKGDwQZDaj3nO4ZG9JAgCBF8OB8BgARcEIi7bPzft9ke75e2WtdtS737U27fFYvEVBEEQBDckrO1WtNu+3Z7Qj5rSgCAIgvAaLayrQGE1sdXWryAIgtAKYt5udyOFdciDCK0gCFcLvnQHTMUXEARBuCa0uG4wrdXKUYAgCMKl8wbi2lGDIAjCpfKG4tonB0EQhEviRMS1YwuCIAgJ+S+8IagsRxK2DE6DHARBEBLyJiLbimsGSlxzOC1kKJcgCEn5D8wMql78BzhNq1FEVhCEpMwusqDE9VTF7BkEQRAS8qY+2RPkEQQr2s2TW3ZXi8WiAUEQXiAi+5L/w4nSChxFFxvzBdAkEMEMlC/dxF/ttgNBEF4wmciS1XOGls0ph0C8g5F+7Pae0B+y1pt2+wZifQrC5Ezik20f5k37ZwPnxXMrOBVcPmQRr0BZpDWqSGQZCIIwCUlFFtXEgn37zxKm53O7/dwK4wLUp2oD4/gO10nRbg8osRsEYRKSiay2huYamnXbauu63Q6jAdq/O1BCO4ZrXi2BfL1k0a5BEISkJBFZ3SlDFmwG00MCWw5/TPCpL0vStH5ffS8FQUjE6I6v9qHs/HtzjH01Cqy+jgzi+dZZxWcKuU64l0QGx7XPMuChDrb3IAhCEkaJbCtsH2C+YTtWgdV8gHjO3Yp99LTk19r3SkJqeynS6hPLM3/pCMLJEO0uOCWB1aMZSoij0T7dq8DTf70CQRCSECWyOnrWDuZhSoElKrgy9JLoDXOI+GUFIRHBItuLoDUHUwss8RmuE27I2k8gCEISYnyyc8V/nUNgyZd5rfEKGjgR9IgG2rLBrsPstNT3aJDfL/rnv0EFCKpS5odqJeRc59X3gzegylZ5nKY7zws/OjdbT39tUhl/0z9R2aiMX1PN8rPUY5ePbz9BSH62uqQ8H3Weo/oSdB5duV7lMfmEJVSrxo5aZaD9feeRtnRcxwbTUMCZgPxqvQUE0qa5x8D6R7Uke5JrwLDl3WscOTMNw1bg6PLLuQ3c5dsH5JU5zlda0i4Hx330KOMeI+tSl2uL/vVYwEgwbLXqLUYsI4XH++Uq1xNONUuSTqorzZdYkS0d17HBNJzVwomYXmS58+WWNKNFFpXYfcF4gqdrt2lWOMHyRhOUj146S8t5S0uald5Pz+cew/Cuy/bYm4jzd9QYIUqo2tsDxrH1yRPj6q0jbegADLNiD4W0nIcT2dJxDRtMxxrOCEwosqgalo2aSTdKZFE9qDWOp0bPhxbTtpkXgLleaxxHjQahRbvI0hcJ1WvsS8T5HKCyjsdSY4DQJszzhsmD2vPYly+9UNPMEcDwxhMqsqUj/w2mo8YzC4qCiUQWlaXFWQc5kzZaZFEJUEprskZH43Zc72gM+W1xPLWlLDaRpXs5pl4pLSdEd5iOPXiAaQS244sljxtMxxeuPF4dX6gevAymY45Orj5XF+IPlSAV7fYR7PfydgrHPqoXGj1gnChSxwWNeOg6LqjDxtQZ1kG/U+PmZqfZRsFQHjSqZNe1Azx24myAb+uNvtZv/R/1M1I48nuEY/korw/werjcJwjDJJCVvs5/QHVI5WCve/qdm+X3D/BUOi/q7HLdM3rprfQQQiO6rdyDO0+K/dzVJaV5B6/zbcBQnzqPL47zf9N/n/V5abO1DXJHUSwV13Xbwbg3tK8lW3rknyXe0pj3M4K8JbvX98i00edMjTxkzaw8riHKkkW+/dTIW89r5FlHXCtnuXGf/KuIMtbIfDXp6+yeiZI5rkQ35DpYWsp070ibW/Jd4uv6eNLXE+o/JlhrFvm2WiPfVopB+sJy3JbJg3WfMGV7wjG6gnF+Jh+RLUHwAuOd8xzsw2K4hmCRRYf/F/06J3JHGUzCYhMV5xhvtAv7PZPG5oJJ4vtHt8j6+Fa5DjmubJ0vnep6j373bMfkZRPngklTe+a71OfJLfu5tlSCB0w9FhAD8g8Jh0tkSxC8wWlEdosBw10wTmS3oWks5+Ee2pXh+C++xxrS2to895lb48gyOq6JE1kvIUf+WX6ChCDfVlaWNHsmTQ4JQOaLI+AcNn+u0Ur3mfGVQXpcwV6EeSjabY+JxjNayC2/h8aM4I4twJ9niCdmJtyYwEW+fPU5SPufK8tusgAzSIT27dvqOhv+gO5FOisYCR77JUx4z/zUk1UeDbuMbigfkb2BtNyLwJ4cGaig3fuUDxoq32dm2V1BAPohayy73xl+s3XYZODG5j7hOoFsgpKjYyjRzHCLheaQFludmOqXq59vkAYujwrCMNWj8UXlM7ogaScRN2Ux5QNuyLeBy8UVT5buYQaqkZl6YTtyUJbt74lCHWbMvpgH57vlnIfGPbjH1M5MVqRP9Dib9VmBHSqP7SHOQC3xQ9f0P0g4tTWCR2bfW3YI58w+7ppT5UHDxiCAd5bfMxgYAyezJDimH6bVp2m3X+FyCZpTjcqHR/VteqgyvS90KJEJznKIEfGG2ZcN9u9ADU0aQpblpq2vW9NJtMVp83FyLzLqOKLhcZxQdcPE7rTg0stx7uGEDbMvg0i0gdRt3blCRPsXZl8qkeWup4CJOAmRnVhgCYn034PG8+mH3DachnrXbxNYs1yjjjk3lybr/4euvS0DidhHw7GlFgWyPht93s7KtwnsZ04MdX70YvKNUHfTHdum24Hqp2hgehpmn5fPWfs2V6DqK4c0/TbWtrJIF0D+TSx1H59sqgIamUFgP1/bxAMftOVbMYcUMJ45RdZECXYrqAA1IJ0W/6z1v20C24BHG9UdeX9CeISzApQ7YY5OsmhQB1Fp/0kjEegFUcA8EfnOiWb4g48lO5nIziCwDbhnj1wzZMnlln2/wXhSt50g0dbWJYkeCUIOcZBI/+lrTdFsJv2VUALv/x5CZaNhan9PHE4vY/YZO/bwGEM6h8uE7m0K99ijyaDzEdlYfwjXizmHwBK3YsWycMLxM0x7/gzCLb5gy1jf//eoxm0X4M9hKmzMSBidZ0H/1kPjaAHLlWfybcKOx1Be5YnHKdGZR9oGju4Xmmbr8lH3+du2A9OtOddYfqdr/DpVnfuIbAPh3HLzeGcS2N3iitbuimRqH1XD7MsgnN9C89L+Q+oAK3o/d4KQwetA2hWoUQxJHjrdBnd4DDhNYsu5BTJ9zA6m4YbZ98Kg8hDYCtTXkHG0hHZ/+LYx1ws51tjr08D0ebzCKbL6k6sC/0+FuYO9mGggjfl/6QSLViAVs4972EPTPDNfLGTBDq3I93OviKEF+yttqGY73oHduo2pG19C7rktIAqV5S8u0EsE3P3IIY0AVsy+FUwksr5rfH33PO4UBJZ4v5AlrVl6lpWN0Q1OC5/tPgR18jgmNny3pCngtZA1izdecojqpd3IV1xZDplyjbXc8rupXmwvgU+JBZaomH1/QAJ0e2wsuyfrdPQV2XuPY05FYMUP64crpF8FabBNV1wGTuX9yOzbWX43PTgZnk7Adlu/hSu8YBS6vjPL7mpwLL3UbJ/6qQXWNeU3TxW7ANRkEBNv3y6QD95QOtJucB58xyieHZguaLfPMiK24D6po3BRVKcM3Nf8gTlHzaSrHXnvUQWS2aIKTl3qjcYJU4zQHAJAFQHKOw0GRHNCPkCMcxkUdAdNvxkczwW1zjzy+8CkLy1pCiZN7Zlv175rNExlRnWPbPXABjA3nGej83nAFLNV0f6AlY50G5yHGs8wTqwvyAsjPaylY7tD/0hemeUagkVWp7t33LfCko4asitKPpfvmLXE+tBDtEE+LmyGR1G3lmlwvI3McHzpuMYt8vet5tIGXl/pKJvrnpVMWm7VjhrtEbxMC2XWGFeXdJ5lQD4EGyfXG3z9kJaO4zc4DzVOGPfgFMBpQh2aKJlriBVZU+DnIbS/e1nQC2GL7mVV2C8XDF+XzoeNJa+t4dhaXwNZV0u9kXht0F62veX8LmHo6L9wfV+smSVPzuJb99Ppcq098yvBfs9yj/QkxP0vjy0G1Cf6tcdDWn3uLo+94/g7GAu+/OQoHcducD6m7I09CXAekS0d1xAlsjptv+2koEaPLxf0F6cQ1oM8Uop5NmM5CKsfcsI8S+DvmWs1jBBIkJdgbo81psVYLt+OrwPaOU2BNU6lk4v49Na9xRfAYcbLYsIQlLrt/A7phob5DtivEuXZZ4PTuKb+mrnTlh3PDqrDO3aUDj2Tv0ME+ppuYTwVWEYadZNUIF3buE32/KCyUD849s9FCVcCnunyM4ZzkAWxwzgO1+uZD30SmnyyNSrLc63LTv7iLR4/B31Xfy0M5dpjHDU6OsyQtypXGGaVPaH//YpZxv2+l35v2F965l1gnLV5cGd45kHtJLY9EntMN/LhhYAae+FQBHYyMI3I0n0jEdmiasBB1hgmENneuTqxrdENHeP9MtDnN3WgPKD/C+UG+YevtKTLdTofoa59y4W8yGbo9/IKeqn28vY99xYH7g40t5kyMO81+vtQg8s3KKNPPl1Zc59zL8ATfO0CIBP8x8wZnNdFkM40PxN0wxnzifqcYoIG2jsYo8+Px4kG/Rf3s96C462iEnxTp9ivEeei6FymHm2Ka7B2pE1WLi1MtqFav/aWNl/CMW7tspcnPaePY9qAvvfduSHk3IN2E9VWmPpsQNXn6PbtyOdQ1knck2i3UA9LSeN8Fqz3Z45wvaDZ6o9aKBDtFuQaZgQdliwIJ4uz4wt5C7V7a3pbxCOoQHV27EAQwjkMoYJw3ll+r0AQxoJuC7XsHTvG8c/h7cQWBALtkxCCZgSivf0/wMygWLKXBwYI7CAdObr3OJ4HjHRiC9cN8uMsa70/H7Yt1NNi9X5u5lEGM4MispcFRgrs4ByZbhh79IcaNg2pyUEQIkH/GT0xlPAGoIjs2fIqniy6Rwl49ezr3s5Sn7Pz3XZ/O3702IEKtZakd1C4bnQMZBpo7hPRP4RPjsH7gsCDCSxYQTgVcNzEhz57fOOvKxRL9vwRgRUuFQybINDxdAri2iEie74chl5hIheBIJw6WjS7weY/wdGd0Oi/FEh79MB9QfiBWLCCIAgTgnwvbAmCIAhCPGj3U5UgCIIgjAPNva8lCIIgCOPBYzzFJ+06kCmsgiAIifgX/vMRChqnBTAAAAAASUVORK5CYII=",Kx=()=>{let{theme:t}=N.useContext(_c);return b.jsxs("section",{className:"h-cover relative p-10 flex flex-col items-center gap-20 text-center",children:[b.jsx("img",{src:t=="light"?nD:tD,className:"select-none border-2 border-grey w-72 aspect-square object-cover rounded"}),b.jsx("h1",{className:"text-4xl font-gelasio leading-7",children:"Page not found"}),b.jsxs("p",{className:"text-dark-grey text-xl leading-7 -mt-8",children:["The page you are looking for does not exists. Head back to the ",b.jsx(oe,{to:"/",className:"text-black underline",children:"home page"})]}),b.jsxs("div",{className:"mt-auto",children:[b.jsx("img",{src:t=="light"?rD:oD,className:"h-8 object-contain block mx-auto select-none"}),b.jsx("p",{className:"mt-5 text-dark-grey",children:"Read millions of stories around the world"})]})]})},Bv=({className:t,bio:e,social_links:n,joinedAt:r})=>b.jsxs("div",{className:"md:w-[90%] md:mt-7 "+t,children:[b.jsx("p",{className:"text-xl leading-7",children:e.length?e:"Nothing to read here"}),b.jsx("div",{className:"flex gap-x-7 gap-y-2 flex-wrap my-7 items-center text-dark-grey",children:Object.keys(n).map(o=>{let i=n[o];return i?b.jsx(oe,{to:i,target:"_blank",children:b.jsx("i",{className:"fi "+(o!="website"?"fi-brands-"+o:"fi-rr-globe")+" text-2xl hover:text-black"})},o):""})}),b.jsxs("p",{className:"text-xl leading-7 text-dark-grey",children:["Joined on ",Jj(r)]})]}),dh={personal_info:{fullname:"",username:"",bio:"",profile_img:""},account_info:{total_posts:0,total_reads:0},social_links:{},joinedAt:""},iD=()=>{let{id:t}=ti(),[e,n]=N.useState(dh),[r,o]=N.useState(!0),[i,s]=N.useState(null),[a,l]=N.useState(),{personal_info:{fullname:c,username:u,profile_img:d,bio:h},account_info:{total_posts:m,total_reads:p},social_links:v,joinedAt:E}=e,{userAuth:{username:k}}=N.useContext(Be);const g=()=>{se.post("https://blogging-website-server-kcx1.onrender.com/get-profile",{username:t}).then(({data:S})=>{S!=null&&n(S),l(t),f({user_id:S._id}),o(!1)}).catch(S=>{console.log(S),o(!1)})},f=({page:S=1,user_id:_})=>{_=_??i.user_id,se.post("https://blogging-website-server-kcx1.onrender.com/search-blogs",{author:_,page:S}).then(async({data:P})=>{let y=await qo({state:i,data:P.blogs,page:S,countRoute:"/search-blogs-count",data_to_send:{author:_}});y.user_id=_,s(y)})};N.useEffect(()=>{t!=a&&s(null),i==null&&(w(),g())},[t,i]);const w=()=>{n(dh),l(""),o(!0)};return b.jsx(Te,{children:r?b.jsx(vt,{}):u.length?b.jsxs("section",{className:"h-cover md:flex flex-row-reverse items-start gap-5 min-[1100px]:gap-12",children:[b.jsxs("div",{className:"flex flex-col max-md:items-center gap-5 min-w-[250px] md:w-[50%] md:pl-8 md:border-l border-grey md:sticky md:top-[100px] md:py-10",children:[b.jsx("img",{src:d,className:"h-48 w-48 bg-grey rounded-full md:w-32 md:h-32"}),b.jsxs("h1",{className:"text-2xl font-medium",children:["@",u]}),b.jsx("p",{className:"text-xl capitalize h-6",children:c}),b.jsxs("p",{children:[m.toLocaleString()," Blogs - ",p.toLocaleString()," Reads"]}),b.jsx("div",{className:"flex gap-4 mt-2",children:t==k?b.jsx(oe,{to:"/settings/edit-profile",className:"btn-light rounded-md",children:"Edit Profile"}):""}),b.jsx(Bv,{className:"max-md:hidden",bio:h,social_links:v,joinedAt:E})]}),b.jsx("div",{className:"max-md:mt-12 w-full",children:b.jsxs(Ec,{routes:["Blogs Published","About"],defaultHidden:["About"],children:[b.jsxs(b.Fragment,{children:[i==null?b.jsx(vt,{}):i.results.length?i.results.map((S,_)=>b.jsx(Te,{transition:{duration:1,delay:_*.1},children:b.jsx(Cc,{content:S,author:S.author.personal_info})},_)):b.jsx(Zt,{message:"No blogs published"}),b.jsx(Go,{state:i,fetchDataFun:f})]}),b.jsx(Bv,{bio:h,social_links:v,joinedAt:E})]})})]}):b.jsx(Kx,{})})},Ov=()=>{let{blog:t,blog:{_id:e,title:n,blog_id:r,activity:o,activity:{total_likes:i,total_comments:s},author:{personal_info:{username:a}}},setBlog:l,isLikedByUser:c,setIsLikedByUser:u,setCommentsWrapper:d}=N.useContext(Tc),{userAuth:{username:h,access_token:m}}=N.useContext(Be);N.useEffect(()=>{m&&se.post("https://blogging-website-server-kcx1.onrender.com/isliked-by-user",{_id:e},{headers:{Authorization:`Bearer ${m}`}}).then(({data:{result:v}})=>{u(!!v)}).catch(v=>{console.log(v)})},[]);const p=()=>{m?(u(v=>!v),c?i--:i++,l({...t,activity:{...o,total_likes:i}}),se.post("https://blogging-website-server-kcx1.onrender.com/liked-blog",{_id:e,isLikedByUser:c},{headers:{Authorization:`Bearer ${m}`}}).then(({data:v})=>{console.log(v)}).catch(v=>{console.log(v)})):W.error("Please login to like this blog")};return b.jsxs(b.Fragment,{children:[b.jsx(xr,{}),b.jsx("hr",{className:"border-grey my-2"}),b.jsxs("div",{className:"flex gap-6 justify-between",children:[b.jsxs("div",{className:"flex gap-3 items-center",children:[b.jsx("button",{onClick:p,className:"w-10 h-10 rounded-full flex items-center justify-center "+(c?"bg-red/20 text-red":"bg-grey/80"),children:b.jsx("i",{className:"fi "+(c?"fi-sr-heart":"fi-rr-heart")})}),b.jsx("p",{className:"text-xl text-dark-grey",children:i}),b.jsx("button",{onClick:()=>d(v=>!v),className:"w-10 h-10 rounded-full flex items-center justify-center bg-grey/80",children:b.jsx("i",{className:"fi fi-rr-comment-dots"})}),b.jsx("p",{className:"text-xl text-dark-grey",children:s})]}),b.jsxs("div",{className:"flex gap-6 items-center",children:[h==a?b.jsx(oe,{to:`/editor/${r}`,className:"underline hover:text-purple",children:"Edit"}):"",b.jsx(oe,{to:`https://twitter.com/intent/tweet?text=Read ${n}&usrl=${location.href}`,target:"_blank",children:b.jsx("i",{className:"fi fi-brands-twitter text-xl hover:text-twitter"})})]})]}),b.jsx("hr",{className:"border-grey my-2"})]})},sD=({url:t,caption:e})=>b.jsxs("div",{children:[b.jsx("img",{src:t}),e.length?b.jsx("p",{className:"w-full text-center my-3 md:mb-12 text-base text-dark-grey",children:e}):""]}),aD=({quote:t,caption:e})=>b.jsxs("div",{className:"bg-purple/10 p-3 pl-5 border-l-4 border-purple",children:[b.jsx("p",{className:"text-xl leading-10 md:text-2xl",children:t}),e.length?b.jsx("p",{className:"w-full text-purple",children:e}):""]}),lD=({style:t,items:e})=>b.jsx("ol",{className:`pl-5 ${t=="ordered"?" list-decimal":" list-disc"}`,children:e.map((n,r)=>b.jsx("li",{className:"my-4",dangerouslySetInnerHTML:{__html:n}},r))}),cD=({block:t})=>{let{type:e,data:n}=t;return e=="paragraph"?b.jsx("p",{dangerouslySetInnerHTML:{__html:n.text}}):e=="header"?n.level==3?b.jsx("h3",{className:"text-3xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):b.jsx("h2",{className:"text-4xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):e=="image"?b.jsx(sD,{url:n.file.url,caption:n.caption}):e=="quote"?b.jsx(aD,{quote:n.text,caption:n.caption}):e=="list"?b.jsx(lD,{style:n.style,items:n.items}):b.jsx("h1",{children:"Block"})},uD=({action:t,index:e=void 0,replyingTo:n=void 0,setReplying:r})=>{let{blog:o,blog:{_id:i,author:{_id:s},comments:a,comments:{results:l},activity:c,activity:{total_comments:u,total_parent_comments:d}},setBlog:h,setTotalParentCommentsLoaded:m}=N.useContext(Tc),{userAuth:{access_token:p,username:v,fullname:E,profile_img:k}}=N.useContext(Be);const[g,f]=N.useState(""),w=()=>{if(!p)return Ze.error("Login first to leave a comment");if(!g.length)return Ze.error("Write something to leave a comment");se.post("https://blogging-website-server-kcx1.onrender.com/add-comment",{_id:i,blog_author:s,comment:g,replying_to:n},{headers:{Authorization:`Bearer ${p}`}}).then(({data:S})=>{f(""),S.commented_by={personal_info:{username:v,profile_img:k,fullname:E}};let _;S.childrenLevel=0,_=[S,...l];let P=1;h({...o,comments:{...a,results:_},activity:{...c,total_comments:u+1,total_parent_comments:d+P}}),m(y=>y+P)}).catch(S=>{console.log(S)})};return b.jsxs(b.Fragment,{children:[b.jsx(xr,{}),b.jsx("textarea",{value:g,onChange:S=>f(S.target.value),placeholder:"Leave a comment...",className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto"}),b.jsx("button",{className:"btn-dark mt-5 px-10",onClick:w,children:t})]})},dD=({index:t,leftVal:e,commentData:n})=>{let{commented_by:{personal_info:{profile_img:r,fullname:o,username:i}},commentedAt:s,comment:a}=n;return b.jsx("div",{className:"w-full",style:{paddingLeft:`${e*10}px`},children:b.jsxs("div",{className:"my-5 p-6 rounded-md border border-grey",children:[b.jsxs("div",{className:"flex gap-3 items-center mb-8",children:[b.jsx("img",{src:r,className:"w-6 h-6 rounded-full"}),b.jsxs("p",{className:"line-clamp-1",children:[o," @",i]}),b.jsx("p",{className:"min-w-fit",children:si(s)})]}),b.jsx("p",{className:"font-gelasio text-xl ml-3",children:a})]})})},qx=async({skip:t=0,blog_id:e,setParentCommentCountFun:n,comment_array:r=null})=>{let o;return await se.post("https://blogging-website-server-kcx1.onrender.com/get-blog-comments",{blog_id:e,skip:t}).then(({data:i})=>{i.map(s=>{s.childrenLevel=0}),n(s=>s+i.length),r==null?o={results:i}:o={results:[...r,...i]}}),o},hD=()=>{let{blog:t,blog:{_id:e,title:n,comments:{results:r},activity:{total_parent_comments:o}},commentsWrapper:i,setCommentsWrapper:s,totalParentCommentsLoaded:a,setTotalParentCommentsLoaded:l,setBlog:c}=N.useContext(Tc);const u=async()=>{let d=await qx({skip:a,blog_id:e,setParentCommentCountFun:l,comment_array:r});c({...t,comments:d})};return b.jsxs("div",{className:"max-sm:w-full fixed "+(i?"top-0 sm:right-0":"top-[100%] sm:right-[-100%]")+" duration-700 max-sm:right-0 sm:top-0 w-[30%] min-w-[350px] h-full z-50 bg-white shadow-xl p-8 px-16 overflow-y-auto overflow-x-hidden",children:[b.jsxs("div",{className:"relative",children:[b.jsx("h1",{className:"text-xl font-medium",children:"Comments"}),b.jsx("p",{className:"text-lg mt-2 w-[70%] text-dark-grey line-clamp-1",children:n}),b.jsx("button",{onClick:()=>s(d=>!d),className:"absolute top-0 right-0 flex justify-center items-center w-12 h-12 rounded-full bg-grey",children:b.jsx("i",{className:"fi fi-br-cross text-2xl mt-1"})})]}),b.jsx("hr",{className:"border-grey my-8 w-[120%] -ml-10"}),b.jsx(uD,{action:"Comment"}),r&&r.length?r.map((d,h)=>b.jsx(Te,{children:b.jsx(dD,{index:h,leftVal:d.childrenLevel*4,commentData:d})},h)):b.jsx(Zt,{message:"No Comments"}),o>a?b.jsx("button",{onClick:u,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:"Load More"}):""]})},Lv={title:"",des:"",content:"",tags:[],author:{personal_info:{}},banner:"",publishedAt:""},Tc=N.createContext({}),fD=()=>{let{blog_id:t}=ti();const[e,n]=N.useState(Lv),[r,o]=N.useState(null),[i,s]=N.useState(!0),[a,l]=N.useState(!1),[c,u]=N.useState(!1),[d,h]=N.useState(0);let{title:m,content:p,banner:v,author:{personal_info:{fullname:E,username:k,profile_img:g}},publishedAt:f}=e;const w=()=>{se.post("https://blogging-website-server-kcx1.onrender.com/get-blog",{blog_id:t}).then(async({data:{blog:_}})=>{_.comments=await qx({blog_id:_._id,setParentCommentCountFun:h}),n(_),se.post("https://blogging-website-server-kcx1.onrender.com/search-blogs",{tag:_.tags[0],limit:6,eliminate_blog:t}).then(({data:P})=>{o(P.blogs)}),s(!1)}).catch(_=>{console.log(_),s(!1)})},S=()=>{n(Lv),o(null),s(!0),l(!1),u(!1),h(0)};return N.useEffect(()=>{S(),w()},[t]),b.jsx(Te,{children:i?b.jsx(vt,{}):b.jsxs(Tc.Provider,{value:{blog:e,setBlog:n,isLikedByUser:a,setIsLikedByUser:l,commentsWrapper:c,setCommentsWrapper:u,totalParentCommentsLoaded:d,setTotalParentCommentsLoaded:h},children:[b.jsx(hD,{}),b.jsxs("div",{className:"max-w-[900px] center py-10 max-lg:px-[5vw]",children:[b.jsx("img",{src:v,className:"aspect-video"}),b.jsxs("div",{className:"mt-12",children:[b.jsx("h2",{children:m}),b.jsxs("div",{className:"flex mx-sm:flex-col justify-between my-8",children:[b.jsxs("div",{className:"flex gap-5 items-start",children:[b.jsx("img",{src:g,className:"w-12 h-12 rounded-full"}),b.jsxs("p",{className:"capitalize",children:[E,b.jsx("br",{}),"@",b.jsx(oe,{to:`/user/${k}`,className:"underline",children:k})]})]}),b.jsxs("p",{className:"text-dark-grey opacity-75 max-sm:mt-6 max-sm:ml-12 max-sm:pl-5",children:["Published on ",si(f)]})]})]}),b.jsx(Ov,{}),b.jsx("div",{className:"my-12 font-gelasio blog-page-content",children:p[0].blocks.map((_,P)=>b.jsx("div",{className:"my-4 md:my-8",children:b.jsx(cD,{block:_})},P))}),b.jsx(Ov,{}),r!=null&&r.length?b.jsxs(b.Fragment,{children:[b.jsx("h1",{className:"text-2xl mt-14 mb-10 font-medium",children:"Similar Blogs"}),r.map((_,P)=>{let{author:{personal_info:y}}=_;return b.jsx(Te,{transition:{duration:1,delay:P*.08},children:b.jsx(Cc,{content:_,author:y})},P)})]}):""]})]})})},Mv=()=>{let{userAuth:{access_token:t,new_notification_available:e}}=N.useContext(Be),n=location.pathname.split("/")[2],[r,o]=N.useState(n.replace("-"," ")),[i,s]=N.useState(!1),a=N.useRef(),l=N.useRef(),c=N.useRef();const u=d=>{let{offsetWidth:h,offsetLeft:m}=d.target;a.current.style.width=h+"px",a.current.style.left=m+"px",d.target==l.current?s(!0):s(!1)};return N.useEffect(()=>{s(!1),c.current.click()},[r]),t===null?b.jsx(pf,{to:"/signin"}):b.jsx(b.Fragment,{children:b.jsxs("section",{className:"relative flex gap-10 py-0 m-0 max-md:flex-col",children:[b.jsxs("div",{className:"sticky top-[80px] z-30",children:[b.jsxs("div",{className:"md:hidden bg-white py-1 border-b border-grey flex flex-nowrap overflow-x-auto",children:[b.jsx("button",{ref:l,className:"p-5 capitalize",onClick:u,children:b.jsx("i",{className:"fi fi-rr-bars-staggered pointer-events-none"})}),b.jsx("button",{ref:c,className:"p-5 capitalize",onClick:u,children:r}),b.jsx("hr",{ref:a,className:"absolute bottom-0 duration-500"})]}),b.jsxs("div",{className:"min-w-[200px] h-[calc(100vh-80px-60px)] md:h-cover md:sticky top-24 overflow-y-auto p-6 md:pr-0 md:border-grey md:border-r absolute max-md:top-[64px] bg-white max-md:w-[calc(100%+80px)] max-md:px-16 max-md:-ml-7 duration-500 "+(i?"max-md:opacity-100 pointer-events-auto":"max-md:opacity-0 max-md:pointer-events-none"),children:[b.jsx("h1",{className:"text-xl text-dark-grey mb-3",children:"Dashboard"}),b.jsx("hr",{className:"border-grey -ml-6 mb-8 mr-6"}),b.jsxs(mi,{to:"/dashboard/blogs",onClick:d=>o(d.target.innerText),className:"sidebar-link",children:[b.jsx("i",{className:"fi fi-rr-document"}),"Blogs"]}),b.jsxs(mi,{to:"/dashboard/notifications",onClick:d=>o(d.target.innerText),className:"sidebar-link",children:[b.jsxs("div",{className:"relative",children:[b.jsx("i",{className:"fi fi-rr-bell"}),e?b.jsx("span",{className:"bg-red w-2 h-2 rounded-full absolute z-10 top-0 right-0"}):""]}),"Notifications"]}),b.jsxs(mi,{to:"/editor",onClick:d=>o(d.target.innerText),className:"sidebar-link",children:[b.jsx("i",{className:"fi fi-rr-file-edit"}),"Write"]}),b.jsx("h1",{className:"text-xl text-dark-grey mt-20 mb-3",children:"Settings"}),b.jsx("hr",{className:"border-grey -ml-6 mb-8 mr-6"}),b.jsxs(mi,{to:"/settings/edit-profile",onClick:d=>o(d.target.innerText),className:"sidebar-link",children:[b.jsx("i",{className:"fi fi-rr-user"}),"Edit Profile"]}),b.jsxs(mi,{to:"/settings/change-password",onClick:d=>o(d.target.innerText),className:"sidebar-link",children:[b.jsx("i",{className:"fi fi-rr-lock"}),"Change Password"]})]})]}),b.jsx("div",{className:"max-md:-mt-8 mt-5 w-full",children:b.jsx(ob,{})})]})})},pD=()=>{let{userAuth:{access_token:t}}=N.useContext(Be),e=N.useRef(),n=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;const r=o=>{o.preventDefault();let i=new FormData(e.current),s={};for(let[u,d]of i.entries())s[u]=d;let{currentPassword:a,newPassword:l}=s;if(!a.length||!l.length)return W.error("Fill all the inputs");if(!n.test(a)||!n.test(l))return W.error("password should be 6 to 20 character long with a numeric, 1 lowercase and 1 uppercase letters");o.target.setAttribute("disabled",!0);let c=W.loading("Updating...");se.post("https://blogging-website-server-kcx1.onrender.com/change-password",s,{headers:{Authorization:`Bearer ${t}`}}).then(()=>(W.dismiss(c),o.target.removeAttribute("disabled"),W.success("Password Updated"))).catch(({response:u})=>(W.dismiss(c),o.target.removeAttribute("disabled"),W.error(u.data.error)))};return b.jsxs(Te,{children:[b.jsx(xr,{}),b.jsxs("form",{ref:e,children:[b.jsx("h1",{className:"max-md:hidden",children:"Change Password"}),b.jsxs("div",{className:"py-10 w-full md:max-w-[400px]",children:[b.jsx(hn,{name:"currentPassword",type:"password",className:"profile-edit-input",placeholder:"Current Password",icon:"fi fi-rr-unlock"}),b.jsx(hn,{name:"newPassword",type:"password",className:"profile-edit-input",placeholder:"New Password",icon:"fi fi-rr-unlock"}),b.jsx("button",{onClick:r,className:"btn-dark px-10",type:"submit",children:"Change Password"})]})]})]})},mD=()=>{let{userAuth:t,userAuth:{access_token:e},setUserAuth:n}=N.useContext(Be),r=150,o=N.useRef(),i=N.useRef();const[s,a]=N.useState(dh),[l,c]=N.useState(!0),[u,d]=N.useState(150),[h,m]=N.useState(null);let{personal_info:{fullname:p,username:v,profile_img:E,email:k,bio:g},social_links:f}=s;N.useEffect(()=>{e&&se.post("https://blogging-website-server-kcx1.onrender.com/get-profile",{username:t.username}).then(({data:y})=>{a(y),c(!1)}).catch(y=>{console.log(y)})},[e]);const w=y=>{d(r-y.target.value.length)},S=y=>{let x=y.target.files[0];o.current.src=URL.createObjectURL(x),m(x)},_=y=>{if(y.preventDefault(),h){let x=Ze.loading("Uploading");y.target.setAttribute("disabled",!0),tp(h).then(T=>{T&&se.post("https://blogging-website-server-kcx1.onrender.com/update-profile-img",{url:T},{headers:{Authorization:`Bearer ${e}`}}).then(({data:C})=>{let A={...t,profile_img:C.profile_img};Sl("user",JSON.stringify(A)),n(A),m(null),Ze.dismiss(x),y.target.removeAttribute("disabled"),Ze.success("Uploaded Successfully...")}).catch(({response:C})=>{Ze.dismiss(x),y.target.removeAttribute("disabled"),Ze.error(C.data.error)})}).catch(T=>{console.log(T)})}},P=y=>{y.preventDefault();let x=new FormData(i.current),T={};for(let[H,z]of x.entries())T[H]=z;let{username:C,bio:A,youtube:R,facebook:O,twitter:I,github:B,instagram:D,website:L}=T;if(C.length<3)return Ze.error("Username should be atleast 3 letters long");if(C.includes(" "))return Ze.error("Username should not contain space");if(A.length>r)return Ze.error(`Bio should not be more than ${r}`);let j=Ze.loading("Updating...");y.target.setAttribute("disabled",!0),se.post("https://blogging-website-server-kcx1.onrender.com/update-profile",{username:C,bio:A,social_links:{youtube:R,facebook:O,twitter:I,github:B,instagram:D,website:L}},{headers:{Authorization:`Bearer ${e}`}}).then(({data:H})=>{if(t.username!=H.username){let z={...t,username:H.username};Sl("user",JSON.stringify(z)),n(z)}Ze.dismiss(j),y.target.removeAttribute("disabled"),Ze.success("Profile Updated Successfully...")}).catch(({response:H})=>{Ze.dismiss(j),y.target.removeAttribute("disabled"),Ze.error(H.data.error)})};return b.jsx(Te,{children:l?b.jsx(vt,{}):b.jsxs("form",{ref:i,children:[b.jsx(xr,{}),b.jsx("h1",{className:"max-md:hidden",children:"Edit Profile"}),b.jsxs("div",{className:"flex flex-col lg:flex-row items-start py-10 gap-8 lg:gap-10",children:[b.jsxs("div",{className:"max-lg:center mb-5",children:[b.jsxs("label",{htmlFor:"uploadImg",id:"profileImgLable",className:"relative block w-48 h-48 bg-grey rounded-full overflow-hidden",children:[b.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex items-center justify-center text-white bg-black/30 opacity-0 hover:opacity-100 cursor-pointer",children:"Upload Image"}),b.jsx("img",{src:E,ref:o})]}),b.jsx("input",{type:"file",id:"uploadImg",accept:".jpeg, .png, .jpg",hidden:!0,onChange:S}),b.jsx("button",{className:"btn-light mt-5 max-lg:center lg:w-full px-10",onClick:_,children:"Upload"})]}),b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-5",children:[b.jsx("div",{children:b.jsx(hn,{name:"fullname",type:"text",value:p,placeholder:"Full Name",icon:"fi fi-rr-user",disable:!0})}),b.jsx("div",{children:b.jsx(hn,{name:"email",type:"email",value:k,placeholder:"Email",icon:"fi fi-rr-envelope",disable:!0})})]}),b.jsx(hn,{type:"text",name:"username",value:v,placeholder:"Username",icon:"fi fi-rr-at"}),b.jsx("p",{className:"text-dark-grey -mt-3",children:"Username will use to search user and will be visible to all user"}),b.jsx("textarea",{name:"bio",maxLength:r,defaultValue:g,className:"input-box h-64 lg:h-40 resize-none leading-7 mt-5 pl-5",placeholder:"Bio",onChange:w}),b.jsxs("p",{className:"mt-1 text-dark-grey",children:[u," characters left"]}),b.jsx("p",{className:"my-6 text-dark-grey",children:"Add your social handles below"}),b.jsx("div",{className:"md:grid md:grid-cols-2 gap-x-6",children:Object.keys(f).map((y,x)=>{let T=f[y];return b.jsx(hn,{name:y,type:"text",value:T,placeholder:"https://",icon:"fi "+(y!="website"?"fi-brands-"+y:"fi-rr-globe")},x)})}),b.jsx("button",{className:"btn-dark w-auto px-10",type:"submit",onClick:P,children:"Update"})]})]})]})})},gD=({data:t,index:e,notificationState:n})=>{let{seen:r,type:o,createdAt:i,comment:s,user:{personal_info:{fullname:a,username:l,profile_img:c}},blog:{blog_id:u,title:d}}=t;return N.useContext(Be),b.jsxs("div",{className:"p-6 border-b border-grey border-l-black "+(r?"":"border-l-2"),children:[b.jsxs("div",{className:"flex gap-5 mb-3",children:[b.jsx("img",{src:c,className:"w-14 h-14 flex-none rounded-full"}),b.jsxs("div",{className:"w-full",children:[b.jsxs("h1",{className:"font-medium text-xl text-dark-grey",children:[b.jsx("span",{className:"lg:inline-block hidden capitalize",children:a}),b.jsxs(oe,{to:`/user/${l}`,className:"mx-1 text-black underline",children:["@",l]}),b.jsx("span",{className:"font-normal",children:o=="like"?"Liked your blog":"Commented on"})]}),b.jsx(oe,{to:`/blog/${u}`,className:"font-medium text-dark-grey hover:underline line-clamp-1",children:`"${d}"`})]})]}),o!="like"?b.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5",children:s.comment}):"",b.jsx("div",{className:"ml-14 pl-5 mt-3 text-dark-grey flex gap-8",children:b.jsx("p",{children:si(i)})})]})},vD=()=>{let{userAuth:t,userAuth:{access_token:e,new_notification_available:n},setUserAuth:r}=N.useContext(Be);const[o,i]=N.useState("all"),[s,a]=N.useState(null);let l=["all","like","comment"];const c=({page:d,deletedDocCount:h=0})=>{se.post("https://blogging-website-server-kcx1.onrender.com/notifications",{page:d,filter:o,deletedDocCount:h},{headers:{Authorization:`Bearer ${e}`}}).then(async({data:{notifications:m}})=>{n&&r({...t,new_notification_available:!1});let p=await qo({state:s,data:m,page:d,countRoute:"/all-notifications-count",data_to_send:{filter:o},user:e});a(p)}).catch(m=>{console.log(m)})};N.useEffect(()=>{e&&c({pae:1})},[e,o]);const u=d=>{let h=d.target;i(h.innerHTML),a(null)};return b.jsxs("div",{children:[b.jsx("h1",{className:"max-md:hidden",children:"Recent Notifications"}),b.jsx("div",{className:"my-8 flex gap-6",children:l.map((d,h)=>b.jsx("button",{className:"py-2 "+(o==d?"btn-dark":"btn-light"),onClick:u,children:d},h))}),s==null?b.jsx(vt,{}):b.jsxs(b.Fragment,{children:[s.results.length?s.results.map((d,h)=>b.jsx(Te,{transition:{delay:h*.08},children:b.jsx(gD,{data:d,index:h,notificationState:{notifications:s,setNotifications:a}})},h)):b.jsx(Zt,{message:"Nothing available"}),b.jsx(Go,{state:s,fetchDataFun:c,additionalParams:{deletedDocCount:s.deletedDocCount}})]})]})},jv=({stats:t})=>b.jsx("div",{className:"flex gap-2 max-lg:mb-6 max-lg:pb-4 border-grey max-lg:border-b",children:Object.keys(t).map((e,n)=>e.includes("parent")?"":b.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-center p-4 px-6 "+(n!=0?" border-grey border-l ":""),children:[b.jsx("h1",{className:"text-xl lg:text-2xl mb-2",children:t[e].toLocaleString()}),b.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:e.split("_")[1]})]},n))}),yD=({blog:t})=>{let{banner:e,blog_id:n,title:r,publishedAt:o,activity:i}=t,[s,a]=N.useState(!1),{userAuth:{access_token:l}}=N.useContext(Be);return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex gap-10 border-b mb-6 max-md:px-4 border-grey pb-6 items-center",children:[b.jsx("img",{src:e,className:"max-md:hidden lg:hidden xl:block w-28 h-28 flex-none bg-grey object-cover"}),b.jsxs("div",{className:"flex flex-col justify-between py-2 w-full min-w-[300px]",children:[b.jsxs("div",{children:[b.jsx(oe,{to:`/blog/${n}`,className:"blog-title mb-4 hover:underline",children:r}),b.jsxs("p",{className:"line-clamp-1",children:["Published on ",si(o)]})]}),b.jsxs("div",{className:"flex gap-6 mt-3",children:[b.jsx(oe,{to:`/editor/${n}`,className:"pr-4 py-2 underline",children:"Edit"}),b.jsx("button",{className:"lg:hidden pr-4 py-2 underline",onClick:()=>a(c=>!c),children:"Stats"}),b.jsx("button",{className:"pr-4 py-2 underline text-red",onClick:c=>Gx(t,l,c.target),children:"Delete"})]})]}),b.jsx("div",{className:"max-lg:hidden",children:b.jsx(jv,{stats:i})})]}),s?b.jsx("div",{className:"lg:hidden",children:b.jsx(jv,{stats:i})}):""]})},bD=({blog:t})=>{let{title:e,des:n,blog_id:r,index:o}=t,{userAuth:{access_token:i}}=N.useContext(Be);return o++,b.jsxs("div",{className:"flex gap-5 lg:gap-10 pb-6 border-b mb-6 border-grey",children:[b.jsx("h1",{className:"blog-index text-center pl-4 md:pl-6 flex-none",children:o<10?"0"+o:o}),b.jsxs("div",{children:[b.jsx("h1",{className:"blog-title mb-3",children:e}),b.jsx("p",{className:"line-clamp-2 font-gelasio",children:n.length?n:"No description"}),b.jsxs("div",{className:"flex gap-6 mt-3",children:[b.jsx(oe,{to:`/editor/${r}`,className:"pr-4 py-2 underline",children:"Edit"}),b.jsx("button",{className:"pr-4 py-2 underline text-red",onClick:s=>Gx(t,i,s.target),children:"Delete"})]})]})]})},Gx=(t,e,n)=>{let{index:r,blog_id:o,setStateFunc:i}=t;n.setAttribute("disabled",!0),se.post("https://blogging-website-server-kcx1.onrender.com/delete-blog",{blog_id:o},{headers:{Authorization:`Bearer ${e}`}}).then(({data:s})=>{n.removeAttribute("disabled"),i(a=>{let{deletedDocCount:l,totalDocs:c,results:u}=a;return u.splice(r,1),l||(l=0),!u.length&&c-1>0?null:{...a,totalDocs:c-1,deletedDocCount:l+1}})}).catch(s=>{console.log(s)})},wD=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(null),[o,i]=N.useState("");let s=xC()[0].get("tab"),{userAuth:{access_token:a}}=N.useContext(Be);const l=({page:d,draft:h,deletedDocCount:m=0})=>{se.post("https://blogging-website-server-kcx1.onrender.com/user-written-blogs",{page:d,draft:h,query:o,deletedDocCount:m},{headers:{Authorization:`Bearer ${a}`}}).then(async({data:p})=>{let v=await qo({state:h?n:t,data:p.blogs,page:d,user:a,countRoute:"/user-written-blogs-count",data_to_send:{draft:h,query:o}});h?r(v):e(v)}).catch(p=>{console.log(p)})};N.useEffect(()=>{a&&(t==null&&l({page:1,draft:!1}),n==null&&l({page:1,draft:!0}))},[a,t,n,o]);const c=d=>{let h=d.target.value;i(h),d.keyCode==13&&h.length&&(e(null),r(null))},u=d=>{d.target.value.length||(i(""),e(null),r(null))};return b.jsxs(b.Fragment,{children:[b.jsx("h1",{className:"max-md:hidden",children:"Manage Blogs"}),b.jsx(xr,{}),b.jsxs("div",{className:"relative max-md:mt-5 md:mt-8 mb-10",children:[b.jsx("input",{type:"search",className:"w-full bg-grey p-4 pl-12 pr-6 rounded-full placeholder:text-dark-grey",placeholder:"Search Blogs",onChange:u,onKeyDown:c}),b.jsx("i",{className:"fi fi-rr-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-xl text-dark-grey"})]}),b.jsxs(Ec,{routes:["Published Blogs","Drafts"],defaultActiveIndex:s!="draft"?0:1,children:[t==null?b.jsx(vt,{}):t.results.length?b.jsxs(b.Fragment,{children:[t.results.map((d,h)=>b.jsx(Te,{transition:{delay:h*.04},children:b.jsx(yD,{blog:{...d,index:h,setStateFunc:e}})},h)),b.jsx(Go,{state:t,fetchDataFun:l,additionalParams:{draft:!1,deletedDocCount:t.deletedDocCount}})]}):b.jsx(Zt,{message:"No published blogs"}),n==null?b.jsx(vt,{}):n.results.length?b.jsxs(b.Fragment,{children:[n.results.map((d,h)=>b.jsx(Te,{transition:{delay:h*.04},children:b.jsx(bD,{blog:{...d,index:h,setStateFunc:r}})},h)),b.jsx(Go,{state:n,fetchDataFun:l,additionalParams:{draft:!0,deletedDocCount:n.deletedDocCount}})]}):b.jsx(Zt,{message:"No draft blogs"})]})]})},Be=N.createContext({}),_c=N.createContext({}),xD=()=>{const[t,e]=N.useState({}),[n,r]=N.useState("light");return N.useEffect(()=>{let o=Og("user"),i=Og("theme");e(o?JSON.parse(o):{access_token:null}),i?r(()=>(document.body.setAttribute("data-theme",i),i)):document.body.setAttribute("data-theme",n)},[]),b.jsx(_c.Provider,{value:{theme:n,setTheme:r},children:b.jsx(Be.Provider,{value:{userAuth:t,setUserAuth:e},children:b.jsxs(uC,{children:[b.jsx(Oe,{path:"/editor",element:b.jsx(Nv,{})}),b.jsx(Oe,{path:"/editor/:blog_id",element:b.jsx(Nv,{})}),b.jsxs(Oe,{path:"/",element:b.jsx(rP,{}),children:[b.jsx(Oe,{index:!0,element:b.jsx(Qj,{})}),b.jsxs(Oe,{path:"dashboard",element:b.jsx(Mv,{}),children:[b.jsx(Oe,{path:"blogs",element:b.jsx(wD,{})}),b.jsx(Oe,{path:"notifications",element:b.jsx(vD,{})})]}),b.jsxs(Oe,{path:"settings",element:b.jsx(Mv,{}),children:[b.jsx(Oe,{path:"edit-profile",element:b.jsx(mD,{})}),b.jsx(Oe,{path:"change-password",element:b.jsx(pD,{})})]}),b.jsx(Oe,{path:"signin",element:b.jsx(yv,{type:"sign-in"})}),b.jsx(Oe,{path:"signup",element:b.jsx(yv,{type:"sign-up"})}),b.jsx(Oe,{path:"search/:query",element:b.jsx(eD,{})}),b.jsx(Oe,{path:"user/:id",element:b.jsx(iD,{})}),b.jsx(Oe,{path:"blog/:blog_id",element:b.jsx(fD,{})}),b.jsx(Oe,{path:"*",element:b.jsx(Kx,{})})]})]})})})};Pu.createRoot(document.getElementById("root")).render(b.jsx(vC,{children:b.jsx(xD,{})}));
